"use strict";(self.webpackChunkblog_app=self.webpackChunkblog_app||[]).push([[179],{2011:(It,ke,L)=>{L.d(ke,{Dh:()=>xe,GT:()=>re,cc:()=>Se,hO:()=>Ge,on:()=>z,pX:()=>ue,xv:()=>_e});var u=L(4650),te=L(9260),O=L(4976);It=L.hmd(It);const le=["ngOnDestroy"],ue=(Oe,Fe,$e,Le={})=>new Proxy(Oe,{get:(Ce,Te)=>$e.runOutsideAngular(()=>{var Ze;if(Oe[Te])return!(null===(Ze=Le?.spy)||void 0===Ze)&&Ze.get&&Le.spy.get(Te,Oe[Te]),Oe[Te];if(le.indexOf(Te)>-1)return()=>{};const Ve=Fe.toPromise().then(lt=>{const ae=lt&&lt[Te];return"function"==typeof ae?ae.bind(lt):ae&&ae.then?ae.then(Mt=>$e.run(()=>Mt)):$e.run(()=>ae)});return new Proxy(()=>{},{get:(lt,ae)=>Ve[ae],apply:(lt,ae,Mt)=>Ve.then(ot=>{var Kt;const ft=ot&&ot(...Mt);return!(null===(Kt=Le?.spy)||void 0===Kt)&&Kt.apply&&Le.spy.apply(Te,Mt,ft),ft})})})}),re=(Oe,Fe)=>{Fe.forEach($e=>{Object.getOwnPropertyNames($e.prototype||$e).forEach(Le=>{Object.defineProperty(Oe.prototype,Le,Object.getOwnPropertyDescriptor($e.prototype||$e,Le))})})};class we{constructor(Fe){return Fe}}const xe=new u.OlP("angularfire2.app.options"),_e=new u.OlP("angularfire2.app.name");function z(Oe,Fe,$e){const Ce="object"==typeof $e&&$e||{};Ce.name=Ce.name||"string"==typeof $e&&$e||"[DEFAULT]";const Ze=te.Z.apps.filter(Ve=>Ve&&Ve.name===Ce.name)[0]||Fe.runOutsideAngular(()=>te.Z.initializeApp(Oe,Ce));try{JSON.stringify(Oe)!==JSON.stringify(Ze.options)&&$("error",`${Ze.name} Firebase App already initialized with different options${It.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new we(Ze)}const $=(Oe,...Fe)=>{(0,u.X6Q)()&&typeof console<"u"&&console[Oe](...Fe)},Y={provide:we,useFactory:z,deps:[xe,u.R0b,[new u.FiY,_e]]};let Ge=(()=>{class Oe{constructor($e){te.Z.registerVersion("angularfire",O.q4.full,"core"),te.Z.registerVersion("angularfire",O.q4.full,"app-compat"),te.Z.registerVersion("angular",u.q4F.full,$e.toString())}static initializeApp($e,Le){return{ngModule:Oe,providers:[{provide:xe,useValue:$e},{provide:_e,useValue:Le}]}}}return Oe.\u0275fac=function($e){return new($e||Oe)(u.LFG(u.Lbi))},Oe.\u0275mod=u.oAB({type:Oe}),Oe.\u0275inj=u.cJS({providers:[Y]}),Oe})();function Se(Oe,Fe,$e,Le,Ce){const[,Te,Ze]=globalThis.\u0275AngularfireInstanceCache.find(Ve=>Ve[0]===Oe)||[];if(Te)return function Xe(Oe,Fe){try{return Oe.toString()===Fe.toString()}catch{return Oe===Fe}}(Ce,Ze)||(ye("error",`${Fe} was already initialized on the ${$e} Firebase App with different settings.${ht?" You may need to reload as Firebase is not HMR aware.":""}`),ye("warn",{is:Ce,was:Ze})),Te;{const Ve=Le();return globalThis.\u0275AngularfireInstanceCache.push([Oe,Ve,Ce]),Ve}}const ht=!!It.hot,ye=(Oe,...Fe)=>{(0,u.X6Q)()&&typeof console<"u"&&console[Oe](...Fe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4976:(It,ke,L)=>{L.d(ke,{q4:()=>zr,iC:()=>Ki,fc:()=>Lh,HU:()=>Tt,vb:()=>Gl,JM:()=>zl});var u=L(4650),te=L(259),O=L(5861),le=L(6881),ue=L(2090),re=L(4859),we=L(1877);const xe=(E,x)=>x.some(S=>E instanceof S);let _e,z;const Ge=new WeakMap,Se=new WeakMap,Xe=new WeakMap,ht=new WeakMap,ye=new WeakMap;let $e={get(E,x,S){if(E instanceof IDBTransaction){if("done"===x)return Se.get(E);if("objectStoreNames"===x)return E.objectStoreNames||Xe.get(E);if("store"===x)return S.objectStoreNames[1]?void 0:S.objectStore(S.objectStoreNames[0])}return Ze(E[x])},set:(E,x,S)=>(E[x]=S,!0),has:(E,x)=>E instanceof IDBTransaction&&("done"===x||"store"===x)||x in E};function Te(E){return"function"==typeof E?function Ce(E){return E!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Y(){return z||(z=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(E)?function(...x){return E.apply(Ve(this),x),Ze(Ge.get(this))}:function(...x){return Ze(E.apply(Ve(this),x))}:function(x,...S){const N=E.call(Ve(this),x,...S);return Xe.set(N,x.sort?x.sort():[x]),Ze(N)}}(E):(E instanceof IDBTransaction&&function Fe(E){if(Se.has(E))return;const x=new Promise((S,N)=>{const G=()=>{E.removeEventListener("complete",Q),E.removeEventListener("error",se),E.removeEventListener("abort",se)},Q=()=>{S(),G()},se=()=>{N(E.error||new DOMException("AbortError","AbortError")),G()};E.addEventListener("complete",Q),E.addEventListener("error",se),E.addEventListener("abort",se)});Se.set(E,x)}(E),xe(E,function $(){return _e||(_e=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(E,$e):E)}function Ze(E){if(E instanceof IDBRequest)return function Oe(E){const x=new Promise((S,N)=>{const G=()=>{E.removeEventListener("success",Q),E.removeEventListener("error",se)},Q=()=>{S(Ze(E.result)),G()},se=()=>{N(E.error),G()};E.addEventListener("success",Q),E.addEventListener("error",se)});return x.then(S=>{S instanceof IDBCursor&&Ge.set(S,E)}).catch(()=>{}),ye.set(x,E),x}(E);if(ht.has(E))return ht.get(E);const x=Te(E);return x!==E&&(ht.set(E,x),ye.set(x,E)),x}const Ve=E=>ye.get(E),Mt=["get","getKey","getAll","getAllKeys","count"],ot=["put","add","delete","clear"],Kt=new Map;function ft(E,x){if(!(E instanceof IDBDatabase)||x in E||"string"!=typeof x)return;if(Kt.get(x))return Kt.get(x);const S=x.replace(/FromIndex$/,""),N=x!==S,G=ot.includes(S);if(!(S in(N?IDBIndex:IDBObjectStore).prototype)||!G&&!Mt.includes(S))return;const Q=function(){var se=(0,O.Z)(function*(Ke,...qe){const pt=this.transaction(Ke,G?"readwrite":"readonly");let Pt=pt.store;return N&&(Pt=Pt.index(qe.shift())),(yield Promise.all([Pt[S](...qe),G&&pt.done]))[0]});return function(qe){return se.apply(this,arguments)}}();return Kt.set(x,Q),Q}!function Le(E){$e=E($e)}(E=>({...E,get:(x,S,N)=>ft(x,S)||E.get(x,S,N),has:(x,S)=>!!ft(x,S)||E.has(x,S)}));const Qo="@firebase/installations",ui="0.6.4",Ds=1e4,io=`w:${ui}`,he="FIS_v2",pe="https://firebaseinstallations.googleapis.com/v1",ve=36e5,mt=new ue.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function gt(E){return E instanceof ue.ZR&&E.code.includes("request-failed")}function Tn({projectId:E}){return`${pe}/projects/${E}/installations`}function vt(E){return{token:E.token,requestStatus:2,expiresIn:Yr(E.expiresIn),creationTime:Date.now()}}function Jt(E,x){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,O.Z)(function*(E,x){const N=(yield x.json()).error;return mt.create("request-failed",{requestName:E,serverCode:N.code,serverMessage:N.message,serverStatus:N.status})})).apply(this,arguments)}function In({apiKey:E}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E})}function vr(E){return Un.apply(this,arguments)}function Un(){return(Un=(0,O.Z)(function*(E){const x=yield E();return x.status>=500&&x.status<600?E():x})).apply(this,arguments)}function Yr(E){return Number(E.replace("s","000"))}function bt(){return(bt=(0,O.Z)(function*({appConfig:E,heartbeatServiceProvider:x},{fid:S}){const N=Tn(E),G=In(E),Q=x.getImmediate({optional:!0});if(Q){const pt=yield Q.getHeartbeatsHeader();pt&&G.append("x-firebase-client",pt)}const Ke={method:"POST",headers:G,body:JSON.stringify({fid:S,authVersion:he,appId:E.appId,sdkVersion:io})},qe=yield vr(()=>fetch(N,Ke));if(qe.ok){const pt=yield qe.json();return{fid:pt.fid||S,registrationStatus:2,refreshToken:pt.refreshToken,authToken:vt(pt.authToken)}}throw yield Jt("Create Installation",qe)})).apply(this,arguments)}function hi(E){return new Promise(x=>{setTimeout(x,E)})}const Rr=/^[cdef][\w-]{21}$/,Qr="";function oo(){try{const E=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(E),E[0]=112+E[0]%16;const S=function sn(E){return function Ou(E){return btoa(String.fromCharCode(...E)).replace(/\+/g,"-").replace(/\//g,"_")}(E).substr(0,22)}(E);return Rr.test(S)?S:Qr}catch{return Qr}}function ln(E){return`${E.appName}!${E.appId}`}const ut=new Map;function Bt(E,x){const S=ln(E);br(S,x),function Xr(E,x){const S=function pi(){return!Fn&&"BroadcastChannel"in self&&(Fn=new BroadcastChannel("[Firebase] FID Change"),Fn.onmessage=E=>{br(E.data.key,E.data.fid)}),Fn}();S&&S.postMessage({key:E,fid:x}),function yn(){0===ut.size&&Fn&&(Fn.close(),Fn=null)}()}(S,x)}function br(E,x){const S=ut.get(E);if(S)for(const N of S)N(x)}let Fn=null;const Xo="firebase-installations-database",en=1,so="firebase-installations-store";let un=null;function Ti(){return un||(un=function lt(E,x,{blocked:S,upgrade:N,blocking:G,terminated:Q}={}){const se=indexedDB.open(E,x),Ke=Ze(se);return N&&se.addEventListener("upgradeneeded",qe=>{N(Ze(se.result),qe.oldVersion,qe.newVersion,Ze(se.transaction))}),S&&se.addEventListener("blocked",()=>S()),Ke.then(qe=>{Q&&qe.addEventListener("close",()=>Q()),G&&qe.addEventListener("versionchange",()=>G())}).catch(()=>{}),Ke}(Xo,en,{upgrade:(E,x)=>{0===x&&E.createObjectStore(so)}})),un}function jn(E,x){return tr.apply(this,arguments)}function tr(){return(tr=(0,O.Z)(function*(E,x){const S=ln(E),G=(yield Ti()).transaction(so,"readwrite"),Q=G.objectStore(so),se=yield Q.get(S);return yield Q.put(x,S),yield G.done,(!se||se.fid!==x.fid)&&Bt(E,x.fid),x})).apply(this,arguments)}function ji(E){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,O.Z)(function*(E){const x=ln(E),N=(yield Ti()).transaction(so,"readwrite");yield N.objectStore(so).delete(x),yield N.done})).apply(this,arguments)}function Hi(E,x){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,O.Z)(function*(E,x){const S=ln(E),G=(yield Ti()).transaction(so,"readwrite"),Q=G.objectStore(so),se=yield Q.get(S),Ke=x(se);return void 0===Ke?yield Q.delete(S):yield Q.put(Ke,S),yield G.done,Ke&&(!se||se.fid!==Ke.fid)&&Bt(E,Ke.fid),Ke})).apply(this,arguments)}function H(E){return V.apply(this,arguments)}function V(){return V=(0,O.Z)(function*(E){let x;const S=yield Hi(E.appConfig,N=>{const G=function K(E){return Mn(E||{fid:oo(),registrationStatus:0})}(N),Q=function Ee(E,x){if(0===x.registrationStatus){if(!navigator.onLine)return{installationEntry:x,registrationPromise:Promise.reject(mt.create("app-offline"))};const S={fid:x.fid,registrationStatus:1,registrationTime:Date.now()},N=function ne(E,x){return Ue.apply(this,arguments)}(E,S);return{installationEntry:S,registrationPromise:N}}return 1===x.registrationStatus?{installationEntry:x,registrationPromise:Rt(E)}:{installationEntry:x}}(E,G);return x=Q.registrationPromise,Q.installationEntry});return S.fid===Qr?{installationEntry:yield x}:{installationEntry:S,registrationPromise:x}}),V.apply(this,arguments)}function Ue(){return Ue=(0,O.Z)(function*(E,x){try{const S=yield function Br(E,x){return bt.apply(this,arguments)}(E,x);return jn(E.appConfig,S)}catch(S){throw gt(S)&&409===S.customData.serverCode?yield ji(E.appConfig):yield jn(E.appConfig,{fid:x.fid,registrationStatus:0}),S}}),Ue.apply(this,arguments)}function Rt(E){return nn.apply(this,arguments)}function nn(){return(nn=(0,O.Z)(function*(E){let x=yield Wn(E.appConfig);for(;1===x.registrationStatus;)yield hi(100),x=yield Wn(E.appConfig);if(0===x.registrationStatus){const{installationEntry:S,registrationPromise:N}=yield H(E);return N||S}return x})).apply(this,arguments)}function Wn(E){return Hi(E,x=>{if(!x)throw mt.create("installation-not-found");return Mn(x)})}function Mn(E){return function pn(E){return 1===E.registrationStatus&&E.registrationTime+Ds<Date.now()}(E)?{fid:E.fid,registrationStatus:0}:E}function Vr(){return(Vr=(0,O.Z)(function*({appConfig:E,heartbeatServiceProvider:x},S){const N=function $i(E,{fid:x}){return`${Tn(E)}/${x}/authTokens:generate`}(E,S),G=function qn(E,{refreshToken:x}){const S=In(E);return S.append("Authorization",function di(E){return`${he} ${E}`}(x)),S}(E,S),Q=x.getImmediate({optional:!0});if(Q){const pt=yield Q.getHeartbeatsHeader();pt&&G.append("x-firebase-client",pt)}const Ke={method:"POST",headers:G,body:JSON.stringify({installation:{sdkVersion:io,appId:E.appId}})},qe=yield vr(()=>fetch(N,Ke));if(qe.ok)return vt(yield qe.json());throw yield Jt("Generate Auth Token",qe)})).apply(this,arguments)}function ao(E){return nc.apply(this,arguments)}function nc(){return nc=(0,O.Z)(function*(E,x=!1){let S;const N=yield Hi(E.appConfig,Q=>{if(!Zt(Q))throw mt.create("not-registered");const se=Q.authToken;if(!x&&function wt(E){return 2===E.requestStatus&&!function an(E){const x=Date.now();return x<E.creationTime||E.creationTime+E.expiresIn<x+ve}(E)}(se))return Q;if(1===se.requestStatus)return S=function me(E,x){return ie.apply(this,arguments)}(E,x),Q;{if(!navigator.onLine)throw mt.create("app-offline");const Ke=function rn(E){const x={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},E),{authToken:x})}(Q);return S=function yt(E,x){return At.apply(this,arguments)}(E,Ke),Ke}});return S?yield S:N.authToken}),nc.apply(this,arguments)}function ie(){return(ie=(0,O.Z)(function*(E,x){let S=yield Be(E.appConfig);for(;1===S.authToken.requestStatus;)yield hi(100),S=yield Be(E.appConfig);const N=S.authToken;return 0===N.requestStatus?ao(E,x):N})).apply(this,arguments)}function Be(E){return Hi(E,x=>{if(!Zt(x))throw mt.create("not-registered");return function wr(E){return 1===E.requestStatus&&E.requestTime+Ds<Date.now()}(x.authToken)?Object.assign(Object.assign({},x),{authToken:{requestStatus:0}}):x})}function At(){return At=(0,O.Z)(function*(E,x){try{const S=yield function Xt(E,x){return Vr.apply(this,arguments)}(E,x),N=Object.assign(Object.assign({},x),{authToken:S});return yield jn(E.appConfig,N),S}catch(S){if(!gt(S)||401!==S.customData.serverCode&&404!==S.customData.serverCode){const N=Object.assign(Object.assign({},x),{authToken:{requestStatus:0}});yield jn(E.appConfig,N)}else yield ji(E.appConfig);throw S}}),At.apply(this,arguments)}function Zt(E){return void 0!==E&&2===E.registrationStatus}function ol(){return(ol=(0,O.Z)(function*(E){const x=E,{installationEntry:S,registrationPromise:N}=yield H(x);return N?N.catch(console.error):ao(x).catch(console.error),S.fid})).apply(this,arguments)}function _a(){return _a=(0,O.Z)(function*(E,x=!1){const S=E;return yield function Di(E){return Je.apply(this,arguments)}(S),(yield ao(S,x)).token}),_a.apply(this,arguments)}function Je(){return(Je=(0,O.Z)(function*(E){const{registrationPromise:x}=yield H(E);x&&(yield x)})).apply(this,arguments)}function co(E){return mt.create("missing-app-config-values",{valueName:E})}const Wt="installations",As=E=>{const x=E.getProvider("app").getImmediate(),S=function rc(E){if(!E||!E.options)throw co("App Configuration");if(!E.name)throw co("App Name");const x=["projectId","apiKey","appId"];for(const S of x)if(!E.options[S])throw co(S);return{appName:E.name,projectId:E.options.projectId,apiKey:E.options.apiKey,appId:E.options.appId}}(x);return{app:x,appConfig:S,heartbeatServiceProvider:(0,le._getProvider)(x,"heartbeat"),_delete:()=>Promise.resolve()}},lo=E=>{const x=E.getProvider("app").getImmediate(),S=(0,le._getProvider)(x,Wt).getImmediate();return{getId:()=>function nr(E){return ol.apply(this,arguments)}(S),getToken:G=>function Ip(E){return _a.apply(this,arguments)}(S,G)}};(function Jo(){(0,le._registerComponent)(new re.wA(Wt,As,"PUBLIC")),(0,le._registerComponent)(new re.wA("installations-internal",lo,"PRIVATE"))})(),(0,le.registerVersion)(Qo,ui),(0,le.registerVersion)(Qo,ui,"esm2017");const Zn="@firebase/remote-config",dr=new ue.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ao{constructor(x,S,N,G){this.client=x,this.storage=S,this.storageCache=N,this.logger=G}isCachedDataFresh(x,S){if(!S)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const N=Date.now()-S,G=N<=x;return this.logger.debug(`Config fetch cache check. Cache age millis: ${N}. Cache max age millis (minimumFetchIntervalMillis setting): ${x}. Is cache hit: ${G}.`),G}fetch(x){var S=this;return(0,O.Z)(function*(){const[N,G]=yield Promise.all([S.storage.getLastSuccessfulFetchTimestampMillis(),S.storage.getLastSuccessfulFetchResponse()]);if(G&&S.isCachedDataFresh(x.cacheMaxAgeMillis,N))return G;x.eTag=G&&G.eTag;const Q=yield S.client.fetch(x),se=[S.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Q.status&&se.push(S.storage.setLastSuccessfulFetchResponse(Q)),yield Promise.all(se),Q})()}}function Vg(E=navigator){return E.languages&&E.languages[0]||E.language}class Bu{constructor(x,S,N,G,Q,se){this.firebaseInstallations=x,this.sdkVersion=S,this.namespace=N,this.projectId=G,this.apiKey=Q,this.appId=se}fetch(x){var S=this;return(0,O.Z)(function*(){const[N,G]=yield Promise.all([S.firebaseInstallations.getId(),S.firebaseInstallations.getToken()]),se=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${S.projectId}/namespaces/${S.namespace}:fetch?key=${S.apiKey}`,Ke={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":x.eTag||"*"},qe={sdk_version:S.sdkVersion,app_instance_id:N,app_instance_id_token:G,app_id:S.appId,language_code:Vg()},pt={method:"POST",headers:Ke,body:JSON.stringify(qe)},Pt=fetch(se,pt),Nt=new Promise((Tr,Yi)=>{x.signal.addEventListener(()=>{const hs=new Error("The operation was aborted.");hs.name="AbortError",Yi(hs)})});let Gr;try{yield Promise.race([Pt,Nt]),Gr=yield Pt}catch(Tr){let Yi="fetch-client-network";throw"AbortError"===Tr?.name&&(Yi="fetch-timeout"),dr.create(Yi,{originalErrorMessage:Tr?.message})}let bn=Gr.status;const jt=Gr.headers.get("ETag")||void 0;let ds,Js;if(200===Gr.status){let Tr;try{Tr=yield Gr.json()}catch(Yi){throw dr.create("fetch-client-parse",{originalErrorMessage:Yi?.message})}ds=Tr.entries,Js=Tr.state}if("INSTANCE_STATE_UNSPECIFIED"===Js?bn=500:"NO_CHANGE"===Js?bn=304:("NO_TEMPLATE"===Js||"EMPTY_CONFIG"===Js)&&(ds={}),304!==bn&&200!==bn)throw dr.create("fetch-status",{httpStatus:bn});return{status:bn,eTag:jt,config:ds}})()}}class jg{constructor(x,S){this.client=x,this.storage=S}fetch(x){var S=this;return(0,O.Z)(function*(){const N=(yield S.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return S.attemptFetch(x,N)})()}attemptFetch(x,{throttleEndTimeMillis:S,backoffCount:N}){var G=this;return(0,O.Z)(function*(){yield function Ug(E,x){return new Promise((S,N)=>{const G=Math.max(x-Date.now(),0),Q=setTimeout(S,G);E.addEventListener(()=>{clearTimeout(Q),N(dr.create("fetch-throttle",{throttleEndTimeMillis:x}))})})}(x.signal,S);try{const Q=yield G.client.fetch(x);return yield G.storage.deleteThrottleMetadata(),Q}catch(Q){if(!function hh(E){if(!(E instanceof ue.ZR&&E.customData))return!1;const x=Number(E.customData.httpStatus);return 429===x||500===x||503===x||504===x}(Q))throw Q;const se={throttleEndTimeMillis:Date.now()+(0,ue.$s)(N),backoffCount:N+1};return yield G.storage.setThrottleMetadata(se),G.attemptFetch(x,se)}})()}}class rv{constructor(x,S,N,G,Q){this.app=x,this._client=S,this._storageCache=N,this._storage=G,this._logger=Q,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ll(E,x){const S=E.target.error||void 0;return dr.create(x,{originalErrorMessage:S&&S?.message})}const Ur="app_namespace_store";class iv{constructor(x,S,N,G=function wa(){return new Promise((E,x)=>{try{const S=indexedDB.open("firebase_remote_config",1);S.onerror=N=>{x(ll(N,"storage-open"))},S.onsuccess=N=>{E(N.target.result)},S.onupgradeneeded=N=>{0===N.oldVersion&&N.target.result.createObjectStore(Ur,{keyPath:"compositeKey"})}}catch(S){x(dr.create("storage-open",{originalErrorMessage:S?.message}))}})}()){this.appId=x,this.appName=S,this.namespace=N,this.openDbPromise=G}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(x){return this.set("last_fetch_status",x)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(x){return this.set("last_successful_fetch_timestamp_millis",x)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(x){return this.set("last_successful_fetch_response",x)}getActiveConfig(){return this.get("active_config")}setActiveConfig(x){return this.set("active_config",x)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(x){return this.set("active_config_etag",x)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(x){return this.set("throttle_metadata",x)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(x){var S=this;return(0,O.Z)(function*(){const N=yield S.openDbPromise;return new Promise((G,Q)=>{const Ke=N.transaction([Ur],"readonly").objectStore(Ur),qe=S.createCompositeKey(x);try{const pt=Ke.get(qe);pt.onerror=Pt=>{Q(ll(Pt,"storage-get"))},pt.onsuccess=Pt=>{const Nt=Pt.target.result;G(Nt?Nt.value:void 0)}}catch(pt){Q(dr.create("storage-get",{originalErrorMessage:pt?.message}))}})})()}set(x,S){var N=this;return(0,O.Z)(function*(){const G=yield N.openDbPromise;return new Promise((Q,se)=>{const qe=G.transaction([Ur],"readwrite").objectStore(Ur),pt=N.createCompositeKey(x);try{const Pt=qe.put({compositeKey:pt,value:S});Pt.onerror=Nt=>{se(ll(Nt,"storage-set"))},Pt.onsuccess=()=>{Q()}}catch(Pt){se(dr.create("storage-set",{originalErrorMessage:Pt?.message}))}})})()}delete(x){var S=this;return(0,O.Z)(function*(){const N=yield S.openDbPromise;return new Promise((G,Q)=>{const Ke=N.transaction([Ur],"readwrite").objectStore(Ur),qe=S.createCompositeKey(x);try{const pt=Ke.delete(qe);pt.onerror=Pt=>{Q(ll(Pt,"storage-delete"))},pt.onsuccess=()=>{G()}}catch(pt){Q(dr.create("storage-delete",{originalErrorMessage:pt?.message}))}})})()}createCompositeKey(x){return[this.appId,this.appName,this.namespace,x].join()}}class mh{constructor(x){this.storage=x}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var x=this;return(0,O.Z)(function*(){const S=x.storage.getLastFetchStatus(),N=x.storage.getLastSuccessfulFetchTimestampMillis(),G=x.storage.getActiveConfig(),Q=yield S;Q&&(x.lastFetchStatus=Q);const se=yield N;se&&(x.lastSuccessfulFetchTimestampMillis=se);const Ke=yield G;Ke&&(x.activeConfig=Ke)})()}setLastFetchStatus(x){return this.lastFetchStatus=x,this.storage.setLastFetchStatus(x)}setLastSuccessfulFetchTimestampMillis(x){return this.lastSuccessfulFetchTimestampMillis=x,this.storage.setLastSuccessfulFetchTimestampMillis(x)}setActiveConfig(x){return this.activeConfig=x,this.storage.setActiveConfig(x)}}function Vu(){return ac.apply(this,arguments)}function ac(){return(ac=(0,O.Z)(function*(){if(!(0,ue.hl)())return!1;try{return yield(0,ue.eu)()}catch{return!1}})).apply(this,arguments)}!function So(){(0,le._registerComponent)(new re.wA("remote-config",function E(x,{instanceIdentifier:S}){const N=x.getProvider("app").getImmediate(),G=x.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw dr.create("registration-window");if(!(0,ue.hl)())throw dr.create("indexed-db-unavailable");const{projectId:Q,apiKey:se,appId:Ke}=N.options;if(!Q)throw dr.create("registration-project-id");if(!se)throw dr.create("registration-api-key");if(!Ke)throw dr.create("registration-app-id");const qe=new iv(Ke,N.name,S=S||"firebase"),pt=new mh(qe),Pt=new we.Yd(Zn);Pt.logLevel=we.in.ERROR;const Nt=new Bu(G,le.SDK_VERSION,S,Q,se,Ke),Gr=new jg(Nt,qe),bn=new Ao(Gr,qe,pt,Pt),jt=new rv(N,bn,pt,qe,Pt);return function gi(E){const x=(0,ue.m9)(E);x._initializePromise||(x._initializePromise=x._storageCache.loadFromStorage().then(()=>{x._isInitializationComplete=!0}))}(jt),jt},"PUBLIC").setMultipleInstances(!0)),(0,le.registerVersion)(Zn,"0.4.4"),(0,le.registerVersion)(Zn,"0.4.4","esm2017")}();const gh=(E,x)=>x.some(S=>E instanceof S);let Uu,ts;const dl=new WeakMap,ns=new WeakMap,ti=new WeakMap,jr=new WeakMap,cc=new WeakMap;let Mo={get(E,x,S){if(E instanceof IDBTransaction){if("done"===x)return ns.get(E);if("objectStoreNames"===x)return E.objectStoreNames||ti.get(E);if("store"===x)return S.objectStoreNames[1]?void 0:S.objectStore(S.objectStoreNames[0])}return Hr(E[x])},set:(E,x,S)=>(E[x]=S,!0),has:(E,x)=>E instanceof IDBTransaction&&("done"===x||"store"===x)||x in E};function yh(E){return"function"==typeof E?function _h(E){return E!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ul(){return ts||(ts=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(E)?function(...x){return E.apply(hr(this),x),Hr(dl.get(this))}:function(...x){return Hr(E.apply(hr(this),x))}:function(x,...S){const N=E.call(hr(this),x,...S);return ti.set(N,x.sort?x.sort():[x]),Hr(N)}}(E):(E instanceof IDBTransaction&&function Ea(E){if(ns.has(E))return;const x=new Promise((S,N)=>{const G=()=>{E.removeEventListener("complete",Q),E.removeEventListener("error",se),E.removeEventListener("abort",se)},Q=()=>{S(),G()},se=()=>{N(E.error||new DOMException("AbortError","AbortError")),G()};E.addEventListener("complete",Q),E.addEventListener("error",se),E.addEventListener("abort",se)});ns.set(E,x)}(E),gh(E,function Tp(){return Uu||(Uu=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(E,Mo):E)}function Hr(E){if(E instanceof IDBRequest)return function Ir(E){const x=new Promise((S,N)=>{const G=()=>{E.removeEventListener("success",Q),E.removeEventListener("error",se)},Q=()=>{S(Hr(E.result)),G()},se=()=>{N(E.error),G()};E.addEventListener("success",Q),E.addEventListener("error",se)});return x.then(S=>{S instanceof IDBCursor&&dl.set(S,E)}).catch(()=>{}),cc.set(x,E),x}(E);if(jr.has(E))return jr.get(E);const x=yh(E);return x!==E&&(jr.set(E,x),cc.set(x,E)),x}const hr=E=>cc.get(E);function hl(E,x,{blocked:S,upgrade:N,blocking:G,terminated:Q}={}){const se=indexedDB.open(E,x),Ke=Hr(se);return N&&se.addEventListener("upgradeneeded",qe=>{N(Hr(se.result),qe.oldVersion,qe.newVersion,Hr(se.transaction))}),S&&se.addEventListener("blocked",()=>S()),Ke.then(qe=>{Q&&qe.addEventListener("close",()=>Q()),G&&qe.addEventListener("versionchange",()=>G())}).catch(()=>{}),Ke}function Ro(E,{blocked:x}={}){const S=indexedDB.deleteDatabase(E);return x&&S.addEventListener("blocked",()=>x()),Hr(S).then(()=>{})}const ju=["get","getKey","getAll","getAllKeys","count"],rs=["put","add","delete","clear"],Ia=new Map;function lc(E,x){if(!(E instanceof IDBDatabase)||x in E||"string"!=typeof x)return;if(Ia.get(x))return Ia.get(x);const S=x.replace(/FromIndex$/,""),N=x!==S,G=rs.includes(S);if(!(S in(N?IDBIndex:IDBObjectStore).prototype)||!G&&!ju.includes(S))return;const Q=function(){var se=(0,O.Z)(function*(Ke,...qe){const pt=this.transaction(Ke,G?"readwrite":"readonly");let Pt=pt.store;return N&&(Pt=Pt.index(qe.shift())),(yield Promise.all([Pt[S](...qe),G&&pt.done]))[0]});return function(qe){return se.apply(this,arguments)}}();return Ia.set(x,Q),Q}!function xr(E){Mo=E(Mo)}(E=>({...E,get:(x,S,N)=>lc(x,S)||E.get(x,S,N),has:(x,S)=>!!lc(x,S)||E.has(x,S)}));const Vt="/firebase-messaging-sw.js",uc="/firebase-cloud-messaging-push-scope",vh="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",bh="https://fcmregistrations.googleapis.com/v1",fl="google.c.a.c_id",wh="google.c.a.c_l",pl="google.c.a.ts",Hg="google.c.a.e";var ge=(()=>{return(E=ge||(ge={})).PUSH_RECEIVED="push-received",E.NOTIFICATION_CLICKED="notification-clicked",ge;var E})();function $t(E){const x=new Uint8Array(E);return btoa(String.fromCharCode(...x)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function dc(E){const S=(E+"=".repeat((4-E.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),N=atob(S),G=new Uint8Array(N.length);for(let Q=0;Q<N.length;++Q)G[Q]=N.charCodeAt(Q);return G}const hc="fcm_token_details_db",fr=5,ks="fcm_token_object_Store";function ni(){return ni=(0,O.Z)(function*(E){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Q=>Q.name).includes(hc))return null;let x=null;return(yield hl(hc,fr,{upgrade:(N=(0,O.Z)(function*(G,Q,se,Ke){var qe;if(Q<2||!G.objectStoreNames.contains(ks))return;const pt=Ke.objectStore(ks),Pt=yield pt.index("fcmSenderId").get(E);if(yield pt.clear(),Pt)if(2===Q){const Nt=Pt;if(!Nt.auth||!Nt.p256dh||!Nt.endpoint)return;x={token:Nt.fcmToken,createTime:null!==(qe=Nt.createTime)&&void 0!==qe?qe:Date.now(),subscriptionOptions:{auth:Nt.auth,p256dh:Nt.p256dh,endpoint:Nt.endpoint,swScope:Nt.swScope,vapidKey:"string"==typeof Nt.vapidKey?Nt.vapidKey:$t(Nt.vapidKey)}}}else if(3===Q){const Nt=Pt;x={token:Nt.fcmToken,createTime:Nt.createTime,subscriptionOptions:{auth:$t(Nt.auth),p256dh:$t(Nt.p256dh),endpoint:Nt.endpoint,swScope:Nt.swScope,vapidKey:$t(Nt.vapidKey)}}}else if(4===Q){const Nt=Pt;x={token:Nt.fcmToken,createTime:Nt.createTime,subscriptionOptions:{auth:$t(Nt.auth),p256dh:$t(Nt.p256dh),endpoint:Nt.endpoint,swScope:Nt.swScope,vapidKey:$t(Nt.vapidKey)}}}}),function(Q,se,Ke,qe){return N.apply(this,arguments)})})).close(),yield Ro(hc),yield Ro("fcm_vapid_details_db"),yield Ro("undefined"),function Ih(E){if(!E||!E.subscriptionOptions)return!1;const{subscriptionOptions:x}=E;return"number"==typeof E.createTime&&E.createTime>0&&"string"==typeof E.token&&E.token.length>0&&"string"==typeof x.auth&&x.auth.length>0&&"string"==typeof x.p256dh&&x.p256dh.length>0&&"string"==typeof x.endpoint&&x.endpoint.length>0&&"string"==typeof x.swScope&&x.swScope.length>0&&"string"==typeof x.vapidKey&&x.vapidKey.length>0}(x)?x:null;var N}),ni.apply(this,arguments)}const gl="firebase-messaging-database",$g=1,ko="firebase-messaging-store";let fc=null;function ir(){return fc||(fc=hl(gl,$g,{upgrade:(E,x)=>{0===x&&E.createObjectStore(ko)}})),fc}function Si(E){return ho.apply(this,arguments)}function ho(){return ho=(0,O.Z)(function*(E){const x=_l(E),N=yield(yield ir()).transaction(ko).objectStore(ko).get(x);if(N)return N;{const G=yield function ml(E){return ni.apply(this,arguments)}(E.appConfig.senderId);if(G)return yield Ps(E,G),G}}),ho.apply(this,arguments)}function Ps(E,x){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,O.Z)(function*(E,x){const S=_l(E),G=(yield ir()).transaction(ko,"readwrite");return yield G.objectStore(ko).put(x,S),yield G.done,x})).apply(this,arguments)}function pc(){return(pc=(0,O.Z)(function*(E){const x=_l(E),N=(yield ir()).transaction(ko,"readwrite");yield N.objectStore(ko).delete(x),yield N.done})).apply(this,arguments)}function _l({appConfig:E}){return E.appId}const or=new ue.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function xa(E,x){return Hu.apply(this,arguments)}function Hu(){return(Hu=(0,O.Z)(function*(E,x){const S=yield $u(E),N=Th(x),G={method:"POST",headers:S,body:JSON.stringify(N)};let Q;try{Q=yield(yield fetch(mc(E.appConfig),G)).json()}catch(se){throw or.create("token-subscribe-failed",{errorInfo:se?.toString()})}if(Q.error)throw or.create("token-subscribe-failed",{errorInfo:Q.error.message});if(!Q.token)throw or.create("token-subscribe-no-token");return Q.token})).apply(this,arguments)}function Ch(){return(Ch=(0,O.Z)(function*(E,x){const S=yield $u(E),N=Th(x.subscriptionOptions),G={method:"PATCH",headers:S,body:JSON.stringify(N)};let Q;try{Q=yield(yield fetch(`${mc(E.appConfig)}/${x.token}`,G)).json()}catch(se){throw or.create("token-update-failed",{errorInfo:se?.toString()})}if(Q.error)throw or.create("token-update-failed",{errorInfo:Q.error.message});if(!Q.token)throw or.create("token-update-no-token");return Q.token})).apply(this,arguments)}function vl(E,x){return bl.apply(this,arguments)}function bl(){return(bl=(0,O.Z)(function*(E,x){const N={method:"DELETE",headers:yield $u(E)};try{const Q=yield(yield fetch(`${mc(E.appConfig)}/${x}`,N)).json();if(Q.error)throw or.create("token-unsubscribe-failed",{errorInfo:Q.error.message})}catch(G){throw or.create("token-unsubscribe-failed",{errorInfo:G?.toString()})}})).apply(this,arguments)}function mc({projectId:E}){return`${bh}/projects/${E}/registrations`}function $u(E){return gc.apply(this,arguments)}function gc(){return(gc=(0,O.Z)(function*({appConfig:E,installations:x}){const S=yield x.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E.apiKey,"x-goog-firebase-installations-auth":`FIS ${S}`})})).apply(this,arguments)}function Th({p256dh:E,auth:x,endpoint:S,vapidKey:N}){const G={web:{endpoint:S,auth:x,p256dh:E}};return N!==vh&&(G.web.applicationPubKey=N),G}const wl=6048e5;function El(){return El=(0,O.Z)(function*(E){const x=yield function Sp(E,x){return Dh.apply(this,arguments)}(E.swRegistration,E.vapidKey),S={vapidKey:E.vapidKey,swScope:E.swRegistration.scope,endpoint:x.endpoint,auth:$t(x.getKey("auth")),p256dh:$t(x.getKey("p256dh"))},N=yield Si(E.firebaseDependencies);if(N){if(function Gg(E,x){return x.vapidKey===E.vapidKey&&x.endpoint===E.endpoint&&x.auth===E.auth&&x.p256dh===E.p256dh}(N.subscriptionOptions,S))return Date.now()>=N.createTime+wl?function Rn(E,x){return Il.apply(this,arguments)}(E,{token:N.token,createTime:Date.now(),subscriptionOptions:S}):N.token;try{yield vl(E.firebaseDependencies,N.token)}catch(G){console.warn(G)}return Ap(E.firebaseDependencies,S)}return Ap(E.firebaseDependencies,S)}),El.apply(this,arguments)}function Po(){return Po=(0,O.Z)(function*(E){const x=yield Si(E.firebaseDependencies);x&&(yield vl(E.firebaseDependencies,x.token),yield function xh(E){return pc.apply(this,arguments)}(E.firebaseDependencies));const S=yield E.swRegistration.pushManager.getSubscription();return!S||S.unsubscribe()}),Po.apply(this,arguments)}function Il(){return Il=(0,O.Z)(function*(E,x){try{const S=yield function yl(E,x){return Ch.apply(this,arguments)}(E.firebaseDependencies,x),N=Object.assign(Object.assign({},x),{token:S,createTime:Date.now()});return yield Ps(E.firebaseDependencies,N),S}catch(S){throw yield function kr(E){return Po.apply(this,arguments)}(E),S}}),Il.apply(this,arguments)}function Ap(E,x){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,O.Z)(function*(E,x){const N={token:yield xa(E,x),createTime:Date.now(),subscriptionOptions:x};return yield Ps(E,N),N.token})).apply(this,arguments)}function Dh(){return(Dh=(0,O.Z)(function*(E,x){return(yield E.pushManager.getSubscription())||E.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:dc(x)})})).apply(this,arguments)}function xl(E){const x={from:E.from,collapseKey:E.collapse_key,messageId:E.fcmMessageId};return function zu(E,x){if(!x.notification)return;E.notification={};const S=x.notification.title;S&&(E.notification.title=S);const N=x.notification.body;N&&(E.notification.body=N);const G=x.notification.image;G&&(E.notification.image=G);const Q=x.notification.icon;Q&&(E.notification.icon=Q)}(x,E),function Gu(E,x){x.data&&(E.data=x.data)}(x,E),function Ah(E,x){var S,N,G,Q,se;if(!(x.fcmOptions||null!==(S=x.notification)&&void 0!==S&&S.click_action))return;E.fcmOptions={};const Ke=null!==(G=null===(N=x.fcmOptions)||void 0===N?void 0:N.link)&&void 0!==G?G:null===(Q=x.notification)||void 0===Q?void 0:Q.click_action;Ke&&(E.fcmOptions.link=Ke);const qe=null===(se=x.fcmOptions)||void 0===se?void 0:se.analytics_label;qe&&(E.fcmOptions.analyticsLabel=qe)}(x,E),x}function Ca(E,x){const S=[];for(let N=0;N<E.length;N++)S.push(E.charAt(N)),N<x.length&&S.push(x.charAt(N));return S.join("")}function No(E){return or.create("missing-app-config-values",{valueName:E})}Ca("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ca("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class qg{constructor(x,S,N){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const G=function Ta(E){if(!E||!E.options)throw No("App Configuration Object");if(!E.name)throw No("App Name");const x=["projectId","apiKey","appId","messagingSenderId"],{options:S}=E;for(const N of x)if(!S[N])throw No(N);return{appName:E.name,projectId:S.projectId,apiKey:S.apiKey,appId:S.appId,senderId:S.messagingSenderId}}(x);this.firebaseDependencies={app:x,appConfig:G,installations:S,analyticsProvider:N}}_delete(){return Promise.resolve()}}function Mp(E){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,O.Z)(function*(E){try{E.swRegistration=yield navigator.serviceWorker.register(Vt,{scope:uc}),E.swRegistration.update().catch(()=>{})}catch(x){throw or.create("failed-service-worker-registration",{browserErrorMessage:x?.message})}})).apply(this,arguments)}function _c(){return(_c=(0,O.Z)(function*(E,x){if(!x&&!E.swRegistration&&(yield Mp(E)),x||!E.swRegistration){if(!(x instanceof ServiceWorkerRegistration))throw or.create("invalid-sw-registration");E.swRegistration=x}})).apply(this,arguments)}function Fs(){return(Fs=(0,O.Z)(function*(E,x){x?E.vapidKey=x:E.vapidKey||(E.vapidKey=vh)})).apply(this,arguments)}function Da(){return Da=(0,O.Z)(function*(E,x){if(!navigator)throw or.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw or.create("permission-blocked");return yield function Os(E,x){return Fs.apply(this,arguments)}(E,x?.vapidKey),yield function ov(E,x){return _c.apply(this,arguments)}(E,x?.serviceWorkerRegistration),function Dp(E){return El.apply(this,arguments)}(E)}),Da.apply(this,arguments)}function Ls(){return(Ls=(0,O.Z)(function*(E,x,S){const N=function Bs(E){switch(E){case ge.NOTIFICATION_CLICKED:return"notification_open";case ge.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(x);(yield E.firebaseDependencies.analyticsProvider.get()).logEvent(N,{message_id:S[fl],message_name:S[wh],message_time:S[pl],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Vs(){return Vs=(0,O.Z)(function*(E,x){const S=x.data;if(!S.isFirebaseMessaging)return;E.onMessageHandler&&S.messageType===ge.PUSH_RECEIVED&&("function"==typeof E.onMessageHandler?E.onMessageHandler(xl(S)):E.onMessageHandler.next(xl(S)));const N=S.data;(function qu(E){return"object"==typeof E&&!!E&&fl in E})(N)&&"1"===N[Hg]&&(yield function Wu(E,x,S){return Ls.apply(this,arguments)}(E,S.messageType,N))}),Vs.apply(this,arguments)}const is="@firebase/messaging",Us=E=>{const x=new qg(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),E.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",S=>function Dl(E,x){return Vs.apply(this,arguments)}(x,S)),x},Al=E=>{const x=E.getProvider("messaging").getImmediate();return{getToken:N=>function Tl(E,x){return Da.apply(this,arguments)}(x,N)}};function Rp(){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,O.Z)(function*(){try{yield(0,ue.eu)()}catch{return!1}return typeof window<"u"&&(0,ue.hl)()&&(0,ue.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function yc(){(0,le._registerComponent)(new re.wA("messaging",Us,"PUBLIC")),(0,le._registerComponent)(new re.wA("messaging-internal",Al,"PRIVATE")),(0,le.registerVersion)(is,"0.12.4"),(0,le.registerVersion)(is,"0.12.4","esm2017")}();const vn="analytics",kh="firebase_id",Ml="origin",Ku=6e4,Rl="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",kl="https://www.googletagmanager.com/gtag/js",pr=new we.Yd("@firebase/analytics"),Kn=new ue.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Yu(E){if(!E.startsWith(kl)){const x=Kn.create("invalid-gtag-resource",{gtagURL:E});return pr.warn(x.message),""}return E}function vc(E){return Promise.all(E.map(x=>x.catch(S=>S)))}function $s(){return($s=(0,O.Z)(function*(E,x,S,N,G,Q){const se=N[G];try{if(se)yield x[se];else{const qe=(yield vc(S)).find(pt=>pt.measurementId===G);qe&&(yield x[qe.appId])}}catch(Ke){pr.error(Ke)}E("config",G,Q)})).apply(this,arguments)}function wc(){return(wc=(0,O.Z)(function*(E,x,S,N,G){try{let Q=[];if(G&&G.send_to){let se=G.send_to;Array.isArray(se)||(se=[se]);const Ke=yield vc(S);for(const qe of se){const pt=Ke.find(Nt=>Nt.measurementId===qe),Pt=pt&&x[pt.appId];if(!Pt){Q=[];break}Q.push(Pt)}}0===Q.length&&(Q=Object.values(x)),yield Promise.all(Q),E("event",N,G||{})}catch(Q){pr.error(Q)}})).apply(this,arguments)}const Ec=30,qs=new class Gs{constructor(x={},S=1e3){this.throttleMetadata=x,this.intervalMillis=S}getThrottleMetadata(x){return this.throttleMetadata[x]}setThrottleMetadata(x,S){this.throttleMetadata[x]=S}deleteThrottleMetadata(x){delete this.throttleMetadata[x]}};function Np(E){return new Headers({Accept:"application/json","x-goog-api-key":E})}function tn(){return(tn=(0,O.Z)(function*(E){var x;const{appId:S,apiKey:N}=E,G={method:"GET",headers:Np(N)},Q=Rl.replace("{app-id}",S),se=yield fetch(Q,G);if(200!==se.status&&304!==se.status){let Ke="";try{const qe=yield se.json();null!==(x=qe.error)&&void 0!==x&&x.message&&(Ke=qe.error.message)}catch{}throw Kn.create("config-fetch-failed",{httpStatus:se.status,responseMessage:Ke})}return se.json()})).apply(this,arguments)}function Ic(){return(Ic=(0,O.Z)(function*(E,x=qs,S){const{appId:N,apiKey:G,measurementId:Q}=E.options;if(!N)throw Kn.create("no-app-id");if(!G){if(Q)return{measurementId:Q,appId:N};throw Kn.create("no-api-key")}const se=x.getThrottleMetadata(N)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ke=new av;return setTimeout((0,O.Z)(function*(){Ke.abort()}),void 0!==S?S:Ku),Xu({appId:N,apiKey:G,measurementId:Q},se,Ke,x)})).apply(this,arguments)}function Xu(E,x,S){return Ju.apply(this,arguments)}function Ju(){return Ju=(0,O.Z)(function*(E,{throttleEndTimeMillis:x,backoffCount:S},N,G=qs){var Q;const{appId:se,measurementId:Ke}=E;try{yield function sv(E,x){return new Promise((S,N)=>{const G=Math.max(x-Date.now(),0),Q=setTimeout(S,G);E.addEventListener(()=>{clearTimeout(Q),N(Kn.create("fetch-throttle",{throttleEndTimeMillis:x}))})})}(N,x)}catch(qe){if(Ke)return pr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ke} provided in the "measurementId" field in the local Firebase config. [${qe?.message}]`),{appId:se,measurementId:Ke};throw qe}try{const qe=yield function Ph(E){return tn.apply(this,arguments)}(E);return G.deleteThrottleMetadata(se),qe}catch(qe){const pt=qe;if(!function Op(E){if(!(E instanceof ue.ZR&&E.customData))return!1;const x=Number(E.customData.httpStatus);return 429===x||500===x||503===x||504===x}(pt)){if(G.deleteThrottleMetadata(se),Ke)return pr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ke} provided in the "measurementId" field in the local Firebase config. [${pt?.message}]`),{appId:se,measurementId:Ke};throw qe}const Pt=503===Number(null===(Q=pt?.customData)||void 0===Q?void 0:Q.httpStatus)?(0,ue.$s)(S,G.intervalMillis,Ec):(0,ue.$s)(S,G.intervalMillis),Nt={throttleEndTimeMillis:Date.now()+Pt,backoffCount:S+1};return G.setThrottleMetadata(se,Nt),pr.debug(`Calling attemptFetch again in ${Pt} millis`),Xu(E,Nt,N,G)}}),Ju.apply(this,arguments)}class av{constructor(){this.listeners=[]}addEventListener(x){this.listeners.push(x)}abort(){this.listeners.forEach(x=>x())}}let Ws,Ll;function Fp(){return(Fp=(0,O.Z)(function*(E,x,S,N,G){if(G&&G.global)E("event",S,N);else{const Q=yield x;E("event",S,Object.assign(Object.assign({},N),{send_to:Q}))}})).apply(this,arguments)}function on(){return(on=(0,O.Z)(function*(){if(!(0,ue.hl)())return pr.warn(Kn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ue.eu)()}catch(E){return pr.warn(Kn.create("indexeddb-unavailable",{errorInfo:E?.toString()}).message),!1}return!0})).apply(this,arguments)}function rt(){return rt=(0,O.Z)(function*(E,x,S,N,G,Q,se){var Ke;const qe=function Wg(E){return Ic.apply(this,arguments)}(E);qe.then(bn=>{S[bn.measurementId]=bn.appId,E.options.measurementId&&bn.measurementId!==E.options.measurementId&&pr.warn(`The measurement ID in the local Firebase config (${E.options.measurementId}) does not match the measurement ID fetched from the server (${bn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(bn=>pr.error(bn)),x.push(qe);const pt=function ri(){return on.apply(this,arguments)}().then(bn=>{if(bn)return N.getId()}),[Pt,Nt]=yield Promise.all([qe,pt]);(function zs(E){const x=window.document.getElementsByTagName("script");for(const S of Object.values(x))if(S.src&&S.src.includes(kl)&&S.src.includes(E))return S;return null})(Q)||function Fo(E,x){const S=function bc(E,x){let S;return window.trustedTypes&&(S=window.trustedTypes.createPolicy(E,x)),S}("firebase-js-sdk-policy",{createScriptURL:Yu}),N=document.createElement("script"),G=`${kl}?l=${E}&id=${x}`;N.src=S?S?.createScriptURL(G):G,N.async=!0,document.head.appendChild(N)}(Q,Pt.measurementId),Ll&&(G("consent","default",Ll),function Bl(E){Ll=E}(void 0)),G("js",new Date);const Gr=null!==(Ke=se?.config)&&void 0!==Ke?Ke:{};return Gr[Ml]="firebase",Gr.update=!0,null!=Nt&&(Gr[kh]=Nt),G("config",Pt.measurementId,Gr),Ws&&(G("set",Ws),function Cc(E){Ws=E}(void 0)),Pt.measurementId}),rt.apply(this,arguments)}class kn{constructor(x){this.app=x}_delete(){return delete Pn[this.app.options.appId],Promise.resolve()}}let Pn={},Nh=[];const Tc={};let td,ki,$r="dataLayer",Vl="gtag",Ra=!1;function ss(E,x,S){!function Ac(){const E=[];if((0,ue.ru)()&&E.push("This is a browser extension environment."),(0,ue.zI)()||E.push("Cookies are not available."),E.length>0){const x=E.map((N,G)=>`(${G+1}) ${N}`).join(" "),S=Kn.create("invalid-analytics-context",{errorInfo:x});pr.warn(S.message)}}();const N=E.options.appId;if(!N)throw Kn.create("no-app-id");if(!E.options.apiKey){if(!E.options.measurementId)throw Kn.create("no-api-key");pr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${E.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Pn[N])throw Kn.create("already-exists",{id:N});if(!Ra){!function kp(E){let x=[];Array.isArray(window[E])?x=window[E]:window[E]=x}($r);const{wrappedGtag:Q,gtagCore:se}=function os(E,x,S,N,G){let Q=function(...se){window[N].push(arguments)};return window[G]&&"function"==typeof window[G]&&(Q=window[G]),window[G]=function Ma(E,x,S,N){function Q(){return Q=(0,O.Z)(function*(se,...Ke){try{if("event"===se){const[qe,pt]=Ke;yield function Qu(E,x,S,N,G){return wc.apply(this,arguments)}(E,x,S,qe,pt)}else if("config"===se){const[qe,pt]=Ke;yield function Pl(E,x,S,N,G,Q){return $s.apply(this,arguments)}(E,x,S,N,qe,pt)}else if("consent"===se){const[qe]=Ke;E("consent","update",qe)}else if("get"===se){const[qe,pt,Pt]=Ke;E("get",qe,pt,Pt)}else if("set"===se){const[qe]=Ke;E("set",qe)}else E(se,...Ke)}catch(qe){pr.error(qe)}}),Q.apply(this,arguments)}return function G(se){return Q.apply(this,arguments)}}(Q,E,x,S),{gtagCore:Q,wrappedGtag:window[G]}}(Pn,Nh,Tc,$r,Vl);ki=Q,td=se,Ra=!0}return Pn[N]=function yi(E,x,S,N,G,Q,se){return rt.apply(this,arguments)}(E,Nh,Tc,x,td,$r,S),new kn(E)}function Ul(){return as.apply(this,arguments)}function as(){return(as=(0,O.Z)(function*(){if((0,ue.ru)()||!(0,ue.zI)()||!(0,ue.hl)())return!1;try{return yield(0,ue.eu)()}catch{return!1}})).apply(this,arguments)}const Qs="@firebase/analytics";!function Bp(){(0,le._registerComponent)(new re.wA(vn,(x,{options:S})=>ss(x.getProvider("app").getImmediate(),x.getProvider("installations-internal").getImmediate(),S),"PUBLIC")),(0,le._registerComponent)(new re.wA("analytics-internal",function E(x){try{const S=x.getProvider(vn).getImmediate();return{logEvent:(N,G,Q)=>function Oh(E,x,S,N){E=(0,ue.m9)(E),function cv(E,x,S,N,G){return Fp.apply(this,arguments)}(ki,Pn[E.app.options.appId],x,S,N).catch(G=>pr.error(G))}(S,N,G,Q)}}catch(S){throw Kn.create("interop-component-reg-failed",{reason:S})}},"PRIVATE")),(0,le.registerVersion)(Qs,"0.10.0"),(0,le.registerVersion)(Qs,"0.10.0","esm2017")}();var Mc=L(4408),Pi=L(7565);const Cr=new class Pa extends Pi.v{}(class ka extends Mc.o{constructor(x,S){super(x,S),this.scheduler=x,this.work=S}schedule(x,S=0){return S>0?super.schedule(x,S):(this.delay=S,this.state=x,this.scheduler.flush(this),this)}execute(x,S){return S>0||this.closed?super.execute(x,S):this._execute(x,S)}requestAsyncId(x,S,N=0){return null!=N&&N>0||null==N&&this.delay>0?super.requestAsyncId(x,S,N):(x.flush(this),0)}});var od=L(4986),$n=L(8505),po=L(5363),ls=L(9468);const zr=new u.GfV("7.6.1"),Yn="__angularfire_symbol__analyticsIsSupportedValue",Xs="__angularfire_symbol__analyticsIsSupported",sd="__angularfire_symbol__remoteConfigIsSupportedValue",Na="__angularfire_symbol__remoteConfigIsSupported",Wi="__angularfire_symbol__messagingIsSupportedValue",mo="__angularfire_symbol__messagingIsSupported";function zl(E,x,S){if(x){if(1===x.length)return x[0];const Q=x.filter(se=>se.app===S);if(1===Q.length)return Q[0]}return S.container.getProvider(E).getImmediate({optional:!0})}globalThis[Xs]||(globalThis[Xs]=Ul().then(E=>globalThis[Yn]=E).catch(()=>globalThis[Yn]=!1)),globalThis[mo]||(globalThis[mo]=Rp().then(E=>globalThis[Wi]=E).catch(()=>globalThis[Wi]=!1)),globalThis[Na]||(globalThis[Na]=Vu().then(E=>globalThis[sd]=E).catch(()=>globalThis[sd]=!1));const Gl=(E,x)=>{const S=x?[x]:(0,te.C6)(),N=[];return S.forEach(G=>{G.container.getProvider(E).instances.forEach(se=>{N.includes(se)||N.push(se)})}),N};function Lo(){}class ad{constructor(x,S=Cr){this.zone=x,this.delegate=S}now(){return this.delegate.now()}schedule(x,S,N){const G=this.zone;return this.delegate.schedule(function(se){G.runGuarded(()=>{x.apply(this,[se])})},S,N)}}class Rc{constructor(x){this.zone=x,this.task=null}call(x,S){const N=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Lo,{},Lo,Lo)),S.pipe((0,$n.b)({next:N,complete:N,error:N})).subscribe(x).add(N)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Tt=(()=>{class E{constructor(S){this.ngZone=S,this.outsideAngular=S.runOutsideAngular(()=>new ad(Zone.current)),this.insideAngular=S.run(()=>new ad(Zone.current,od.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return E.\u0275fac=function(S){return new(S||E)(u.LFG(u.R0b))},E.\u0275prov=u.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function Zi(){const E=globalThis.\u0275AngularFireScheduler;if(!E)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return E}function Lh(E){return E.pipe((0,po.Q)(Zi().outsideAngular))}function Ki(E){return Zi(),function Vh(E){return function(S){return(S=S.lift(new Rc(E.ngZone))).pipe((0,ls.R)(E.outsideAngular),(0,po.Q)(E.insideAngular))}}(Zi())(E)}},2090:(It,ke,L)=>{L.d(ke,{$s:()=>ji,BH:()=>Te,G6:()=>io,L:()=>_e,LL:()=>Ae,Pz:()=>Ce,Sg:()=>Ze,UG:()=>ae,US:()=>re,ZB:()=>Y,ZR:()=>Me,aH:()=>Le,b$:()=>Kt,eu:()=>pe,hl:()=>he,jU:()=>Mt,m9:()=>Jr,ne:()=>ln,pd:()=>oo,r3:()=>Un,ru:()=>ot,tV:()=>z,uI:()=>lt,vZ:()=>bt,w1:()=>Qo,xO:()=>Rr,xb:()=>di,z$:()=>Ve,zI:()=>ve,zd:()=>Qr});const le=function(H){const V=[];let K=0;for(let Ee=0;Ee<H.length;Ee++){let ne=H.charCodeAt(Ee);ne<128?V[K++]=ne:ne<2048?(V[K++]=ne>>6|192,V[K++]=63&ne|128):55296==(64512&ne)&&Ee+1<H.length&&56320==(64512&H.charCodeAt(Ee+1))?(ne=65536+((1023&ne)<<10)+(1023&H.charCodeAt(++Ee)),V[K++]=ne>>18|240,V[K++]=ne>>12&63|128,V[K++]=ne>>6&63|128,V[K++]=63&ne|128):(V[K++]=ne>>12|224,V[K++]=ne>>6&63|128,V[K++]=63&ne|128)}return V},re={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(H,V){if(!Array.isArray(H))throw Error("encodeByteArray takes an array as a parameter");this.init_();const K=V?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ee=[];for(let ne=0;ne<H.length;ne+=3){const Ue=H[ne],Rt=ne+1<H.length,nn=Rt?H[ne+1]:0,Wn=ne+2<H.length,Mn=Wn?H[ne+2]:0;let Vr=(15&nn)<<2|Mn>>6,$i=63&Mn;Wn||($i=64,Rt||(Vr=64)),Ee.push(K[Ue>>2],K[(3&Ue)<<4|nn>>4],K[Vr],K[$i])}return Ee.join("")},encodeString(H,V){return this.HAS_NATIVE_SUPPORT&&!V?btoa(H):this.encodeByteArray(le(H),V)},decodeString(H,V){return this.HAS_NATIVE_SUPPORT&&!V?atob(H):function(H){const V=[];let K=0,Ee=0;for(;K<H.length;){const ne=H[K++];if(ne<128)V[Ee++]=String.fromCharCode(ne);else if(ne>191&&ne<224){const Ue=H[K++];V[Ee++]=String.fromCharCode((31&ne)<<6|63&Ue)}else if(ne>239&&ne<365){const Wn=((7&ne)<<18|(63&H[K++])<<12|(63&H[K++])<<6|63&H[K++])-65536;V[Ee++]=String.fromCharCode(55296+(Wn>>10)),V[Ee++]=String.fromCharCode(56320+(1023&Wn))}else{const Ue=H[K++],Rt=H[K++];V[Ee++]=String.fromCharCode((15&ne)<<12|(63&Ue)<<6|63&Rt)}}return V.join("")}(this.decodeStringToByteArray(H,V))},decodeStringToByteArray(H,V){this.init_();const K=V?this.charToByteMapWebSafe_:this.charToByteMap_,Ee=[];for(let ne=0;ne<H.length;){const Ue=K[H.charAt(ne++)],nn=ne<H.length?K[H.charAt(ne)]:0;++ne;const Mn=ne<H.length?K[H.charAt(ne)]:64;++ne;const Xt=ne<H.length?K[H.charAt(ne)]:64;if(++ne,null==Ue||null==nn||null==Mn||null==Xt)throw new we;Ee.push(Ue<<2|nn>>4),64!==Mn&&(Ee.push(nn<<4&240|Mn>>2),64!==Xt&&Ee.push(Mn<<6&192|Xt))}return Ee},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let H=0;H<this.ENCODED_VALS.length;H++)this.byteToCharMap_[H]=this.ENCODED_VALS.charAt(H),this.charToByteMap_[this.byteToCharMap_[H]]=H,this.byteToCharMapWebSafe_[H]=this.ENCODED_VALS_WEBSAFE.charAt(H),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[H]]=H,H>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(H)]=H,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(H)]=H)}}};class we extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _e=function(H){return function(H){const V=le(H);return re.encodeByteArray(V,!0)}(H).replace(/\./g,"")},z=function(H){try{return re.decodeString(H,!0)}catch(V){console.error("base64Decode failed: ",V)}return null};function Y(H,V){if(!(V instanceof Object))return V;switch(V.constructor){case Date:return new Date(V.getTime());case Object:void 0===H&&(H={});break;case Array:H=[];break;default:return V}for(const K in V)!V.hasOwnProperty(K)||!Ge(K)||(H[K]=Y(H[K],V[K]));return H}function Ge(H){return"__proto__"!==H}const Oe=()=>{try{return function Se(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const H=process.env.__FIREBASE_DEFAULTS__;return H?JSON.parse(H):void 0})()||(()=>{if(typeof document>"u")return;let H;try{H=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const V=H&&z(H[1]);return V&&JSON.parse(V)})()}catch(H){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${H}`)}},Le=()=>{var H;return null===(H=Oe())||void 0===H?void 0:H.config},Ce=H=>{var V;return null===(V=Oe())||void 0===V?void 0:V[`_${H}`]};class Te{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((V,K)=>{this.resolve=V,this.reject=K})}wrapCallback(V){return(K,Ee)=>{K?this.reject(K):this.resolve(Ee),"function"==typeof V&&(this.promise.catch(()=>{}),1===V.length?V(K):V(K,Ee))}}}function Ze(H,V){if(H.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ee=V||"demo-project",ne=H.iat||0,Ue=H.sub||H.user_id;if(!Ue)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Rt=Object.assign({iss:`https://securetoken.google.com/${Ee}`,aud:Ee,iat:ne,exp:ne+3600,auth_time:ne,sub:Ue,user_id:Ue,firebase:{sign_in_provider:"custom",identities:{}}},H);return[_e(JSON.stringify({alg:"none",type:"JWT"})),_e(JSON.stringify(Rt)),""].join(".")}function Ve(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function lt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ve())}function ae(){var H;const V=null===(H=Oe())||void 0===H?void 0:H.forceEnvironment;if("node"===V)return!0;if("browser"===V)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Mt(){return"object"==typeof self&&self.self===self}function ot(){const H="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof H&&void 0!==H.id}function Kt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Qo(){const H=Ve();return H.indexOf("MSIE ")>=0||H.indexOf("Trident/")>=0}function io(){return!ae()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function he(){try{return"object"==typeof indexedDB}catch{return!1}}function pe(){return new Promise((H,V)=>{try{let K=!0;const Ee="validate-browser-context-for-indexeddb-analytics-module",ne=self.indexedDB.open(Ee);ne.onsuccess=()=>{ne.result.close(),K||self.indexedDB.deleteDatabase(Ee),H(!0)},ne.onupgradeneeded=()=>{K=!1},ne.onerror=()=>{var Ue;V((null===(Ue=ne.error)||void 0===Ue?void 0:Ue.message)||"")}}catch(K){V(K)}})}function ve(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Me extends Error{constructor(V,K,Ee){super(K),this.code=V,this.customData=Ee,this.name="FirebaseError",Object.setPrototypeOf(this,Me.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ae.prototype.create)}}class Ae{constructor(V,K,Ee){this.service=V,this.serviceName=K,this.errors=Ee}create(V,...K){const Ee=K[0]||{},ne=`${this.service}/${V}`,Ue=this.errors[V],Rt=Ue?function mt(H,V){return H.replace(gt,(K,Ee)=>{const ne=V[Ee];return null!=ne?String(ne):`<${Ee}?>`})}(Ue,Ee):"Error";return new Me(ne,`${this.serviceName}: ${Rt} (${ne}).`,Ee)}}const gt=/\{\$([^}]+)}/g;function Un(H,V){return Object.prototype.hasOwnProperty.call(H,V)}function di(H){for(const V in H)if(Object.prototype.hasOwnProperty.call(H,V))return!1;return!0}function bt(H,V){if(H===V)return!0;const K=Object.keys(H),Ee=Object.keys(V);for(const ne of K){if(!Ee.includes(ne))return!1;const Ue=H[ne],Rt=V[ne];if(hi(Ue)&&hi(Rt)){if(!bt(Ue,Rt))return!1}else if(Ue!==Rt)return!1}for(const ne of Ee)if(!K.includes(ne))return!1;return!0}function hi(H){return null!==H&&"object"==typeof H}function Rr(H){const V=[];for(const[K,Ee]of Object.entries(H))Array.isArray(Ee)?Ee.forEach(ne=>{V.push(encodeURIComponent(K)+"="+encodeURIComponent(ne))}):V.push(encodeURIComponent(K)+"="+encodeURIComponent(Ee));return V.length?"&"+V.join("&"):""}function Qr(H){const V={};return H.replace(/^\?/,"").split("&").forEach(Ee=>{if(Ee){const[ne,Ue]=Ee.split("=");V[decodeURIComponent(ne)]=decodeURIComponent(Ue)}}),V}function oo(H){const V=H.indexOf("?");if(!V)return"";const K=H.indexOf("#",V);return H.substring(V,K>0?K:void 0)}function ln(H,V){const K=new ut(H,V);return K.subscribe.bind(K)}class ut{constructor(V,K){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=K,this.task.then(()=>{V(this)}).catch(Ee=>{this.error(Ee)})}next(V){this.forEachObserver(K=>{K.next(V)})}error(V){this.forEachObserver(K=>{K.error(V)}),this.close(V)}complete(){this.forEachObserver(V=>{V.complete()}),this.close()}subscribe(V,K,Ee){let ne;if(void 0===V&&void 0===K&&void 0===Ee)throw new Error("Missing Observer.");ne=function Ci(H,V){if("object"!=typeof H||null===H)return!1;for(const K of V)if(K in H&&"function"==typeof H[K])return!0;return!1}(V,["next","error","complete"])?V:{next:V,error:K,complete:Ee},void 0===ne.next&&(ne.next=fi),void 0===ne.error&&(ne.error=fi),void 0===ne.complete&&(ne.complete=fi);const Ue=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ne.error(this.finalError):ne.complete()}catch{}}),this.observers.push(ne),Ue}unsubscribeOne(V){void 0===this.observers||void 0===this.observers[V]||(delete this.observers[V],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(V){if(!this.finalized)for(let K=0;K<this.observers.length;K++)this.sendOne(K,V)}sendOne(V,K){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[V])try{K(this.observers[V])}catch(Ee){typeof console<"u"&&console.error&&console.error(Ee)}})}close(V){this.finalized||(this.finalized=!0,void 0!==V&&(this.finalError=V),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fi(){}const un=1e3,Ti=2,jn=144e5,tr=.5;function ji(H,V=un,K=Ti){const Ee=V*Math.pow(K,H),ne=Math.round(tr*Ee*(Math.random()-.5)*2);return Math.min(jn,Ee+ne)}function Jr(H){return H&&H._delegate?H._delegate:H}},5771:(It,ke,L)=>{var u=L(4650);let te=null;function O(){return te}class ue{}const re=new u.OlP("DocumentToken");let we=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return function xe(){return(0,u.LFG)(z)}()},providedIn:"platform"}),n})();const _e=new u.OlP("Location Initialized");let z=(()=>{class n extends we{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return O().getBaseHref(this._doc)}onPopState(t){const r=O().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=O().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){$()?this._history.pushState(t,r,i):this._location.hash=i}replaceState(t,r,i){$()?this._history.replaceState(t,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(re))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function Y(){return new z((0,u.LFG)(re))}()},providedIn:"platform"}),n})();function $(){return!!window.history.pushState}function Ge(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Se(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Xe(n){return n&&"?"!==n[0]?"?"+n:n}let ht=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(Oe)},providedIn:"root"}),n})();const ye=new u.OlP("appBaseHref");let Oe=(()=>{class n extends ht{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,u.f3M)(re).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ge(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Xe(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,a){const l=this.prepareExternalUrl(i+Xe(a));this._platformLocation.pushState(t,r,l)}replaceState(t,r,i,a){const l=this.prepareExternalUrl(i+Xe(a));this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(we),u.LFG(ye,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Fe=(()=>{class n extends ht{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Ge(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,a){let l=this.prepareExternalUrl(i+Xe(a));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(t,r,l)}replaceState(t,r,i,a){let l=this.prepareExternalUrl(i+Xe(a));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(we),u.LFG(ye,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),$e=(()=>{class n{constructor(t){this._subject=new u.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function Ze(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(Se(Te(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Xe(r))}normalize(t){return n.stripTrailingSlash(function Ce(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,Te(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Xe(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Xe(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Xe,n.joinWithSlash=Ge,n.stripTrailingSlash=Se,n.\u0275fac=function(t){return new(t||n)(u.LFG(ht))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function Le(){return new $e((0,u.LFG)(ht))}()},providedIn:"root"}),n})();function Te(n){return n.replace(/\/index.html$/,"")}var Mt=(()=>((Mt=Mt||{})[Mt.Format=0]="Format",Mt[Mt.Standalone=1]="Standalone",Mt))(),ot=(()=>((ot=ot||{})[ot.Narrow=0]="Narrow",ot[ot.Abbreviated=1]="Abbreviated",ot[ot.Wide=2]="Wide",ot[ot.Short=3]="Short",ot))(),Kt=(()=>((Kt=Kt||{})[Kt.Short=0]="Short",Kt[Kt.Medium=1]="Medium",Kt[Kt.Long=2]="Long",Kt[Kt.Full=3]="Full",Kt))(),ft=(()=>((ft=ft||{})[ft.Decimal=0]="Decimal",ft[ft.Group=1]="Group",ft[ft.List=2]="List",ft[ft.PercentSign=3]="PercentSign",ft[ft.PlusSign=4]="PlusSign",ft[ft.MinusSign=5]="MinusSign",ft[ft.Exponential=6]="Exponential",ft[ft.SuperscriptingExponent=7]="SuperscriptingExponent",ft[ft.PerMille=8]="PerMille",ft[ft.Infinity=9]="Infinity",ft[ft.NaN=10]="NaN",ft[ft.TimeSeparator=11]="TimeSeparator",ft[ft.CurrencyDecimal=12]="CurrencyDecimal",ft[ft.CurrencyGroup=13]="CurrencyGroup",ft))();function Me(n,e){return Br((0,u.cg1)(n)[u.wAp.DateFormat],e)}function Ae(n,e){return Br((0,u.cg1)(n)[u.wAp.TimeFormat],e)}function mt(n,e){return Br((0,u.cg1)(n)[u.wAp.DateTimeFormat],e)}function gt(n,e){const t=(0,u.cg1)(n),r=t[u.wAp.NumberSymbols][e];if(typeof r>"u"){if(e===ft.CurrencyDecimal)return t[u.wAp.NumberSymbols][ft.Decimal];if(e===ft.CurrencyGroup)return t[u.wAp.NumberSymbols][ft.Group]}return r}function vr(n){if(!n[u.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[u.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Br(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function bt(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const Qr=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,oo={},sn=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var ln=(()=>((ln=ln||{})[ln.Short=0]="Short",ln[ln.ShortGMT=1]="ShortGMT",ln[ln.Long=2]="Long",ln[ln.Extended=3]="Extended",ln))(),ut=(()=>((ut=ut||{})[ut.FullYear=0]="FullYear",ut[ut.Month=1]="Month",ut[ut.Date=2]="Date",ut[ut.Hours=3]="Hours",ut[ut.Minutes=4]="Minutes",ut[ut.Seconds=5]="Seconds",ut[ut.FractionalSeconds=6]="FractionalSeconds",ut[ut.Day=7]="Day",ut))(),Bt=(()=>((Bt=Bt||{})[Bt.DayPeriods=0]="DayPeriods",Bt[Bt.Days=1]="Days",Bt[Bt.Months=2]="Months",Bt[Bt.Eras=3]="Eras",Bt))();function Ci(n,e,t,r){let i=function ne(n){if(Rt(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,a=1,l=1]=n.split("-").map(f=>+f);return fi(i,a-1,l)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(Qr))return function Ue(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,a=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const l=Number(n[4]||0)-t,f=Number(n[5]||0)-r,_=Number(n[6]||0),w=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return a.call(e,l,f,_,w),e}(r)}const e=new Date(n);if(!Rt(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=br(t,e)||e;let f,l=[];for(;e;){if(f=sn.exec(e),!f){l.push(e);break}{l=l.concat(f.slice(1));const T=l.pop();if(!T)break;e=T}}let _=i.getTimezoneOffset();r&&(_=V(r,_),i=function Ee(n,e,t){const r=t?-1:1,i=n.getTimezoneOffset();return function K(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(V(e,i)-i))}(i,r,!0));let w="";return l.forEach(T=>{const R=function H(n){if(Jr[n])return Jr[n];let e;switch(n){case"G":case"GG":case"GGG":e=en(Bt.Eras,ot.Abbreviated);break;case"GGGG":e=en(Bt.Eras,ot.Wide);break;case"GGGGG":e=en(Bt.Eras,ot.Narrow);break;case"y":e=yn(ut.FullYear,1,0,!1,!0);break;case"yy":e=yn(ut.FullYear,2,0,!0,!0);break;case"yyy":e=yn(ut.FullYear,3,0,!1,!0);break;case"yyyy":e=yn(ut.FullYear,4,0,!1,!0);break;case"Y":e=Hi(1);break;case"YY":e=Hi(2,!0);break;case"YYY":e=Hi(3);break;case"YYYY":e=Hi(4);break;case"M":case"L":e=yn(ut.Month,1,1);break;case"MM":case"LL":e=yn(ut.Month,2,1);break;case"MMM":e=en(Bt.Months,ot.Abbreviated);break;case"MMMM":e=en(Bt.Months,ot.Wide);break;case"MMMMM":e=en(Bt.Months,ot.Narrow);break;case"LLL":e=en(Bt.Months,ot.Abbreviated,Mt.Standalone);break;case"LLLL":e=en(Bt.Months,ot.Wide,Mt.Standalone);break;case"LLLLL":e=en(Bt.Months,ot.Narrow,Mt.Standalone);break;case"w":e=Dn(1);break;case"ww":e=Dn(2);break;case"W":e=Dn(1,!0);break;case"d":e=yn(ut.Date,1);break;case"dd":e=yn(ut.Date,2);break;case"c":case"cc":e=yn(ut.Day,1);break;case"ccc":e=en(Bt.Days,ot.Abbreviated,Mt.Standalone);break;case"cccc":e=en(Bt.Days,ot.Wide,Mt.Standalone);break;case"ccccc":e=en(Bt.Days,ot.Narrow,Mt.Standalone);break;case"cccccc":e=en(Bt.Days,ot.Short,Mt.Standalone);break;case"E":case"EE":case"EEE":e=en(Bt.Days,ot.Abbreviated);break;case"EEEE":e=en(Bt.Days,ot.Wide);break;case"EEEEE":e=en(Bt.Days,ot.Narrow);break;case"EEEEEE":e=en(Bt.Days,ot.Short);break;case"a":case"aa":case"aaa":e=en(Bt.DayPeriods,ot.Abbreviated);break;case"aaaa":e=en(Bt.DayPeriods,ot.Wide);break;case"aaaaa":e=en(Bt.DayPeriods,ot.Narrow);break;case"b":case"bb":case"bbb":e=en(Bt.DayPeriods,ot.Abbreviated,Mt.Standalone,!0);break;case"bbbb":e=en(Bt.DayPeriods,ot.Wide,Mt.Standalone,!0);break;case"bbbbb":e=en(Bt.DayPeriods,ot.Narrow,Mt.Standalone,!0);break;case"B":case"BB":case"BBB":e=en(Bt.DayPeriods,ot.Abbreviated,Mt.Format,!0);break;case"BBBB":e=en(Bt.DayPeriods,ot.Wide,Mt.Format,!0);break;case"BBBBB":e=en(Bt.DayPeriods,ot.Narrow,Mt.Format,!0);break;case"h":e=yn(ut.Hours,1,-12);break;case"hh":e=yn(ut.Hours,2,-12);break;case"H":e=yn(ut.Hours,1);break;case"HH":e=yn(ut.Hours,2);break;case"m":e=yn(ut.Minutes,1);break;case"mm":e=yn(ut.Minutes,2);break;case"s":e=yn(ut.Seconds,1);break;case"ss":e=yn(ut.Seconds,2);break;case"S":e=yn(ut.FractionalSeconds,1);break;case"SS":e=yn(ut.FractionalSeconds,2);break;case"SSS":e=yn(ut.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=un(ln.Short);break;case"ZZZZZ":e=un(ln.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=un(ln.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=un(ln.Long);break;default:return null}return Jr[n]=e,e}(T);w+=R?R(i,t,_):"''"===T?"'":T.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),w}function fi(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function br(n,e){const t=function ui(n){return(0,u.cg1)(n)[u.wAp.LocaleId]}(n);if(oo[t]=oo[t]||{},oo[t][e])return oo[t][e];let r="";switch(e){case"shortDate":r=Me(n,Kt.Short);break;case"mediumDate":r=Me(n,Kt.Medium);break;case"longDate":r=Me(n,Kt.Long);break;case"fullDate":r=Me(n,Kt.Full);break;case"shortTime":r=Ae(n,Kt.Short);break;case"mediumTime":r=Ae(n,Kt.Medium);break;case"longTime":r=Ae(n,Kt.Long);break;case"fullTime":r=Ae(n,Kt.Full);break;case"short":const i=br(n,"shortTime"),a=br(n,"shortDate");r=Xr(mt(n,Kt.Short),[i,a]);break;case"medium":const l=br(n,"mediumTime"),f=br(n,"mediumDate");r=Xr(mt(n,Kt.Medium),[l,f]);break;case"long":const _=br(n,"longTime"),w=br(n,"longDate");r=Xr(mt(n,Kt.Long),[_,w]);break;case"full":const T=br(n,"fullTime"),R=br(n,"fullDate");r=Xr(mt(n,Kt.Full),[T,R])}return r&&(oo[t][e]=r),r}function Xr(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function Fn(n,e,t="-",r,i){let a="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,a=t));let l=String(n);for(;l.length<e;)l="0"+l;return r&&(l=l.slice(l.length-e)),a+l}function yn(n,e,t=0,r=!1,i=!1){return function(a,l){let f=function Xo(n,e){switch(n){case ut.FullYear:return e.getFullYear();case ut.Month:return e.getMonth();case ut.Date:return e.getDate();case ut.Hours:return e.getHours();case ut.Minutes:return e.getMinutes();case ut.Seconds:return e.getSeconds();case ut.FractionalSeconds:return e.getMilliseconds();case ut.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,a);if((t>0||f>-t)&&(f+=t),n===ut.Hours)0===f&&-12===t&&(f=12);else if(n===ut.FractionalSeconds)return function pi(n,e){return Fn(n,3).substring(0,e)}(f,e);const _=gt(l,ft.MinusSign);return Fn(f,e,_,r,i)}}function en(n,e,t=Mt.Format,r=!1){return function(i,a){return function so(n,e,t,r,i,a){switch(t){case Bt.Months:return function he(n,e,t){const r=(0,u.cg1)(n),a=Br([r[u.wAp.MonthsFormat],r[u.wAp.MonthsStandalone]],e);return Br(a,t)}(e,i,r)[n.getMonth()];case Bt.Days:return function io(n,e,t){const r=(0,u.cg1)(n),a=Br([r[u.wAp.DaysFormat],r[u.wAp.DaysStandalone]],e);return Br(a,t)}(e,i,r)[n.getDay()];case Bt.DayPeriods:const l=n.getHours(),f=n.getMinutes();if(a){const w=function Un(n){const e=(0,u.cg1)(n);return vr(e),(e[u.wAp.ExtraData][2]||[]).map(r=>"string"==typeof r?bt(r):[bt(r[0]),bt(r[1])])}(e),T=function Yr(n,e,t){const r=(0,u.cg1)(n);vr(r);const a=Br([r[u.wAp.ExtraData][0],r[u.wAp.ExtraData][1]],e)||[];return Br(a,t)||[]}(e,i,r),R=w.findIndex(F=>{if(Array.isArray(F)){const[U,q]=F,J=l>=U.hours&&f>=U.minutes,ce=l<q.hours||l===q.hours&&f<q.minutes;if(U.hours<q.hours){if(J&&ce)return!0}else if(J||ce)return!0}else if(F.hours===l&&F.minutes===f)return!0;return!1});if(-1!==R)return T[R]}return function Ds(n,e,t){const r=(0,u.cg1)(n),a=Br([r[u.wAp.DayPeriodsFormat],r[u.wAp.DayPeriodsStandalone]],e);return Br(a,t)}(e,i,r)[l<12?0:1];case Bt.Eras:return function pe(n,e){return Br((0,u.cg1)(n)[u.wAp.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,a,n,e,t,r)}}function un(n){return function(e,t,r){const i=-1*r,a=gt(t,ft.MinusSign),l=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case ln.Short:return(i>=0?"+":"")+Fn(l,2,a)+Fn(Math.abs(i%60),2,a);case ln.ShortGMT:return"GMT"+(i>=0?"+":"")+Fn(l,1,a);case ln.Long:return"GMT"+(i>=0?"+":"")+Fn(l,2,a)+":"+Fn(Math.abs(i%60),2,a);case ln.Extended:return 0===r?"Z":(i>=0?"+":"")+Fn(l,2,a)+":"+Fn(Math.abs(i%60),2,a);default:throw new Error(`Unknown zone width "${n}"`)}}}const Ti=0,jn=4;function ji(n){return fi(n.getFullYear(),n.getMonth(),n.getDate()+(jn-n.getDay()))}function Dn(n,e=!1){return function(t,r){let i;if(e){const a=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,l=t.getDate();i=1+Math.floor((l+a)/7)}else{const a=ji(t),l=function tr(n){const e=fi(n,Ti,1).getDay();return fi(n,0,1+(e<=jn?jn:jn+7)-e)}(a.getFullYear()),f=a.getTime()-l.getTime();i=1+Math.round(f/6048e5)}return Fn(i,n,gt(r,ft.MinusSign))}}function Hi(n,e=!1){return function(t,r){return Fn(ji(t).getFullYear(),n,gt(r,ft.MinusSign),e)}}const Jr={};function V(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function Rt(n){return n instanceof Date&&!isNaN(n.valueOf())}class rr{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let To=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,a,l)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new rr(i.item,this._ngForOf,-1,-1),null===l?void 0:l);else if(null==l)r.remove(null===a?void 0:a);else if(null!==a){const f=r.get(a);r.move(f,l),Hn(f,i)}});for(let i=0,a=r.length;i<a;i++){const f=r.get(i).context;f.index=i,f.count=a,f.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{Hn(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Hn(n,e){n.context.$implicit=e.item}let co=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Wt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){ic("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){ic("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Wt{constructor(){this.$implicit=null,this.ngIf=null}}function ic(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,u.AaK)(e)}'.`)}class As{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let lo=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews.length>0&&t!==this._defaultUsed){this._defaultUsed=t;for(const r of this._defaultViews)r.enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),Jo=(()=>{class n{constructor(t,r,i){this.ngSwitch=i,i._addCase(),this._view=new As(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(lo,9))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),dr=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:i,ngTemplateOutletContext:a,ngTemplateOutletInjector:l}=this;this._viewRef=r.createEmbeddedView(i,a,l?{injector:l}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[u.TTD]}),n})();const ba=new u.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Lu=new u.OlP("DATE_PIPE_DEFAULT_OPTIONS");let ei=(()=>{class n{constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,a){if(null==t||""===t||t!=t)return null;try{return Ci(t,r??this.defaultOptions?.dateFormat??"mediumDate",a||this.locale,i??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(l){throw function mi(n,e){return new u.vHH(2100,!1)}()}}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.soG,16),u.Y36(ba,24),u.Y36(Lu,24))},n.\u0275pipe=u.Yjl({name:"date",type:n,pure:!0,standalone:!0}),n})(),Ur=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const Cp="browser",ph="server";function So(n){return n===ph}let ac=(()=>{class n{}return n.\u0275prov=(0,u.Yz7)({token:n,providedIn:"root",factory:()=>new gh((0,u.LFG)(re),window)}),n})();class gh{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function ts(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const a=i.shadowRoot;if(a){const l=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(l)return l}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],i-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Uu(this.window.history)||Uu(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Uu(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Ah extends ue{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class qu extends Ah{static makeCurrent(){!function le(n){te||(te=n)}(new qu)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Ta(){return Ca=Ca||document.querySelector("base"),Ca?Ca.getAttribute("href"):null}();return null==t?null:function qg(n){No=No||document.createElement("a"),No.setAttribute("href",n);const e=No.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Ca=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function _a(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,a]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(a)}return null}(document.cookie,e)}}let No,Ca=null;const Mp=new u.OlP("TRANSITION_ID"),ov=[{provide:u.ip1,useFactory:function Cl(n,e,t){return()=>{t.get(u.CZH).donePromise.then(()=>{const r=O(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<i.length;a++)r.remove(i[a])})}},deps:[Mp,re,u.zs3],multi:!0}];let Os=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Fs=new u.OlP("EventManagerPlugins");let Tl=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let a=0;a<i.length;a++){const l=i[a];if(l.supports(t))return this._eventNameToPlugin.set(t,l),l}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Fs),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Da{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=O().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Wu=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,r){const i=this.usageCount;let a=i.get(t)??0;return a+=r,a>0?i.set(t,a):i.delete(t),a}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Ls=(()=>{class n extends Wu{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.forEach(a=>a.remove()),r.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,r){const i=this.doc.createElement("style");i.textContent=r,t.appendChild(i);const a=this.styleRef.get(r);a?a.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(re))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Bs={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Dl=/%COMP%/g,yc=new u.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Mh(n,e){return e.flat(100).map(t=>t.replace(Dl,n))}function js(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Ri=(()=>{class n{constructor(t,r,i,a){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=a,this.rendererByCompId=new Map,this.defaultRenderer=new Oo(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(t,r);return i instanceof kh?i.applyToHost(t):i instanceof vn&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let a=i.get(r.id);if(!a){const l=this.eventManager,f=this.sharedStylesHost,_=this.removeStylesOnCompDestory;switch(r.encapsulation){case u.ifc.Emulated:a=new kh(l,f,r,this.appId,_);break;case u.ifc.ShadowDom:return new Rh(l,f,t,r);default:a=new vn(l,f,r,_)}a.onDestroy=()=>i.delete(r.id),i.set(r.id,a)}return a}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Tl),u.LFG(Ls),u.LFG(u.AFp),u.LFG(yc))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Oo{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Bs[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Sa(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Sa(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const a=Bs[i];a?e.setAttributeNS(a,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Bs[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(u.JOm.DashCase|u.JOm.Important)?e.style.setProperty(t,r,i&u.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&u.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,js(r)):this.eventManager.addEventListener(e,t,js(r))}}function Sa(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Rh extends Oo{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=Mh(i.id,i.styles);for(const l of a){const f=document.createElement("style");f.textContent=l,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class vn extends Oo{constructor(e,t,r,i,a=r.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=Mh(a,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class kh extends vn{constructor(e,t,r,i,a){const l=i+"-"+r.id;super(e,t,r,a,l),this.contentAttr=function Rp(n){return"_ngcontent-%COMP%".replace(Dl,n)}(l),this.hostAttr=function Sl(n){return"_nghost-%COMP%".replace(Dl,n)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let Ml=(()=>{class n extends Da{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(re))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Ku=["alt","control","meta","shift"],Rl={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},kl={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let pr=(()=>{class n extends Da{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const a=n.parseEventName(r),l=n.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>O().onAndCancel(t,a.domEventName,l))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const a=n._normalizeKey(r.pop());let l="",f=r.indexOf("code");if(f>-1&&(r.splice(f,1),l="code."),Ku.forEach(w=>{const T=r.indexOf(w);T>-1&&(r.splice(T,1),l+=w+".")}),l+=a,0!=r.length||0===a.length)return null;const _={};return _.domEventName=i,_.fullKey=l,_}static matchEventFullKeyCode(t,r){let i=Rl[t.key]||t.key,a="";return r.indexOf("code.")>-1&&(i=t.code,a="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Ku.forEach(l=>{l!==i&&(0,kl[l])(t)&&(a+=l+".")}),a+=i,a===r)}static eventCallback(t,r,i){return a=>{n.matchEventFullKeyCode(a,t)&&i.runGuarded(()=>r(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(re))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Qu=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:Cp},{provide:u.g9A,useValue:function Fo(){qu.makeCurrent()},multi:!0},{provide:re,useFactory:function Pl(){return(0,u.RDi)(document),document},deps:[]}]),wc=new u.OlP(""),Ma=[{provide:u.rWj,useClass:class _c{addToWindow(e){u.dqk.getAngularTestability=(r,i=!0)=>{const a=e.findTestabilityInTree(r,i);if(null==a)throw new Error("Could not find testability for element.");return a},u.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(r=>{const i=u.dqk.getAllAngularTestabilities();let a=i.length,l=!1;const f=function(_){l=l||_,a--,0==a&&r(l)};i.forEach(function(_){_.whenStable(f)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?O().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:u.lri,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]}],os=[{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function kp(){return new u.qLn},deps:[]},{provide:Fs,useClass:Ml,multi:!0,deps:[re,u.R0b,u.Lbi]},{provide:Fs,useClass:pr,multi:!0,deps:[re]},{provide:Ri,useClass:Ri,deps:[Tl,Ls,u.AFp,yc]},{provide:u.FYo,useExisting:Ri},{provide:Wu,useExisting:Ls},{provide:Ls,useClass:Ls,deps:[re]},{provide:Tl,useClass:Tl,deps:[Fs,u.R0b]},{provide:class ul{},useClass:Os,deps:[]},[]];let zs=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:u.AFp,useValue:t.appId},{provide:Mp,useExisting:u.AFp},ov]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(wc,12))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[...os,...Ma],imports:[Ur,u.hGG]}),n})(),Np=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(re))},n.\u0275prov=u.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function qs(){return new Np((0,u.LFG)(re))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let Ll=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):u.LFG(Cc),r},providedIn:"root"}),n})(),Cc=(()=>{class n extends Ll{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case u.q3G.NONE:return r;case u.q3G.HTML:return(0,u.qzn)(r,"HTML")?(0,u.z3N)(r):(0,u.EiD)(this._doc,String(r)).toString();case u.q3G.STYLE:return(0,u.qzn)(r,"Style")?(0,u.z3N)(r):r;case u.q3G.SCRIPT:if((0,u.qzn)(r,"Script"))return(0,u.z3N)(r);throw new Error("unsafe value used in a script context");case u.q3G.URL:return(0,u.qzn)(r,"URL")?(0,u.z3N)(r):(0,u.mCW)(String(r));case u.q3G.RESOURCE_URL:if((0,u.qzn)(r,"ResourceURL"))return(0,u.z3N)(r);throw new Error(`unsafe value used in a resource URL context (see ${u.JZr})`);default:throw new Error(`Unexpected SecurityContext ${t} (see ${u.JZr})`)}}bypassSecurityTrustHtml(t){return(0,u.JVY)(t)}bypassSecurityTrustStyle(t){return(0,u.L6k)(t)}bypassSecurityTrustScript(t){return(0,u.eBb)(t)}bypassSecurityTrustUrl(t){return(0,u.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,u.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(re))},n.\u0275prov=u.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Bl(n){return new Cc(n.get(re))}(u.LFG(u.zs3)),r},providedIn:"root"}),n})();var on=L(8996),yi=L(7669);function rt(...n){const e=(0,yi.yG)(n);return(0,on.D)(n,e)}var kn=L(7579);class Pn extends kn.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const Tc=(0,L(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var $r=L(9751);const{isArray:Vl}=Array,{getPrototypeOf:td,prototype:ki,keys:Ra}=Object;function Dc(n){if(1===n.length){const e=n[0];if(Vl(e))return{args:e,keys:null};if(function Ac(n){return n&&"object"==typeof n&&td(n)===ki}(e)){const t=Ra(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var ss=L(4671),ct=L(4004);const{isArray:nd}=Array;function as(n){return(0,ct.U)(e=>function Ul(n,e){return nd(e)?n(...e):n(e)}(n,e))}function cs(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var gr=L(5403),rd=L(9672);function jl(...n){const e=(0,yi.yG)(n),t=(0,yi.jO)(n),{args:r,keys:i}=Dc(n);if(0===r.length)return(0,on.D)([],e);const a=new $r.y(function Ks(n,e,t=ss.y){return r=>{Ys(e,()=>{const{length:i}=n,a=new Array(i);let l=i,f=i;for(let _=0;_<i;_++)Ys(e,()=>{const w=(0,on.D)(n[_],e);let T=!1;w.subscribe((0,gr.x)(r,R=>{a[_]=R,T||(T=!0,f--),f||r.next(t(a.slice()))},()=>{--l||r.complete()}))},r)},r)}}(r,e,i?l=>cs(i,l):ss.y));return t?a.pipe(as(t)):a}function Ys(n,e,t){n?(0,rd.f)(t,n,e):e()}var Hl=L(8189);function Sc(...n){return function Oh(){return(0,Hl.J)(1)}()((0,on.D)(n,(0,yi.yG)(n)))}var Qs=L(8421);function Fh(n){return new $r.y(e=>{(0,Qs.Xf)(n()).subscribe(e)})}var Bp=L(9635),Mc=L(576);function ka(n,e){const t=(0,Mc.m)(n)?n:()=>n,r=i=>i.error(t());return new $r.y(e?i=>e.schedule(r,0,i):r)}var Pi=L(515),Pa=L(727),Cr=L(4482);function id(){return(0,Cr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,gr.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,a=t;t=null,i&&(!a||i===a)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class od extends $r.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Cr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Pa.w0;const t=this.getSubject();e.add(this.source.subscribe((0,gr.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Pa.w0.EMPTY)}return e}refCount(){return id()(this)}}function $n(n,e){return(0,Cr.e)((t,r)=>{let i=null,a=0,l=!1;const f=()=>l&&!i&&r.complete();t.subscribe((0,gr.x)(r,_=>{i?.unsubscribe();let w=0;const T=a++;(0,Qs.Xf)(n(_,T)).subscribe(i=(0,gr.x)(r,R=>r.next(e?e(_,R,T,w++):R),()=>{i=null,f()}))},()=>{l=!0,f()}))})}function po(n){return n<=0?()=>Pi.E:(0,Cr.e)((e,t)=>{let r=0;e.subscribe((0,gr.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function ls(...n){const e=(0,yi.yG)(n);return(0,Cr.e)((t,r)=>{(e?Sc(n,t,e):Sc(n,t)).subscribe(r)})}function zr(n,e){return(0,Cr.e)((t,r)=>{let i=0;t.subscribe((0,gr.x)(r,a=>n.call(e,a,i++)&&r.next(a)))})}var Yn=L(5577);function Xs(n){return(0,Cr.e)((e,t)=>{let r=!1;e.subscribe((0,gr.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function sd(n=Na){return(0,Cr.e)((e,t)=>{let r=!1;e.subscribe((0,gr.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Na(){return new Tc}function Wi(n,e){const t=arguments.length>=2;return r=>r.pipe(n?zr((i,a)=>n(i,a,r)):ss.y,po(1),t?Xs(e):sd(()=>new Tc))}function mo(n,e){return(0,Mc.m)(e)?(0,Yn.z)(n,e,1):(0,Yn.z)(n,1)}var Qn=L(8505);function us(n){return(0,Cr.e)((e,t)=>{let a,r=null,i=!1;r=e.subscribe((0,gr.x)(t,void 0,void 0,l=>{a=(0,Qs.Xf)(n(l,us(n)(e))),r?(r.unsubscribe(),r=null,a.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(t))})}function $l(n,e){return(0,Cr.e)(function Vp(n,e,t,r,i){return(a,l)=>{let f=t,_=e,w=0;a.subscribe((0,gr.x)(l,T=>{const R=w++;_=f?n(_,T,R):(f=!0,T),r&&l.next(_)},i&&(()=>{f&&l.next(_),l.complete()})))}}(n,e,arguments.length>=2,!0))}function zl(n){return n<=0?()=>Pi.E:(0,Cr.e)((e,t)=>{let r=[];e.subscribe((0,gr.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Gl(n,e){const t=arguments.length>=2;return r=>r.pipe(n?zr((i,a)=>n(i,a,r)):ss.y,zl(1),t?Xs(e):sd(()=>new Tc))}function Rc(n){return(0,Cr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Tt="primary",Zi=Symbol("RouteTitle");class ql{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ni(n){return new ql(n)}function Lh(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let a=0;a<r.length;a++){const l=r[a],f=n[a];if(l.startsWith(":"))i[l.substring(1)]=f;else if(l!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Ki(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let a=0;a<t.length;a++)if(i=t[a],!Vh(n[i],e[i]))return!1;return!0}function Vh(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,a)=>r[a]===i)}return n===e}function Uh(n){return Array.prototype.concat.apply([],n)}function jh(n){return n.length>0?n[n.length-1]:null}function x(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function S(n){return(0,u.CqO)(n)?n:(0,u.QGY)(n)?(0,on.D)(Promise.resolve(n)):rt(n)}const N=!1,G={exact:function qe(n,e,t){if(!Tr(n.segments,e.segments)||!Gr(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!qe(n.children[r],e.children[r],t))return!1;return!0},subset:Pt},Q={exact:function Ke(n,e){return Ki(n,e)},subset:function pt(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Vh(n[t],e[t]))},ignored:()=>!0};function se(n,e,t){return G[t.paths](n.root,e.root,t.matrixParams)&&Q[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Pt(n,e,t){return Nt(n,e,e.segments,t)}function Nt(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Tr(i,t)||e.hasChildren()||!Gr(i,t,r))}if(n.segments.length===t.length){if(!Tr(n.segments,t)||!Gr(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!Pt(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(Tr(n.segments,i)&&Gr(n.segments,i,r)&&n.children[Tt])&&Nt(n.children[Tt],e,a,r)}}function Gr(n,e,t){return e.every((r,i)=>Q[t](n[i].parameters,r.parameters))}class bn{constructor(e=new jt([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ni(this.queryParams)),this._queryParamMap}toString(){return ld.serialize(this)}}class jt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,x(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Up(this)}}class ds{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ni(this.parameters)),this._parameterMap}toString(){return Zg(this)}}function Tr(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let hs=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return new cd},providedIn:"root"}),n})();class cd{parse(e){const t=new dd(e);return new bn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${kc(e.root,!0)}`,r=function lv(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${ea(t)}=${ea(i)}`).join("&"):`${ea(t)}=${ea(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function jp(n){return encodeURI(n)}(e.fragment)}`:""}`}}const ld=new cd;function Up(n){return n.segments.map(e=>Zg(e)).join("/")}function kc(n,e){if(!n.hasChildren())return Up(n);if(e){const t=n.children[Tt]?kc(n.children[Tt],!1):"",r=[];return x(n.children,(i,a)=>{a!==Tt&&r.push(`${a}:${kc(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Yi(n,e){let t=[];return x(n.children,(r,i)=>{i===Tt&&(t=t.concat(e(r,i)))}),x(n.children,(r,i)=>{i!==Tt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Tt?[kc(n.children[Tt],!1)]:[`${i}:${kc(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Tt]?`${Up(n)}/${t[0]}`:`${Up(n)}/(${t.join("//")})`}}function ud(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ea(n){return ud(n).replace(/%3B/gi,";")}function ta(n){return ud(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Wl(n){return decodeURIComponent(n)}function Hp(n){return Wl(n.replace(/\+/g,"%20"))}function Zg(n){return`${ta(n.path)}${function $p(n){return Object.keys(n).map(e=>`;${ta(e)}=${ta(n[e])}`).join("")}(n.parameters)}`}const Kg=/^[^\/()?;=#]+/;function Hh(n){const e=n.match(Kg);return e?e[0]:""}const Cw=/^[^=?&#]+/,uv=/^[^&#]+/;class dd{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new jt([],{}):new jt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Tt]=new jt(e,t)),r}parseSegment(){const e=Hh(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new u.vHH(4009,N);return this.capture(e),new ds(Wl(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Hh(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Hh(this.remaining);i&&(r=i,this.capture(r))}e[Wl(t)]=Wl(r)}parseQueryParam(e){const t=function Pc(n){const e=n.match(Cw);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const l=function Yg(n){const e=n.match(uv);return e?e[0]:""}(this.remaining);l&&(r=l,this.capture(r))}const i=Hp(t),a=Hp(r);if(e.hasOwnProperty(i)){let l=e[i];Array.isArray(l)||(l=[l],e[i]=l),l.push(a)}else e[i]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Hh(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new u.vHH(4010,N);let a;r.indexOf(":")>-1?(a=r.slice(0,r.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=Tt);const l=this.parseChildren();t[a]=1===Object.keys(l).length?l[Tt]:new jt([],l),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new u.vHH(4011,N)}}function $h(n){return n.segments.length>0?new jt([],{[Tt]:n}):n}function Oa(n){const e={};for(const r of Object.keys(n.children)){const a=Oa(n.children[r]);(a.segments.length>0||a.hasChildren())&&(e[r]=a)}return function dv(n){if(1===n.numberOfChildren&&n.children[Tt]){const e=n.children[Tt];return new jt(n.segments.concat(e.segments),e.children)}return n}(new jt(n.segments,e))}function Nc(n){return n instanceof bn}const Zl=!1;function Qg(n,e,t,r,i){if(0===t.length)return na(e.root,e.root,e.root,r,i);const a=function pd(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Gh(!0,0,n);let e=0,t=!1;const r=n.reduce((i,a,l)=>{if("object"==typeof a&&null!=a){if(a.outlets){const f={};return x(a.outlets,(_,w)=>{f[w]="string"==typeof _?_.split("/"):_}),[...i,{outlets:f}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===l?(a.split("/").forEach((f,_)=>{0==_&&"."===f||(0==_&&""===f?t=!0:".."===f?e++:""!=f&&i.push(f))}),i):[...i,a]},[]);return new Gh(t,e,r)}(t);return a.toRoot()?na(e.root,e.root,new jt([],{}),r,i):function l(_){const w=function qh(n,e,t,r){if(n.isAbsolute)return new Oc(e.root,!0,0);if(-1===r)return new Oc(t,t===e.root,0);return function Fc(n,e,t){let r=n,i=e,a=t;for(;a>i;){if(a-=i,r=r.parent,!r)throw new u.vHH(4005,Zl&&"Invalid number of '../'");i=r.segments.length}return new Oc(r,!1,i-a)}(t,r+(fd(n.commands[0])?0:1),n.numberOfDoubleDots)}(a,e,n.snapshot?._urlSegment,_),T=w.processChildren?Bo(w.segmentGroup,w.index,a.commands):Zh(w.segmentGroup,w.index,a.commands);return na(e.root,w.segmentGroup,T,r,i)}(n.snapshot?._lastPathIndex)}function fd(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function zh(n){return"object"==typeof n&&null!=n&&n.outlets}function na(n,e,t,r,i){let l,a={};r&&x(r,(_,w)=>{a[w]=Array.isArray(_)?_.map(T=>`${T}`):`${_}`}),l=n===e?t:Xg(n,e,t);const f=$h(Oa(l));return new bn(f,a,i)}function Xg(n,e,t){const r={};return x(n.children,(i,a)=>{r[a]=i===e?t:Xg(i,e,t)}),new jt(n.segments,r)}class Gh{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&fd(r[0]))throw new u.vHH(4003,Zl&&"Root segment cannot have matrix parameters");const i=r.find(zh);if(i&&i!==jh(r))throw new u.vHH(4004,Zl&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Oc{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Zh(n,e,t){if(n||(n=new jt([],{})),0===n.segments.length&&n.hasChildren())return Bo(n,e,t);const r=function Gp(n,e,t){let r=0,i=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return a;const l=n.segments[i],f=t[r];if(zh(f))break;const _=`${f}`,w=r<t.length-1?t[r+1]:null;if(i>0&&void 0===_)break;if(_&&w&&"object"==typeof w&&void 0===w.outlets){if(!Wp(_,w,l))return a;r+=2}else{if(!Wp(_,{},l))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const a=new jt(n.segments.slice(0,r.pathIndex),{});return a.children[Tt]=new jt(n.segments.slice(r.pathIndex),n.children),Bo(a,0,i)}return r.match&&0===i.length?new jt(n.segments,{}):r.match&&!n.hasChildren()?md(n,e,t):r.match?Bo(n,0,i):md(n,e,t)}function Bo(n,e,t){if(0===t.length)return new jt(n.segments,{});{const r=function Wh(n){return zh(n[0])?n[0].outlets:{[Tt]:n}}(t),i={};if(!r[Tt]&&n.children[Tt]&&1===n.numberOfChildren&&0===n.children[Tt].segments.length){const a=Bo(n.children[Tt],e,t);return new jt(n.segments,a.children)}return x(r,(a,l)=>{"string"==typeof a&&(a=[a]),null!==a&&(i[l]=Zh(n.children[l],e,a))}),x(n.children,(a,l)=>{void 0===r[l]&&(i[l]=a)}),new jt(n.segments,i)}}function md(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const a=t[i];if(zh(a)){const _=gd(a.outlets);return new jt(r,_)}if(0===i&&fd(t[0])){r.push(new ds(n.segments[e].path,qp(t[0]))),i++;continue}const l=zh(a)?a.outlets[Tt]:`${a}`,f=i<t.length-1?t[i+1]:null;l&&f&&fd(f)?(r.push(new ds(l,qp(f))),i+=2):(r.push(new ds(l,{})),i++)}return new jt(r,{})}function gd(n){const e={};return x(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=md(new jt([],{}),0,t))}),e}function qp(n){const e={};return x(n,(t,r)=>e[r]=`${t}`),e}function Wp(n,e,t){return n==t.path&&Ki(e,t.parameters)}const _d="imperative";class fs{constructor(e,t){this.id=e,this.url=t}}class Zp extends fs{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class go extends fs{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class yd extends fs{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class La extends fs{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class vd extends fs{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Kl extends fs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fv extends fs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pv extends fs{constructor(e,t,r,i,a){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class mv extends fs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Kp extends fs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bd{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Jg{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class e_{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yl{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yp{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Oi{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Lc{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Xp=(()=>{class n{createUrlTree(t,r,i,a,l,f){return Qg(t||r.root,i,a,l,f)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),gv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(e){return Xp.\u0275fac(e)},providedIn:"root"}),n})();class em{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=tm(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=tm(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Pr(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Pr(e,this._root).map(t=>t.value)}}function tm(n,e){if(n===e.value)return e;for(const t of e.children){const r=tm(n,t);if(r)return r}return null}function Pr(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Pr(n,t);if(r.length)return r.unshift(e),r}return[]}class vi{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Ql(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class t_ extends em{constructor(e,t){super(e),this.snapshot=t,Vc(this,e)}toString(){return this.snapshot.toString()}}function n_(n,e){const t=function r_(n,e){const l=new Qh([],{},{},"",{},Tt,e,null,n.root,-1,{});return new ps("",new vi(l,[]))}(n,e),r=new Pn([new ds("",{})]),i=new Pn({}),a=new Pn({}),l=new Pn({}),f=new Pn(""),_=new sr(r,i,l,f,a,Tt,e,t.root);return _.snapshot=t.root,new t_(new vi(_,[]),t)}class sr{constructor(e,t,r,i,a,l,f,_){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=l,this.component=f,this.title=this.data?.pipe((0,ct.U)(w=>w[Zi]))??rt(void 0),this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ct.U)(e=>Ni(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ct.U)(e=>Ni(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Kh(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],a=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function Yh(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Qh{get title(){return this.data?.[Zi]}constructor(e,t,r,i,a,l,f,_,w,T,R){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=l,this.component=f,this.routeConfig=_,this._urlSegment=w,this._lastPathIndex=T,this._resolve=R}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ni(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ni(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ps extends em{constructor(e,t){super(t),this.url=e,Vc(this,t)}toString(){return nm(this._root)}}function Vc(n,e){e.value._routerState=n,e.children.forEach(t=>Vc(n,t))}function nm(n){const e=n.children.length>0?` { ${n.children.map(nm).join(", ")} } `:"";return`${n.value}${e}`}function Uc(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ki(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Ki(e.params,t.params)||n.params.next(t.params),function Bh(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Ki(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Ki(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Vo(n,e){const t=Ki(n.params,e.params)&&function Js(n,e){return Tr(n,e)&&n.every((t,r)=>Ki(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Vo(n.parent,e.parent))}function Xl(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function i_(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Xl(n,r,i);return Xl(n,r)})}(n,e,t);return new vi(r,i)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const l=a.route;return l.value._futureSnapshot=e.value,l.children=e.children.map(f=>Xl(n,f)),l}}const r=function o_(n){return new sr(new Pn(n.url),new Pn(n.params),new Pn(n.queryParams),new Pn(n.fragment),new Pn(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(a=>Xl(n,a));return new vi(r,i)}}const s_="ngNavigationCancelingError";function y(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Nc(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=p(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function p(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[s_]=!0,r.cancellationCode=e,t&&(r.url=t),r}function m(n){return b(n)&&Nc(n.url)}function b(n){return n&&n[s_]}class D{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new k,this.attachRef=null}}let k=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new D,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const j=!1;let X=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Tt,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.parentContexts=(0,u.f3M)(k),this.location=(0,u.f3M)(u.s_b),this.changeDetector=(0,u.f3M)(u.sBO),this.environmentInjector=(0,u.f3M)(u.lqb)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new u.vHH(4012,j);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new u.vHH(4012,j);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new u.vHH(4012,j);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new u.vHH(4013,j);this._activatedRoute=t;const i=this.location,l=t.snapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,_=new Pe(t,f,i.injector);if(r&&function We(n){return!!n.resolveComponentFactory}(r)){const w=r.resolveComponentFactory(l);this.activated=i.createComponent(w,i.length,_)}else this.activated=i.createComponent(l,{index:i.length,injector:_,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[u.TTD]}),n})();class Pe{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===sr?this.route:e===k?this.childContexts:this.parent.get(e,t)}}let st=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[u.jDz],decls:1,vars:0,template:function(t,r){1&t&&u._UZ(0,"router-outlet")},dependencies:[X],encapsulation:2}),n})();function at(n,e){return n.providers&&!n._injector&&(n._injector=(0,u.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Id(n){const e=n.children&&n.children.map(Id),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Tt&&(t.component=st),t}function Qi(n){return n.outlet||Tt}function Xh(n,e){const t=n.filter(r=>Qi(r)===e);return t.push(...n.filter(r=>Qi(r)!==e)),t}function Jl(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Jh{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Uc(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Ql(t);e.children.forEach(a=>{const l=a.value.outlet;this.deactivateRoutes(a,i[l],r),delete i[l]}),x(i,(a,l)=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(i===a)if(i.component){const l=r.getContext(i.outlet);l&&this.deactivateChildRoutes(e,t,l.children)}else this.deactivateChildRoutes(e,t,r);else a&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=Ql(e);for(const l of Object.keys(a))this.deactivateRouteAndItsChildren(a[l],i);if(r&&r.outlet){const l=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:l,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=Ql(e);for(const l of Object.keys(a))this.deactivateRouteAndItsChildren(a[l],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Ql(t);e.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new Oi(a.value.snapshot))}),e.children.length&&this.forwardEvent(new Yl(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(Uc(i),i===a)if(i.component){const l=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,l.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const l=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),l.children.onOutletReAttached(f.contexts),l.attachRef=f.componentRef,l.route=f.route.value,l.outlet&&l.outlet.attach(f.componentRef,f.route.value),Uc(f.route.value),this.activateChildRoutes(e,null,l.children)}else{const f=Jl(i.snapshot),_=f?.get(u._Vd)??null;l.attachRef=null,l.route=i,l.resolver=_,l.injector=f,l.outlet&&l.outlet.activateWith(i,l.injector),this.activateChildRoutes(e,null,l.children)}}else this.activateChildRoutes(e,null,r)}}class vv{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class bv{constructor(e,t){this.component=e,this.route=t}}function rm(n,e,t){const r=n._root;return ef(r,e?e._root:null,t,[r.value])}function xd(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,u.Z0I)(n)?e.get(n):n:r}function ef(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=Ql(e);return n.children.forEach(l=>{(function Tw(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,l=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(l&&a.routeConfig===l.routeConfig){const _=function wR(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Tr(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Tr(n.url,e.url)||!Ki(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Vo(n,e)||!Ki(n.queryParams,e.queryParams);default:return!Vo(n,e)}}(l,a,a.routeConfig.runGuardsAndResolvers);_?i.canActivateChecks.push(new vv(r)):(a.data=l.data,a._resolvedData=l._resolvedData),ef(n,e,a.component?f?f.children:null:t,r,i),_&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new bv(f.outlet.component,l))}else l&&im(e,f,i),i.canActivateChecks.push(new vv(r)),ef(n,null,a.component?f?f.children:null:t,r,i)})(l,a[l.value.outlet],t,r.concat([l.value]),i),delete a[l.value.outlet]}),x(a,(l,f)=>im(l,t.getContext(f),i)),i}function im(n,e,t){const r=Ql(n),i=n.value;x(r,(a,l)=>{im(a,i.component?e?e.children.getContext(l):null:e,t)}),t.canDeactivateChecks.push(new bv(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function tf(n){return"function"==typeof n}function Hc(n){return n instanceof Tc||"EmptyError"===n?.name}const l_=Symbol("INITIAL_VALUE");function eu(){return $n(n=>jl(n.map(e=>e.pipe(po(1),ls(l_)))).pipe((0,ct.U)(e=>{for(const t of e)if(!0!==t){if(t===l_)return l_;if(!1===t||t instanceof bn)return t}return!0}),zr(e=>e!==l_),po(1)))}function Dv(n){return(0,Bp.z)((0,Qn.b)(e=>{if(Nc(e))throw y(0,e)}),(0,ct.U)(e=>!0===e))}const Av={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Mw(n,e,t,r,i){const a=Sv(n,e,t);return a.matched?function nf(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?rt(i.map(l=>{const f=xd(l,n);return S(function xv(n){return n&&tf(n.canMatch)}(f)?f.canMatch(e,t):n.runInContext(()=>f(e,t)))})).pipe(eu(),Dv()):rt(!0)}(r=at(e,r),e,t).pipe((0,ct.U)(l=>!0===l?a:{...Av})):rt(a)}function Sv(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Av}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Lh)(t,n,e);if(!i)return{...Av};const a={};x(i.posParams,(f,_)=>{a[_]=f.path});const l=i.consumed.length>0?{...a,...i.consumed[i.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:l,positionalParamSegments:i.posParams??{}}}function rf(n,e,t,r){if(t.length>0&&function qC(n,e,t){return t.some(r=>Mv(n,e,r)&&Qi(r)!==Tt)}(n,t,r)){const a=new jt(e,function Rw(n,e,t,r){const i={};i[Tt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&Qi(a)!==Tt){const l=new jt([],{});l._sourceSegment=n,l._segmentIndexShift=e.length,i[Qi(a)]=l}return i}(n,e,r,new jt(t,n.children)));return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:[]}}if(0===t.length&&function kw(n,e,t){return t.some(r=>Mv(n,e,r))}(n,t,r)){const a=new jt(n.segments,function GC(n,e,t,r,i){const a={};for(const l of r)if(Mv(n,t,l)&&!i[Qi(l)]){const f=new jt([],{});f._sourceSegment=n,f._segmentIndexShift=e.length,a[Qi(l)]=f}return{...i,...a}}(n,e,t,r,n.children));return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}const i=new jt(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function Mv(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Pw(n,e,t,r){return!!(Qi(n)===r||r!==Tt&&Mv(e,t,n))&&("**"===n.path||Sv(e,n,t).matched)}function sf(n,e,t){return 0===e.length&&!n.children[t]}const h_=!1;class $c{constructor(e){this.segmentGroup=e||null}}class af{constructor(e){this.urlTree=e}}function om(n){return ka(new $c(n))}function Rv(n){return ka(new af(n))}class Nw{constructor(e,t,r,i,a){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=a,this.allowRedirects=!0}apply(){const e=rf(this.urlTree.root,[],[],this.config).segmentGroup,t=new jt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Tt).pipe((0,ct.U)(a=>this.createUrlTree(Oa(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(us(a=>{if(a instanceof af)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof $c?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Tt).pipe((0,ct.U)(i=>this.createUrlTree(Oa(i),e.queryParams,e.fragment))).pipe(us(i=>{throw i instanceof $c?this.noMatchError(i):i}))}noMatchError(e){return new u.vHH(4002,h_)}createUrlTree(e,t,r){const i=$h(e);return new bn(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,ct.U)(a=>new jt([],a))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return(0,on.D)(i).pipe(mo(a=>{const l=r.children[a],f=Xh(t,a);return this.expandSegmentGroup(e,f,l,a).pipe((0,ct.U)(_=>({segment:_,outlet:a})))}),$l((a,l)=>(a[l.outlet]=l.segment,a),{}),Gl())}expandSegment(e,t,r,i,a,l){return(0,on.D)(r).pipe(mo(f=>this.expandSegmentAgainstRoute(e,t,r,f,i,a,l).pipe(us(w=>{if(w instanceof $c)return rt(null);throw w}))),Wi(f=>!!f),us((f,_)=>{if(Hc(f))return sf(t,i,a)?rt(new jt([],{})):om(t);throw f}))}expandSegmentAgainstRoute(e,t,r,i,a,l,f){return Pw(i,t,a,l)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,a,l):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,l):om(t):om(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,l){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,l):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const a=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Rv(a):this.lineralizeSegments(r,a).pipe((0,Yn.z)(l=>{const f=new jt(l,{});return this.expandSegment(e,f,t,l,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,l){const{matched:f,consumedSegments:_,remainingSegments:w,positionalParamSegments:T}=Sv(t,i,a);if(!f)return om(t);const R=this.applyRedirectCommands(_,i.redirectTo,T);return i.redirectTo.startsWith("/")?Rv(R):this.lineralizeSegments(i,R).pipe((0,Yn.z)(F=>this.expandSegment(e,t,r,F.concat(w),l,!1)))}matchSegmentAgainstRoute(e,t,r,i,a){return"**"===r.path?(e=at(r,e),r.loadChildren?(r._loadedRoutes?rt({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,ct.U)(f=>(r._loadedRoutes=f.routes,r._loadedInjector=f.injector,new jt(i,{})))):rt(new jt(i,{}))):Mw(t,r,i,e).pipe($n(({matched:l,consumedSegments:f,remainingSegments:_})=>l?this.getChildConfig(e=r._injector??e,r,i).pipe((0,Yn.z)(T=>{const R=T.injector??e,F=T.routes,{segmentGroup:U,slicedSegments:q}=rf(t,f,_,F),J=new jt(U.segments,U.children);if(0===q.length&&J.hasChildren())return this.expandChildren(R,F,J).pipe((0,ct.U)(ze=>new jt(f,ze)));if(0===F.length&&0===q.length)return rt(new jt(f,{}));const ce=Qi(r)===a;return this.expandSegment(R,J,F,q,ce?Tt:a,!0).pipe((0,ct.U)(Ye=>new jt(f.concat(Ye.segments),Ye.children)))})):om(t)))}getChildConfig(e,t,r){return t.children?rt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?rt({routes:t._loadedRoutes,injector:t._loadedInjector}):function zC(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?rt(!0):rt(i.map(l=>{const f=xd(l,n);return S(function Ev(n){return n&&tf(n.canLoad)}(f)?f.canLoad(e,t):n.runInContext(()=>f(e,t)))})).pipe(eu(),Dv())}(e,t,r).pipe((0,Yn.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,Qn.b)(a=>{t._loadedRoutes=a.routes,t._loadedInjector=a.injector})):function ZC(n){return ka(p(h_,3))}())):rt({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return rt(r);if(i.numberOfChildren>1||!i.children[Tt])return e.redirectTo,ka(new u.vHH(4e3,h_));i=i.children[Tt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const a=this.createSegmentGroup(e,t.root,r,i);return new bn(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return x(e,(i,a)=>{if("string"==typeof i&&i.startsWith(":")){const f=i.substring(1);r[a]=t[f]}else r[a]=i}),r}createSegmentGroup(e,t,r,i){const a=this.createSegments(e,t.segments,r,i);let l={};return x(t.children,(f,_)=>{l[_]=this.createSegmentGroup(e,f,r,i)}),new jt(a,l)}createSegments(e,t,r,i){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,i):this.findOrReturn(a,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new u.vHH(4001,h_);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class kv{}class sm{constructor(e,t,r,i,a,l,f){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=a,this.paramsInheritanceStrategy=l,this.urlSerializer=f}recognize(){const e=rf(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Tt).pipe((0,ct.U)(t=>{if(null===t)return null;const r=new Qh([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Tt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new vi(r,t),a=new ps(this.url,i);return this.inheritParamsAndData(a._root),a}))}inheritParamsAndData(e){const t=e.value,r=Kh(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,on.D)(Object.keys(r.children)).pipe(mo(i=>{const a=r.children[i],l=Xh(t,i);return this.processSegmentGroup(e,l,a,i)}),$l((i,a)=>i&&a?(i.push(...a),i):null),function Lo(n,e=!1){return(0,Cr.e)((t,r)=>{let i=0;t.subscribe((0,gr.x)(r,a=>{const l=n(a,i++);(l||e)&&r.next(a),!l&&r.complete()}))})}(i=>null!==i),Xs(null),Gl(),(0,ct.U)(i=>{if(null===i)return null;const a=Fw(i);return function QC(n){n.sort((e,t)=>e.value.outlet===Tt?-1:t.value.outlet===Tt?1:e.value.outlet.localeCompare(t.value.outlet))}(a),a}))}processSegment(e,t,r,i,a){return(0,on.D)(t).pipe(mo(l=>this.processSegmentAgainstRoute(l._injector??e,l,r,i,a)),Wi(l=>!!l),us(l=>{if(Hc(l))return sf(r,i,a)?rt([]):rt(null);throw l}))}processSegmentAgainstRoute(e,t,r,i,a){if(t.redirectTo||!Pw(t,r,i,a))return rt(null);let l;if("**"===t.path){const f=i.length>0?jh(i).parameters:{},_=Bw(r)+i.length;l=rt({snapshot:new Qh(i,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ba(t),Qi(t),t.component??t._loadedComponent??null,t,Lw(r),_,Vw(t)),consumedSegments:[],remainingSegments:[]})}else l=Mw(r,t,i,e).pipe((0,ct.U)(({matched:f,consumedSegments:_,remainingSegments:w,parameters:T})=>{if(!f)return null;const R=Bw(r)+_.length;return{snapshot:new Qh(_,T,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ba(t),Qi(t),t.component??t._loadedComponent??null,t,Lw(r),R,Vw(t)),consumedSegments:_,remainingSegments:w}}));return l.pipe($n(f=>{if(null===f)return rt(null);const{snapshot:_,consumedSegments:w,remainingSegments:T}=f;e=t._injector??e;const R=t._loadedInjector??e,F=function XC(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:U,slicedSegments:q}=rf(r,w,T,F.filter(ce=>void 0===ce.redirectTo));if(0===q.length&&U.hasChildren())return this.processChildren(R,F,U).pipe((0,ct.U)(ce=>null===ce?null:[new vi(_,ce)]));if(0===F.length&&0===q.length)return rt([new vi(_,[])]);const J=Qi(t)===a;return this.processSegment(R,F,U,q,J?Tt:a).pipe((0,ct.U)(ce=>null===ce?null:[new vi(_,ce)]))}))}}function JC(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Fw(n){const e=[],t=new Set;for(const r of n){if(!JC(r)){e.push(r);continue}const i=e.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=Fw(r.children);e.push(new vi(r.value,i))}return e.filter(r=>!t.has(r))}function Lw(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Bw(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function Ba(n){return n.data||{}}function Vw(n){return n.resolve||{}}function Nv(n){return"string"==typeof n.title||null===n.title}function Ov(n){return $n(e=>{const t=n(e);return t?(0,on.D)(t).pipe((0,ct.U)(()=>e)):rt(e)})}const cf=new u.OlP("ROUTES");let Lv=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,u.f3M)(u.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return rt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=S(t.loadComponent()).pipe((0,ct.U)(Hw),(0,Qn.b)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=a}),Rc(()=>{this.componentLoaders.delete(t)})),i=new od(r,()=>new kn.x).pipe(id());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return rt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const a=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,ct.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(r);let _,w,T=!1;Array.isArray(f)?w=f:(_=f.create(t).injector,w=Uh(_.get(cf,[],u.XFs.Self|u.XFs.Optional)));return{routes:w.map(Id),injector:_}}),Rc(()=>{this.childrenLoaders.delete(r)})),l=new od(a,()=>new kn.x).pipe(id());return this.childrenLoaders.set(r,l),l}loadModuleFactoryOrRoutes(t){return S(t()).pipe((0,ct.U)(Hw),(0,Yn.z)(r=>r instanceof u.YKP||Array.isArray(r)?rt(r):(0,on.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Hw(n){return function ra(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let p_=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new kn.x,this.configLoader=(0,u.f3M)(Lv),this.environmentInjector=(0,u.f3M)(u.lqb),this.urlSerializer=(0,u.f3M)(hs),this.rootContexts=(0,u.f3M)(k),this.navigationId=0,this.afterPreactivation=()=>rt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new Jg(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new bd(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new Pn({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:_d,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(zr(r=>0!==r.id),(0,ct.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),$n(r=>{let i=!1,a=!1;return rt(r).pipe((0,Qn.b)(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),$n(l=>{const f=t.browserUrlTree.toString(),_=!t.navigated||l.extractedUrl.toString()!==f||f!==t.currentUrlTree.toString();if(!_&&"reload"!==(l.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const T="";return this.events.next(new La(l.id,t.serializeUrl(r.rawUrl),T,0)),t.rawUrlTree=l.rawUrl,l.resolve(null),Pi.E}if(t.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return $w(l.source)&&(t.browserUrlTree=l.extractedUrl),rt(l).pipe($n(T=>{const R=this.transitions?.getValue();return this.events.next(new Zp(T.id,this.urlSerializer.serialize(T.extractedUrl),T.source,T.restoredState)),R!==this.transitions?.getValue()?Pi.E:Promise.resolve(T)}),function Ow(n,e,t,r){return $n(i=>function KC(n,e,t,r,i){return new Nw(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,ct.U)(a=>({...i,urlAfterRedirects:a}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),(0,Qn.b)(T=>{this.currentNavigation={...this.currentNavigation,finalUrl:T.urlAfterRedirects},r.urlAfterRedirects=T.urlAfterRedirects}),function tT(n,e,t,r,i){return(0,Yn.z)(a=>function Pv(n,e,t,r,i,a,l="emptyOnly"){return new sm(n,e,t,r,i,l,a).recognize().pipe($n(f=>null===f?function YC(n){return new $r.y(e=>e.error(n))}(new kv):rt(f)))}(n,e,t,a.urlAfterRedirects,r.serialize(a.urlAfterRedirects),r,i).pipe((0,ct.U)(l=>({...a,targetSnapshot:l}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,Qn.b)(T=>{if(r.targetSnapshot=T.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!T.extras.skipLocationChange){const F=t.urlHandlingStrategy.merge(T.urlAfterRedirects,T.rawUrl);t.setBrowserUrl(F,T)}t.browserUrlTree=T.urlAfterRedirects}const R=new Kl(T.id,this.urlSerializer.serialize(T.extractedUrl),this.urlSerializer.serialize(T.urlAfterRedirects),T.targetSnapshot);this.events.next(R)}));if(_&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:T,extractedUrl:R,source:F,restoredState:U,extras:q}=l,J=new Zp(T,this.urlSerializer.serialize(R),F,U);this.events.next(J);const ce=n_(R,this.rootComponentType).snapshot;return rt(r={...l,targetSnapshot:ce,urlAfterRedirects:R,extras:{...q,skipLocationChange:!1,replaceUrl:!1}})}{const T="";return this.events.next(new La(l.id,t.serializeUrl(r.extractedUrl),T,1)),t.rawUrlTree=l.rawUrl,l.resolve(null),Pi.E}}),(0,Qn.b)(l=>{const f=new fv(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}),(0,ct.U)(l=>r={...l,guards:rm(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),function u_(n,e){return(0,Yn.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:l}}=t;return 0===l.length&&0===a.length?rt({...t,guardsResult:!0}):function HC(n,e,t,r){return(0,on.D)(n).pipe((0,Yn.z)(i=>function $C(n,e,t,r,i){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?rt(a.map(f=>{const _=Jl(e)??i,w=xd(f,_);return S(function UC(n){return n&&tf(n.canDeactivate)}(w)?w.canDeactivate(n,e,t,r):_.runInContext(()=>w(n,e,t,r))).pipe(Wi())})).pipe(eu()):rt(!0)}(i.component,i.route,t,e,r)),Wi(i=>!0!==i,!0))}(l,r,i,n).pipe((0,Yn.z)(f=>f&&function Dw(n){return"boolean"==typeof n}(f)?function Cv(n,e,t,r){return(0,on.D)(e).pipe(mo(i=>Sc(function Cd(n,e){return null!==n&&e&&e(new e_(n)),rt(!0)}(i.route.parent,r),function d_(n,e){return null!==n&&e&&e(new Yp(n)),rt(!0)}(i.route,r),function Tv(n,e,t){const r=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(l=>function wv(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(l)).filter(l=>null!==l).map(l=>Fh(()=>rt(l.guards.map(_=>{const w=Jl(l.node)??t,T=xd(_,w);return S(function Iv(n){return n&&tf(n.canActivateChild)}(T)?T.canActivateChild(r,n):w.runInContext(()=>T(r,n))).pipe(Wi())})).pipe(eu())));return rt(a).pipe(eu())}(n,i.path,t),function Sw(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return rt(!0);const i=r.map(a=>Fh(()=>{const l=Jl(e)??t,f=xd(a,l);return S(function ER(n){return n&&tf(n.canActivate)}(f)?f.canActivate(e,n):l.runInContext(()=>f(e,n))).pipe(Wi())}));return rt(i).pipe(eu())}(n,i.route,t))),Wi(i=>!0!==i,!0))}(r,a,n,e):rt(f)),(0,ct.U)(f=>({...t,guardsResult:f})))})}(this.environmentInjector,l=>this.events.next(l)),(0,Qn.b)(l=>{if(r.guardsResult=l.guardsResult,Nc(l.guardsResult))throw y(0,l.guardsResult);const f=new pv(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(f)}),zr(l=>!!l.guardsResult||(t.restoreHistory(l),this.cancelNavigationTransition(l,"",3),!1)),Ov(l=>{if(l.guards.canActivateChecks.length)return rt(l).pipe((0,Qn.b)(f=>{const _=new mv(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(_)}),$n(f=>{let _=!1;return rt(f).pipe(function IR(n,e){return(0,Yn.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return rt(t);let a=0;return(0,on.D)(i).pipe(mo(l=>function xR(n,e,t,r){const i=n.routeConfig,a=n._resolve;return void 0!==i?.title&&!Nv(i)&&(a[Zi]=i.title),function Uw(n,e,t,r){const i=function CR(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return rt({});const a={};return(0,on.D)(i).pipe((0,Yn.z)(l=>function jw(n,e,t,r){const i=Jl(e)??r,a=xd(n,i);return S(a.resolve?a.resolve(e,t):i.runInContext(()=>a(e,t)))}(n[l],e,t,r).pipe(Wi(),(0,Qn.b)(f=>{a[l]=f}))),zl(1),function ad(n){return(0,ct.U)(()=>n)}(a),us(l=>Hc(l)?Pi.E:ka(l)))}(a,n,e,r).pipe((0,ct.U)(l=>(n._resolvedData=l,n.data=Kh(n,t).resolve,i&&Nv(i)&&(n.data[Zi]=i.title),null)))}(l.route,r,n,e)),(0,Qn.b)(()=>a++),zl(1),(0,Yn.z)(l=>a===i.length?rt(t):Pi.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,Qn.b)({next:()=>_=!0,complete:()=>{_||(t.restoreHistory(f),this.cancelNavigationTransition(f,"",2))}}))}),(0,Qn.b)(f=>{const _=new Kp(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(_)}))}),Ov(l=>{const f=_=>{const w=[];_.routeConfig?.loadComponent&&!_.routeConfig._loadedComponent&&w.push(this.configLoader.loadComponent(_.routeConfig).pipe((0,Qn.b)(T=>{_.component=T}),(0,ct.U)(()=>{})));for(const T of _.children)w.push(...f(T));return w};return jl(f(l.targetSnapshot.root)).pipe(Xs(),po(1))}),Ov(()=>this.afterPreactivation()),(0,ct.U)(l=>{const f=function jc(n,e,t){const r=Xl(n,e._root,t?t._root:void 0);return new t_(r,e)}(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return r={...l,targetRouterState:f}}),(0,Qn.b)(l=>{t.currentUrlTree=l.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl),t.routerState=l.targetRouterState,"deferred"===t.urlUpdateStrategy&&(l.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,l),t.browserUrlTree=l.urlAfterRedirects)}),((n,e,t)=>(0,ct.U)(r=>(new Jh(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l)),po(1),(0,Qn.b)({next:l=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new go(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{i=!0}}),Rc(()=>{i||a||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),us(l=>{if(a=!0,b(l)){m(l)||(t.navigated=!0,t.restoreHistory(r,!0));const f=new yd(r.id,this.urlSerializer.serialize(r.extractedUrl),l.message,l.cancellationCode);if(this.events.next(f),m(l)){const _=t.urlHandlingStrategy.merge(l.url,t.rawUrlTree),w={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||$w(r.source)};t.scheduleNavigation(_,_d,null,w,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const f=new vd(r.id,this.urlSerializer.serialize(r.extractedUrl),l,r.targetSnapshot??void 0);this.events.next(f);try{r.resolve(t.errorHandler(l))}catch(_){r.reject(_)}}return Pi.E}))}))}cancelNavigationTransition(t,r,i){const a=new yd(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(a),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function $w(n){return n!==_d}let zw=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(a=>a.outlet===Tt);return r}getResolvedTitleForRoute(t){return t.data[Zi]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(nT)},providedIn:"root"}),n})(),nT=(()=>{class n extends zw{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Np))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Gw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(iT)},providedIn:"root"}),n})();class rT{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let iT=(()=>{class n extends rT{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const zt=new u.OlP("",{providedIn:"root",factory:()=>({})});let qw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(Ww)},providedIn:"root"}),n})(),Ww=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function sT(n){throw n}function aT(n,e,t){return e.parse("/")}const Zw={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},cT={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let _o=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,u.f3M)(u.c2e),this.isNgZoneEnabled=!1,this.options=(0,u.f3M)(zt,{optional:!0})||{},this.errorHandler=this.options.errorHandler||sT,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||aT,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,u.f3M)(qw),this.routeReuseStrategy=(0,u.f3M)(Gw),this.urlCreationStrategy=(0,u.f3M)(gv),this.titleStrategy=(0,u.f3M)(zw),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Uh((0,u.f3M)(cf,{optional:!0})??[]),this.navigationTransitions=(0,u.f3M)(p_),this.urlSerializer=(0,u.f3M)(hs),this.location=(0,u.f3M)($e),this.isNgZoneEnabled=(0,u.f3M)(u.R0b)instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new bn,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=n_(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),_d,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const a={replaceUrl:!0},l=i?.navigationId?i:null;if(i){const _={...i};delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(a.state=_)}const f=this.parseUrl(t);this.scheduleNavigation(f,r,l,a)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(Id),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:a,fragment:l,queryParamsHandling:f,preserveFragment:_}=r,w=_?this.currentUrlTree.fragment:l;let T=null;switch(f){case"merge":T={...this.currentUrlTree.queryParams,...a};break;case"preserve":T=this.currentUrlTree.queryParams;break;default:T=a||null}return null!==T&&(T=this.removeEmptyProps(T)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,T,w??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Nc(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(a,_d,null,r)}navigate(t,r={skipLocationChange:!1}){return function lT(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new u.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...Zw}:!1===r?{...cT}:r,Nc(t))return se(this.currentUrlTree,t,i);const a=this.parseUrl(t);return se(this.currentUrlTree,a,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const a=t[i];return null!=a&&(r[i]=a),r},{})}scheduleNavigation(t,r,i,a,l){if(this.disposed)return Promise.resolve(!1);let f,_,w,T;return l?(f=l.resolve,_=l.reject,w=l.promise):w=new Promise((R,F)=>{f=R,_=F}),T="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:T,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:a,resolve:f,reject:_,promise:w,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),w.catch(R=>Promise.reject(R))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const l={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",l)}else{const a={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.go(i,"",a)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const a=this.currentPageId-(this.browserPageId??this.currentPageId);0!==a?this.location.historyGo(a):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===a&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),lm=(()=>{class n{constructor(t,r,i,a,l,f){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=a,this.el=l,this.locationStrategy=f,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new kn.x;const _=l.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===_||"area"===_,this.isAnchorElement?this.subscription=t.events.subscribe(w=>{w instanceof go&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,u.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,u.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,u.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,a,l){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||a||l||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,u.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,a=this.el.nativeElement;null!==r?i.setAttribute(a,t,r):i.removeAttribute(a,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(_o),u.Y36(sr),u.$8M("tabindex"),u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(ht))},n.\u0275dir=u.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&u.NdJ("click",function(a){return r.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&t&&u.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[u.TTD]}),n})();class Bv{}let Vv=(()=>{class n{constructor(t,r,i,a,l){this.router=t,this.injector=i,this.preloadingStrategy=a,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(zr(t=>t instanceof go),mo(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const a of r){a.providers&&!a._injector&&(a._injector=(0,u.MMx)(a.providers,t,`Route: ${a.path}`));const l=a._injector??t,f=a._loadedInjector??l;(a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent)&&i.push(this.preloadConfig(l,a)),(a.children||a._loadedRoutes)&&i.push(this.processRoutes(f,a.children??a._loadedRoutes))}return(0,on.D)(i).pipe((0,Hl.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):rt(null);const a=i.pipe((0,Yn.z)(l=>null===l?rt(void 0):(r._loadedRoutes=l.routes,r._loadedInjector=l.injector,this.processRoutes(l.injector??t,l.routes))));if(r.loadComponent&&!r._loadedComponent){const l=this.loader.loadComponent(r);return(0,on.D)([a,l]).pipe((0,Hl.J)())}return a})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(_o),u.LFG(u.Sil),u.LFG(u.lqb),u.LFG(Bv),u.LFG(Lv))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const um=new u.OlP("");let Yw=(()=>{class n{constructor(t,r,i,a,l={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=a,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Zp?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof go&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Lc&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Lc(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();var ms=(()=>((ms=ms||{})[ms.COMPLETE=0]="COMPLETE",ms[ms.FAILED=1]="FAILED",ms[ms.REDIRECTING=2]="REDIRECTING",ms))();const dm=!1;function Td(n,e){return{\u0275kind:n,\u0275providers:e}}const jv=new u.OlP("",{providedIn:"root",factory:()=>!1});function hm(){const n=(0,u.f3M)(u.zs3);return e=>{const t=n.get(u.z2F);if(e!==t.components[0])return;const r=n.get(_o),i=n.get(Qw);1===n.get(g_)&&r.initialNavigation(),n.get(Xw,null,u.XFs.Optional)?.setUpPreloading(),n.get(um,null,u.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const Qw=new u.OlP(dm?"bootstrap done indicator":"",{factory:()=>new kn.x}),g_=new u.OlP(dm?"initial navigation":"",{providedIn:"root",factory:()=>1});function fT(){let n=[];return n=dm?[{provide:u.Xts,multi:!0,useFactory:()=>{const e=(0,u.f3M)(_o);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function Qp(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],Td(1,n)}const Xw=new u.OlP(dm?"router preloader":"");function pT(n){return Td(0,[{provide:Xw,useExisting:Vv},{provide:Bv,useExisting:n}])}const df=!1,_T=new u.OlP(df?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),Hv=[$e,{provide:hs,useClass:cd},_o,k,{provide:sr,useFactory:function Uv(n){return n.routerState.root},deps:[_o]},Lv,df?{provide:jv,useValue:!0}:[]];function yT(){return new u.PXZ("Router",_o)}let vT=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[Hv,df&&r?.enableTracing?fT().\u0275providers:[],{provide:cf,multi:!0,useValue:t},{provide:_T,useFactory:tE,deps:[[_o,new u.FiY,new u.tp0]]},{provide:zt,useValue:r||{}},r?.useHash?{provide:ht,useClass:Fe}:{provide:ht,useClass:Oe},{provide:um,useFactory:()=>{const n=(0,u.f3M)(ac),e=(0,u.f3M)(u.R0b),t=(0,u.f3M)(zt),r=(0,u.f3M)(p_),i=(0,u.f3M)(hs);return t.scrollOffset&&n.setOffset(t.scrollOffset),new Yw(i,r,n,e,t)}},r?.preloadingStrategy?pT(r.preloadingStrategy).\u0275providers:[],{provide:u.PXZ,multi:!0,useFactory:yT},r?.initialNavigation?wT(r):[],[{provide:nE,useFactory:hm},{provide:u.tb,multi:!0,useExisting:nE}]]}}static forChild(t){return{ngModule:n,providers:[{provide:cf,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(_T,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[st]}),n})();function tE(n){if(df&&n)throw new u.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function wT(n){return["disabled"===n.initialNavigation?Td(3,[{provide:u.ip1,multi:!0,useFactory:()=>{const e=(0,u.f3M)(_o);return()=>{e.setUpLocationChangeListener()}}},{provide:g_,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Td(2,[{provide:g_,useValue:0},{provide:u.ip1,multi:!0,deps:[u.zs3],useFactory:e=>{const t=e.get(_e,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(_o),a=e.get(Qw);(function AR(n,e){n.events.pipe(zr(t=>t instanceof go||t instanceof yd||t instanceof vd||t instanceof La),(0,ct.U)(t=>t instanceof go||t instanceof La?ms.COMPLETE:t instanceof yd&&(0===t.code||1===t.code)?ms.REDIRECTING:ms.FAILED),zr(t=>t!==ms.REDIRECTING),po(1)).subscribe(()=>{e()})})(i,()=>{r(!0)}),e.get(p_).afterPreactivation=()=>(r(!0),a.closed?rt(void 0):a),i.initialNavigation()}))}}]).\u0275providers:[]]}const nE=new u.OlP(df?"Router Initializer":"");var pm=L(9260),ff=L(4986),zn=L(4976);function pf(){return(0,Cr.e)((n,e)=>{let t,r=!1;n.subscribe((0,gr.x)(e,i=>{const a=t;t=i,r&&e.next([a,i]),r=!0}))})}function $v(n,e=ss.y){return n=n??zv,(0,Cr.e)((t,r)=>{let i,a=!0;t.subscribe((0,gr.x)(r,l=>{const f=e(l);(a||!n(i,f))&&(a=!1,i=f,r.next(l))}))})}function zv(n,e){return n===e}var it,bi=L(2011),Gv=(L(2644),L(3942)),be=L(5861),ia=L(6881),mf=L(4859),zc=L(1877),Yt=L(2090),iE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},gs={},qv=qv||{},Dt=iE||self;function y_(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function mm(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var gm="closure_uid_"+(1e9*Math.random()>>>0),oE=0;function ET(n,e,t){return n.call.apply(n.bind,arguments)}function IT(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Fi(n,e,t){return(Fi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ET:IT).apply(null,arguments)}function _m(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function ii(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,a){for(var l=Array(arguments.length-2),f=2;f<arguments.length;f++)l[f-2]=arguments[f];return e.prototype[i].apply(r,l)}}function tu(){this.s=this.s,this.o=this.o}tu.prototype.s=!1,tu.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function kR(n){Object.prototype.hasOwnProperty.call(n,gm)&&n[gm]||(n[gm]=++oE)}(this)},tu.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const sE=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Zv(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function aE(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(y_(r)){const i=n.length||0,a=r.length||0;n.length=i+a;for(let l=0;l<a;l++)n[i+l]=r[l]}else n.push(r)}}function Li(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Li.prototype.h=function(){this.defaultPrevented=!0};var xT=function(){if(!Dt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Dt.addEventListener("test",()=>{},e),Dt.removeEventListener("test",()=>{},e)}catch{}return n}();function yo(n){return/^[\s\xa0]*$/.test(n)}function gf(){var n=Dt.navigator;return n&&(n=n.userAgent)?n:""}function Va(n){return-1!=gf().indexOf(n)}function Kv(n){return Kv[" "](n),n}Kv[" "]=function(){};var yf,n,CT=Va("Opera"),_f=Va("Trident")||Va("MSIE"),lE=Va("Edge"),ym=lE||_f,uE=Va("Gecko")&&!(-1!=gf().toLowerCase().indexOf("webkit")&&!Va("Edge"))&&!(Va("Trident")||Va("MSIE"))&&!Va("Edge"),TT=-1!=gf().toLowerCase().indexOf("webkit")&&!Va("Edge");function vm(){var n=Dt.document;return n?n.documentMode:void 0}e:{var vf="",dE=(n=gf(),uE?/rv:([^\);]+)(\)|;)/.exec(n):lE?/Edge\/([\d\.]+)/.exec(n):_f?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):TT?/WebKit\/(\S+)/.exec(n):CT?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(dE&&(vf=dE?dE[1]:""),_f){var bm=vm();if(null!=bm&&bm>parseFloat(vf)){yf=String(bm);break e}}yf=vf}var fE=Dt.document&&_f&&(vm()||parseInt(yf,10))||void 0;function bf(n,e){if(Li.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(uE){e:{try{Kv(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:pE[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&bf.$.h.call(this)}}ii(bf,Li);var pE={2:"touch",3:"pen",4:"mouse"};bf.prototype.h=function(){bf.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Dd="closure_listenable_"+(1e6*Math.random()|0),Gc=0;function v_(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++Gc,this.fa=this.ia=!1}function Ad(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function Sd(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function Qv(n){const e={};for(const t in n)e[t]=n[t];return e}const Xv="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function mE(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let a=0;a<Xv.length;a++)t=Xv[a],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function b_(n){this.src=n,this.g={},this.h=0}function Md(n,e){var t=e.type;if(t in n.g){var a,r=n.g[t],i=sE(r,e);(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(Ad(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Jv(n,e,t,r){for(var i=0;i<n.length;++i){var a=n[i];if(!a.fa&&a.listener==e&&a.capture==!!t&&a.la==r)return i}return-1}b_.prototype.add=function(n,e,t,r,i){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var l=Jv(n,e,r,i);return-1<l?(e=n[l],t||(e.ia=!1)):((e=new v_(e,this.src,a,!!r,i)).ia=t,n.push(e)),e};var gE="closure_lm_"+(1e6*Math.random()|0),eb={};function _E(n,e,t,r,i){if(r&&r.once)return vE(n,e,t,r,i);if(Array.isArray(e)){for(var a=0;a<e.length;a++)_E(n,e[a],t,r,i);return null}return t=ob(t),n&&n[Dd]?n.O(e,t,mm(r)?!!r.capture:!!r,i):yE(n,e,t,!1,r,i)}function yE(n,e,t,r,i,a){if(!e)throw Error("Invalid event type");var l=mm(i)?!!i.capture:!!i,f=ib(n);if(f||(n[gE]=f=new b_(n)),(t=f.add(e,t,r,l,a)).proxy)return t;if(r=function AT(){const e=rb;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)xT||(i=l),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(nb(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function vE(n,e,t,r,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)vE(n,e[a],t,r,i);return null}return t=ob(t),n&&n[Dd]?n.P(e,t,mm(r)?!!r.capture:!!r,i):yE(n,e,t,!0,r,i)}function bE(n,e,t,r,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)bE(n,e[a],t,r,i);else r=mm(r)?!!r.capture:!!r,t=ob(t),n&&n[Dd]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Jv(a=n.g[e],t,r,i))&&(Ad(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=ib(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Jv(e,t,r,i)),(t=-1<n?e[n]:null)&&tb(t))}function tb(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Dd])Md(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(nb(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=ib(e))?(Md(t,n),0==t.h&&(t.src=null,e[gE]=null)):Ad(n)}}}function nb(n){return n in eb?eb[n]:eb[n]="on"+n}function rb(n,e){if(n.fa)n=!0;else{e=new bf(e,this);var t=n.listener,r=n.la||n.src;n.ia&&tb(n),n=t.call(r,e)}return n}function ib(n){return(n=n[gE])instanceof b_?n:null}var wm="__closure_events_fn_"+(1e9*Math.random()>>>0);function ob(n){return"function"==typeof n?n:(n[wm]||(n[wm]=function(e){return n.handleEvent(e)}),n[wm])}function oi(){tu.call(this),this.i=new b_(this),this.S=this,this.J=null}function wi(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new Li(e,n);else if(e instanceof Li)e.target=e.target||n;else{var i=e;mE(e=new Li(r,n),i)}if(i=!0,t)for(var a=t.length-1;0<=a;a--){var l=e.g=t[a];i=w_(l,r,!0,e)&&i}if(i=w_(l=e.g=n,r,!0,e)&&i,i=w_(l,r,!1,e)&&i,t)for(a=0;a<t.length;a++)i=w_(l=e.g=t[a],r,!1,e)&&i}function w_(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,a=0;a<e.length;++a){var l=e[a];if(l&&!l.fa&&l.capture==t){var f=l.listener,_=l.la||l.src;l.ia&&Md(n.i,l),i=!1!==f.call(_,r)&&i}}return i&&!r.defaultPrevented}ii(oi,tu),oi.prototype[Dd]=!0,oi.prototype.removeEventListener=function(n,e,t,r){bE(this,n,e,t,r)},oi.prototype.N=function(){if(oi.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Ad(t[r]);delete n.g[e],n.h--}}this.J=null},oi.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},oi.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var sb=Dt.JSON.stringify;function MT(){var n=cb;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var ab=new class ST{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new RT,n=>n.reset());class RT{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function PR(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function EE(n){Dt.setTimeout(()=>{throw n},0)}let E_,nu=!1,cb=new class wE{constructor(){this.h=this.g=null}add(e,t){const r=ab.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},IE=()=>{const n=Dt.Promise.resolve(void 0);E_=()=>{n.then(lb)}};var lb=()=>{for(var n;n=MT();){try{n.h.call(n.g)}catch(t){EE(t)}var e=ab;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}nu=!1};function I_(n,e){oi.call(this),this.h=n||1,this.g=e||Dt,this.j=Fi(this.qb,this),this.l=Date.now()}function _s(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function Rd(n,e,t){if("function"==typeof n)t&&(n=Fi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Fi(n.handleEvent,n)}return 2147483647<Number(e)?-1:Dt.setTimeout(n,e||0)}function Ei(n){n.g=Rd(()=>{n.g=null,n.i&&(n.i=!1,Ei(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}ii(I_,oi),(it=I_.prototype).ga=!1,it.T=null,it.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),wi(this,"tick"),this.ga&&(_s(this),this.start()))}},it.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},it.N=function(){I_.$.N.call(this),_s(this),delete this.g};class kd extends tu{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Ei(this)}N(){super.N(),this.g&&(Dt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ru(n){tu.call(this),this.h=n,this.g={}}ii(ru,tu);var jo=[];function x_(n,e,t,r){Array.isArray(t)||(t&&(jo[0]=t.toString()),t=jo);for(var i=0;i<t.length;i++){var a=_E(e,t[i],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function Pd(n){Sd(n.g,function(e,t){this.g.hasOwnProperty(t)&&tb(e)},n),n.g={}}function qc(){this.g=!0}function oa(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function xf(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var l=1;l<i.length;l++)i[l]=""}}}return sb(t)}catch{return e}}(n,t)+(r?" "+r:"")})}ru.prototype.N=function(){ru.$.N.call(this),Pd(this)},ru.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},qc.prototype.Ea=function(){this.g=!1},qc.prototype.info=function(){};var ys={},Nd=null;function Em(){return Nd=Nd||new oi}function ub(n){Li.call(this,ys.Ta,n)}function Cf(n){const e=Em();wi(e,new ub(e))}function db(n,e){Li.call(this,ys.STAT_EVENT,n),this.stat=e}function Bi(n){const e=Em();wi(e,new db(e,n))}function hb(n,e){Li.call(this,ys.Ua,n),this.size=e}function Tf(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Dt.setTimeout(function(){n()},e)}ys.Ta="serverreachability",ii(ub,Li),ys.STAT_EVENT="statevent",ii(db,Li),ys.Ua="timingevent",ii(hb,Li);var Im={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},fb={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function pb(){}function mb(){}pb.prototype.h=null;var Tm,xm={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function C_(){Li.call(this,"d")}function Cm(){Li.call(this,"c")}function T_(){}function iu(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new ru(this),this.P=gb,this.V=new I_(n=ym?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Dm}function Dm(){this.i=null,this.g="",this.h=!1}ii(C_,Li),ii(Cm,Li),ii(T_,pb),T_.prototype.g=function(){return new XMLHttpRequest},T_.prototype.i=function(){return{}},Tm=new T_;var gb=45e3,_b={},Df={};function Am(n,e,t){n.L=1,n.v=Pm(sa(e)),n.s=t,n.S=!0,yb(n,null)}function yb(n,e){n.G=Date.now(),Af(n),n.A=sa(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),NT(t.i,"t",r),n.C=0,t=n.l.J,n.h=new Dm,n.g=$E(n.l,t?e:null,!n.s),0<n.O&&(n.M=new kd(Fi(n.Pa,n,n.g),n.O)),x_(n.U,n.g,"readystatechange",n.nb),e=n.I?Qv(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Cf(),function wf(n,e,t,r,i,a){n.info(function(){if(n.g)if(a)for(var l="",f=a.split("&"),_=0;_<f.length;_++){var w=f[_].split("=");if(1<w.length){var T=w[0];w=w[1];var R=T.split("_");l=2<=R.length&&"type"==R[1]?l+(T+"=")+w+"&":l+(T+"=redacted&")}}else l=null;else l=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+l})}(n.j,n.u,n.A,n.m,n.W,n.s)}function vb(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function D_(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=CE(n,t),i==Df){4==e&&(n.o=4,Bi(14),r=!1),oa(n.j,n.m,null,"[Incomplete Response]");break}if(i==_b){n.o=4,Bi(15),oa(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}oa(n.j,n.m,i,null),S_(n,i)}vb(n)&&i!=Df&&i!=_b&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Bi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),U_(e),e.M=!0,Bi(11))):(oa(n.j,n.m,t,"[Invalid Chunked Response]"),ou(n),Mm(n))}function CE(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Df:(t=Number(e.substring(t,r)),isNaN(t)?_b:(r+=1)+t>e.length?Df:(e=e.slice(r,r+t),n.C=r+t,e))}function Af(n){n.Y=Date.now()+n.P,A_(n,n.P)}function A_(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Tf(Fi(n.lb,n),e)}function Sm(n){n.B&&(Dt.clearTimeout(n.B),n.B=null)}function Mm(n){0==n.l.H||n.J||Pb(n.l,n)}function ou(n){Sm(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,_s(n.V),Pd(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function S_(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||Cb(t.i,n)))if(!n.K&&Cb(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;jm(t),Bm(t)}V_(t),Bi(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=Tf(Fi(t.ib,t),6e3));if(1>=xb(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else au(t,11)}else if((n.K||t.g==n)&&jm(t),!yo(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let w=i[e];if(t.V=w[0],w=w[1],2==t.H)if("c"==w[0]){t.K=w[1],t.pa=w[2];const T=w[3];null!=T&&(t.ra=T,t.l.info("VER="+t.ra));const R=w[4];null!=R&&(t.Ga=R,t.l.info("SVER="+t.Ga));const F=w[5];null!=F&&"number"==typeof F&&0<F&&(t.L=r=1.5*F,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const U=n.g;if(U){const q=U.g?U.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(q){var a=r.i;a.g||-1==q.indexOf("spdy")&&-1==q.indexOf("quic")&&-1==q.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(Tb(a,a.h),a.h=null))}if(r.F){const J=U.g?U.g.getResponseHeader("X-HTTP-Session-Id"):null;J&&(r.Da=J,Ln(r.I,r.F,J))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var l=n;if((r=t).wa=HE(r,r.J?r.pa:null,r.Y),l.K){Db(r.i,l);var f=l,_=r.L;_&&f.setTimeout(_),f.B&&(Sm(f),Af(f)),r.g=l}else Rb(r);0<t.j.length&&B_(t)}else"stop"!=w[0]&&"close"!=w[0]||au(t,7);else 3==t.H&&("stop"==w[0]||"close"==w[0]?"stop"==w[0]?au(t,7):L_(t):"noop"!=w[0]&&t.h&&t.h.Aa(w),t.A=0)}Cf()}catch{}}function AE(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(y_(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function DE(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(y_(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function TE(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(y_(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,a=0;a<i;a++)e.call(void 0,r[a],t&&t[a],n)}(it=iu.prototype).setTimeout=function(n){this.P=n},it.nb=function(n){n=n.target;const e=this.M;e&&3==$a(n)?e.l():this.Pa(n)},it.Pa=function(n){try{if(n==this.g)e:{const T=$a(this.g);var e=this.g.Ia();if(this.g.da(),!(3>T)&&(3!=T||ym||this.g&&(this.h.h||this.g.ja()||O_(this.g)))){this.J||4!=T||7==e||Cf(),Sm(this);var t=this.g.da();this.ca=t;t:if(vb(this)){var r=O_(this.g);n="";var i=r.length,a=4==$a(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ou(this),Mm(this);var l="";break t}this.h.i=new Dt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:a&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.ja();if(this.i=200==t,function Ef(n,e,t,r,i,a,l){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+a+" "+l})}(this.j,this.u,this.A,this.m,this.W,T,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var f,_=this.g;if((f=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!yo(f)){var w=f;break t}}w=null}if(!(t=w)){this.i=!1,this.o=3,Bi(12),ou(this),Mm(this);break e}oa(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,S_(this,t)}this.S?(D_(this,T,l),ym&&this.i&&3==T&&(x_(this.U,this.V,"tick",this.mb),this.V.start())):(oa(this.j,this.m,l,null),S_(this,l)),4==T&&ou(this),this.i&&!this.J&&(4==T?Pb(this.l,this):(this.i=!1,Af(this)))}else(function Fm(n){const e={};n=(n.g&&2<=$a(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(yo(n[r]))continue;var t=PR(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const a=e[i]||[];e[i]=a,a.push(t)}!function DT(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<l.indexOf("Unknown SID")?(this.o=3,Bi(12)):(this.o=0,Bi(13)),ou(this),Mm(this)}}}catch{}},it.mb=function(){if(this.g){var n=$a(this.g),e=this.g.ja();this.C<e.length&&(Sm(this),D_(this,n,e),this.i&&4!=n&&Af(this))}},it.cancel=function(){this.J=!0,ou(this)},it.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function If(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Cf(),Bi(17)),ou(this),this.o=2,Mm(this)):A_(this,this.Y-n)};var bb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wc(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Wc){this.h=n.h,Rm(this,n.j),this.s=n.s,this.g=n.g,km(this,n.m),this.l=n.l;var e=n.i,t=new aa;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),wb(this,t),this.o=n.o}else n&&(e=String(n).match(bb))?(this.h=!1,Rm(this,e[1]||"",!0),this.s=Sf(e[2]||""),this.g=Sf(e[3]||"",!0),km(this,e[4]),this.l=Sf(e[5]||"",!0),wb(this,e[6]||"",!0),this.o=Sf(e[7]||"")):(this.h=!1,this.i=new aa(null,this.h))}function sa(n){return new Wc(n)}function Rm(n,e,t){n.j=t?Sf(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function km(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function wb(n,e,t){e instanceof aa?(n.i=e,function OT(n,e){e&&!n.j&&(Ua(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(RE(this,r),NT(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Mf(e,PT)),n.i=new aa(e,n.h))}function Ln(n,e,t){n.i.set(e,t)}function Pm(n){return Ln(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Sf(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Mf(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,ME),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function ME(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Wc.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Mf(e,Nm,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Mf(e,Nm,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Mf(t,"/"==t.charAt(0)?kT:su,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Mf(t,Eb)),n.join("")};var Nm=/[#\/\?@]/g,su=/[#\?:]/g,kT=/[#\?]/g,PT=/[#\?@]/g,Eb=/#/g;function aa(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Ua(n){n.g||(n.g=new Map,n.h=0,n.i&&function SE(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var a=n[t].substring(0,r);i=n[t].substring(r+1)}else a=n[t];e(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function RE(n,e){Ua(n),e=Om(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function M_(n,e){return Ua(n),e=Om(n,e),n.g.has(e)}function NT(n,e,t){RE(n,e),0<t.length&&(n.i=null,n.g.set(Om(n,e),Zv(t)),n.h+=t.length)}function Om(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Ib(n){this.l=n||LT,n=Dt.PerformanceNavigationTiming?0<(n=Dt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Dt.g&&Dt.g.Ka&&Dt.g.Ka()&&Dt.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(it=aa.prototype).add=function(n,e){Ua(this),this.i=null,n=Om(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},it.forEach=function(n,e){Ua(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},it.ta=function(){Ua(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let a=0;a<i.length;a++)t.push(e[r])}return t},it.Z=function(n){Ua(this);let e=[];if("string"==typeof n)M_(this,n)&&(e=e.concat(this.g.get(Om(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},it.set=function(n,e){return Ua(this),this.i=null,M_(this,n=Om(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},it.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},it.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const a=encodeURIComponent(String(r)),l=this.Z(r);for(r=0;r<l.length;r++){var i=a;""!==l[r]&&(i+="="+encodeURIComponent(String(l[r]))),n.push(i)}}return this.i=n.join("&")};var LT=10;function Nr(n){return!!n.h||!!n.g&&n.g.size>=n.j}function xb(n){return n.h?1:n.g?n.g.size:0}function Cb(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Tb(n,e){n.g?n.g.add(e):n.h=e}function Db(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function kE(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return Zv(n.i)}Ib.prototype.cancel=function(){if(this.i=kE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var PE=class{stringify(n){return Dt.JSON.stringify(n,void 0)}parse(n){return Dt.JSON.parse(n,void 0)}};function NE(){this.g=new PE}function Rf(n,e,t){const r=t||"";try{AE(n,function(i,a){let l=i;mm(i)&&(l=sb(i)),e.push(r+a+"="+encodeURIComponent(l))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function R_(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function kf(n){this.l=n.fc||null,this.j=n.ob||!1}function k_(n,e){oi.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=P_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ii(kf,pb),kf.prototype.g=function(){return new k_(this.l,this.j)},kf.prototype.i=function(n){return function(){return n}}({}),ii(k_,oi);var P_=0;function VT(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Od(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Fd(n)}function Fd(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(it=k_.prototype).open=function(n,e){if(this.readyState!=P_)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Fd(this)},it.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Dt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},it.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Od(this)),this.readyState=P_},it.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Fd(this)),this.g&&(this.readyState=3,Fd(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Dt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;VT(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},it.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Od(this):Fd(this),3==this.readyState&&VT(this)}},it.Za=function(n){this.g&&(this.response=this.responseText=n,Od(this))},it.Ya=function(n){this.g&&(this.response=n,Od(this))},it.ka=function(){this.g&&Od(this)},it.setRequestHeader=function(n,e){this.v.append(n,e)},it.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},it.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(k_.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var ja=Dt.JSON.parse;function _r(n){oi.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=OE,this.L=this.M=!1}ii(_r,oi);var OE="",Ha=/^https?$/i,ca=["POST","PUT"];function Ab(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Sb(n),N_(n)}function Sb(n){n.F||(n.F=!0,wi(n,"complete"),wi(n,"error"))}function FE(n){if(n.h&&typeof qv<"u"&&(!n.C[1]||4!=$a(n)||2!=n.da()))if(n.v&&4==$a(n))Rd(n.La,0,n);else if(wi(n,"readystatechange"),4==$a(n)){n.h=!1;try{const l=n.da();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===l){var i=String(n.I).match(bb)[1]||null;!i&&Dt.self&&Dt.self.location&&(i=Dt.self.location.protocol.slice(0,-1)),r=!Ha.test(i?i.toLowerCase():"")}t=r}if(t)wi(n,"complete"),wi(n,"success");else{n.m=6;try{var a=2<$a(n)?n.g.statusText:""}catch{a=""}n.j=a+" ["+n.da()+"]",Sb(n)}}finally{N_(n)}}}function N_(n,e){if(n.g){LE(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||wi(n,"ready");try{t.onreadystatechange=r}catch{}}}function LE(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Dt.clearTimeout(n.A),n.A=null)}function $a(n){return n.g?n.g.readyState:0}function O_(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case OE:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function BE(n){let e="";return Sd(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function F_(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=BE(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Ln(n,e,t))}function Lm(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function VE(n){this.Ga=0,this.j=[],this.l=new qc,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Lm("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Lm("baseRetryDelayMs",5e3,n),this.hb=Lm("retryDelaySeedMs",1e4,n),this.eb=Lm("forwardChannelMaxRetries",2,n),this.xa=Lm("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new Ib(n&&n.concurrentRequestLimit),this.Ja=new NE,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function L_(n){if(Vm(n),3==n.H){var e=n.W++,t=sa(n.I);if(Ln(t,"SID",n.K),Ln(t,"RID",e),Ln(t,"TYPE","terminate"),Ld(n,t),(e=new iu(n,n.l,e)).L=2,e.v=Pm(sa(t)),t=!1,Dt.navigator&&Dt.navigator.sendBeacon)try{t=Dt.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Dt.Image&&((new Image).src=e.v,t=!0),t||(e.g=$E(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Af(e)}jE(n)}function Bm(n){n.g&&(U_(n),n.g.cancel(),n.g=null)}function Vm(n){Bm(n),n.u&&(Dt.clearTimeout(n.u),n.u=null),jm(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Dt.clearTimeout(n.m),n.m=null)}function B_(n){if(!Nr(n.i)&&!n.m){n.m=!0;var e=n.Na;E_||IE(),nu||(E_(),nu=!0),cb.add(e,n),n.C=0}}function Mb(n,e){var t;t=e?e.m:n.W++;const r=sa(n.I);Ln(r,"SID",n.K),Ln(r,"RID",t),Ln(r,"AID",n.V),Ld(n,r),n.o&&n.s&&F_(r,n.o,n.s),t=new iu(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=Um(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),Tb(n.i,t),Am(t,r,e)}function Ld(n,e){n.na&&Sd(n.na,function(t,r){Ln(e,r,t)}),n.h&&AE({},function(t,r){Ln(e,r,t)})}function Um(n,e,t){t=Math.min(n.j.length,t);var r=n.h?Fi(n.h.Va,n.h,n):null;e:{var i=n.j;let a=-1;for(;;){const l=["count="+t];-1==a?0<t?(a=i[0].g,l.push("ofs="+a)):a=0:l.push("ofs="+a);let f=!0;for(let _=0;_<t;_++){let w=i[_].g;const T=i[_].map;if(w-=a,0>w)a=Math.max(0,i[_].g-100),f=!1;else try{Rf(T,l,"req"+w+"_")}catch{r&&r(T)}}if(f){r=l.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function Rb(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;E_||IE(),nu||(E_(),nu=!0),cb.add(e,n),n.A=0}}function V_(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Tf(Fi(n.Ma,n),Nb(n,n.A)),n.A++,0))}function U_(n){null!=n.B&&(Dt.clearTimeout(n.B),n.B=null)}function kb(n){n.g=new iu(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=sa(n.wa);Ln(e,"RID","rpc"),Ln(e,"SID",n.K),Ln(e,"AID",n.V),Ln(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&Ln(e,"TO",n.qa),Ln(e,"TYPE","xmlhttp"),Ld(n,e),n.o&&n.s&&F_(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=Pm(sa(e)),t.s=null,t.S=!0,yb(t,n)}function jm(n){null!=n.v&&(Dt.clearTimeout(n.v),n.v=null)}function Pb(n,e){var t=null;if(n.g==e){jm(n),U_(n),n.g=null;var r=2}else{if(!Cb(n.i,e))return;t=e.F,Db(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;wi(r=Em(),new hb(r,t)),B_(n)}else Rb(n);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function UE(n,e){return!(xb(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Tf(Fi(n.Na,n,e),Nb(n,n.C)),n.C++,0)))}(n,e)||2==r&&V_(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:au(n,5);break;case 4:au(n,10);break;case 3:au(n,6);break;default:au(n,2)}}function Nb(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function au(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=Fi(n.pb,n);t||(t=new Wc("//www.google.com/images/cleardot.gif"),Dt.location&&"http"==Dt.location.protocol||Rm(t,"https"),Pm(t)),function BT(n,e){const t=new qc;if(Dt.Image){const r=new Image;r.onload=_m(R_,t,r,"TestLoadImage: loaded",!0,e),r.onerror=_m(R_,t,r,"TestLoadImage: error",!1,e),r.onabort=_m(R_,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=_m(R_,t,r,"TestLoadImage: timeout",!1,e),Dt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Bi(2);n.H=0,n.h&&n.h.za(e),jE(n),Vm(n)}function jE(n){if(n.H=0,n.ma=[],n.h){const e=kE(n.i);(0!=e.length||0!=n.j.length)&&(aE(n.ma,e),aE(n.ma,n.j),n.i.i.length=0,Zv(n.j),n.j.length=0),n.h.ya()}}function HE(n,e,t){var r=t instanceof Wc?sa(t):new Wc(t);if(""!=r.g)e&&(r.g=e+"."+r.g),km(r,r.m);else{var i=Dt.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var a=new Wc(null);r&&Rm(a,r),e&&(a.g=e),i&&km(a,i),t&&(a.l=t),r=a}return e=n.Da,(t=n.F)&&e&&Ln(r,t,e),Ln(r,"VER",n.ra),Ld(n,r),r}function $E(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new _r(t&&n.Ha&&!n.va?new kf({ob:!0}):n.va)).Oa(n.J),e}function zE(){}function j_(){if(_f&&!(10<=Number(fE)))throw Error("Environmental error: no available transport.")}function Ho(n,e){oi.call(this),this.g=new VE(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!yo(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!yo(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Pf(this)}function GE(n){C_.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function qE(){Cm.call(this),this.status=1}function Pf(n){this.g=n}function ua(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Ob(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var a=n.g[3],l=(e=n.g[0])+(a^(t=n.g[1])&((i=n.g[2])^a))+r[0]+3614090360&4294967295;l=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=t+(l<<7&4294967295|l>>>25))+((l=a+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^a&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(a^e))+r[3]+3250441966&4294967295)<<22&4294967295|l>>>10))+((l=e+(a^t&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|l>>>25))+((l=a+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^a&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(a^e))+r[7]+4249261313&4294967295)<<22&4294967295|l>>>10))+((l=e+(a^t&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|l>>>25))+((l=a+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^a&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(a^e))+r[11]+2304563134&4294967295)<<22&4294967295|l>>>10))+((l=e+(a^t&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|l>>>25))+((l=a+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^a&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(a^e))+r[15]+1236535329&4294967295)<<22&4294967295|l>>>10))+((l=e+(i^a&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|l>>>27))+((l=a+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(a^e))+r[11]+643717713&4294967295)<<14&4294967295|l>>>18))+((l=t+(a^e&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^a&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|l>>>27))+((l=a+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(a^e))+r[15]+3634488961&4294967295)<<14&4294967295|l>>>18))+((l=t+(a^e&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^a&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|l>>>27))+((l=a+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(a^e))+r[3]+4107603335&4294967295)<<14&4294967295|l>>>18))+((l=t+(a^e&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^a&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|l>>>27))+((l=a+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(a^e))+r[7]+1735328473&4294967295)<<14&4294967295|l>>>18))+((l=t+(a^e&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|l>>>12))+((l=e+(t^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|l>>>28))+((l=a+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|l>>>21))+((l=i+(a^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^a^e)+r[14]+4259657740&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|l>>>28))+((l=a+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|l>>>21))+((l=i+(a^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^a^e)+r[10]+3200236656&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^i^a)+r[13]+681279174&4294967295)<<4&4294967295|l>>>28))+((l=a+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|l>>>21))+((l=i+(a^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^a^e)+r[6]+76029189&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|l>>>28))+((l=a+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|l>>>21))+((l=i+(a^e^t)+r[15]+530742520&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^a^e)+r[2]+3299628645&4294967295)<<23&4294967295|l>>>9))+((l=e+(i^(t|~a))+r[0]+4096336452&4294967295)<<6&4294967295|l>>>26))+((l=a+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(a|~t))+r[14]+2878612391&4294967295)<<15&4294967295|l>>>17))+((l=t+(a^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|l>>>11))+((l=e+(i^(t|~a))+r[12]+1700485571&4294967295)<<6&4294967295|l>>>26))+((l=a+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(a|~t))+r[10]+4293915773&4294967295)<<15&4294967295|l>>>17))+((l=t+(a^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|l>>>11))+((l=e+(i^(t|~a))+r[8]+1873313359&4294967295)<<6&4294967295|l>>>26))+((l=a+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(a|~t))+r[6]+2734768916&4294967295)<<15&4294967295|l>>>17))+((l=t+(a^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|l>>>11))+((a=(e=t+((l=e+(i^(t|~a))+r[4]+4149444226&4294967295)<<6&4294967295|l>>>26))+((l=a+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|l>>>22))^((i=a+((l=i+(e^(a|~t))+r[2]+718787259&4294967295)<<15&4294967295|l>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(l<<21&4294967295|l>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+a&4294967295}function Cn(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var a=0|n[i];r&&a==e||(t[i]=a,r=!1)}this.g=t}(it=_r.prototype).Oa=function(n){this.M=n},it.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Tm.g(),this.C=function xE(n){return n.h||(n.h=n.i())}(this.u?this.u:Tm),this.g.onreadystatechange=Fi(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(a){return void Ab(this,a)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const a of r.keys())t.set(a,r.get(a))}r=Array.from(t.keys()).find(a=>"content-type"==a.toLowerCase()),i=Dt.FormData&&n instanceof Dt.FormData,!(0<=sE(ca,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,l]of t)this.g.setRequestHeader(a,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{LE(this),0<this.B&&((this.L=function la(n){return _f&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Fi(this.ua,this)):this.A=Rd(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){Ab(this,a)}},it.ua=function(){typeof qv<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,wi(this,"timeout"),this.abort(8))},it.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,wi(this,"complete"),wi(this,"abort"),N_(this))},it.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),N_(this,!0)),_r.$.N.call(this)},it.La=function(){this.s||(this.G||this.v||this.l?FE(this):this.kb())},it.kb=function(){FE(this)},it.isActive=function(){return!!this.g},it.da=function(){try{return 2<$a(this)?this.g.status:-1}catch{return-1}},it.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},it.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),ja(e)}},it.Ia=function(){return this.m},it.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(it=VE.prototype).ra=8,it.H=1,it.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new iu(this,this.l,n);let a=this.s;if(this.U&&(a?(a=Qv(a),mE(a,this.U)):a=this.U),null!==this.o||this.O||(i.I=a,a=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Um(this,i,e),Ln(t=sa(this.I),"RID",n),Ln(t,"CVER",22),this.F&&Ln(t,"X-HTTP-Session-Id",this.F),Ld(this,t),a&&(this.O?e="headers="+encodeURIComponent(String(BE(a)))+"&"+e:this.o&&F_(t,this.o,a)),Tb(this.i,i),this.bb&&Ln(t,"TYPE","init"),this.P?(Ln(t,"$req",e),Ln(t,"SID","null"),i.aa=!0,Am(i,t,null)):Am(i,t,e),this.H=2}}else 3==this.H&&(n?Mb(this,n):0==this.j.length||Nr(this.i)||Mb(this))},it.Ma=function(){if(this.u=null,kb(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Tf(Fi(this.jb,this),n)}},it.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Bi(10),Bm(this),kb(this))},it.ib=function(){null!=this.v&&(this.v=null,Bm(this),V_(this),Bi(19))},it.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Bi(2)):(this.l.info("Failed to ping google.com"),Bi(1))},it.isActive=function(){return!!this.h&&this.h.isActive(this)},(it=zE.prototype).Ba=function(){},it.Aa=function(){},it.za=function(){},it.ya=function(){},it.isActive=function(){return!0},it.Va=function(){},j_.prototype.g=function(n,e){return new Ho(n,e)},ii(Ho,oi),Ho.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Bi(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=HE(n,null,n.Y),B_(n)},Ho.prototype.close=function(){L_(this.g)},Ho.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=sb(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&B_(e)},Ho.prototype.N=function(){this.g.h=null,delete this.j,L_(this.g),delete this.g,Ho.$.N.call(this)},ii(GE,C_),ii(qE,Cm),ii(Pf,zE),Pf.prototype.Ba=function(){wi(this.g,"a")},Pf.prototype.Aa=function(n){wi(this.g,new GE(n))},Pf.prototype.za=function(n){wi(this.g,new qE)},Pf.prototype.ya=function(){wi(this.g,"b")},ii(ua,function UT(){this.blockSize=-1}),ua.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},ua.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,a=0;a<e;){if(0==i)for(;a<=t;)Ob(this,n,a),a+=this.blockSize;if("string"==typeof n){for(;a<e;)if(r[i++]=n.charCodeAt(a++),i==this.blockSize){Ob(this,r),i=0;break}}else for(;a<e;)if(r[i++]=n[a++],i==this.blockSize){Ob(this,r),i=0;break}}this.h=i,this.i+=e},ua.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var jT={};function Fb(n){return-128<=n&&128>n?function cE(n,e){var t=jT;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Cn([0|e],0>e?-1:0)}):new Cn([0|n],0>n?-1:0)}function za(n){if(isNaN(n)||!isFinite(n))return Bd;if(0>n)return si(za(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=Lb;return new Cn(e,0)}var Lb=4294967296,Bd=Fb(0),H_=Fb(1),Bb=Fb(16777216);function Ga(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function $o(n){return-1==n.h}function si(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new Cn(t,~n.h).add(H_)}function Hm(n,e){return n.add(si(e))}function $m(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Nf(n,e){this.g=n,this.h=e}function Of(n,e){if(Ga(e))throw Error("division by zero");if(Ga(n))return new Nf(Bd,Bd);if($o(n))return e=Of(si(n),e),new Nf(si(e.g),si(e.h));if($o(e))return e=Of(n,si(e)),new Nf(si(e.g),e.h);if(30<n.g.length){if($o(n)||$o(e))throw Error("slowDivide_ only works with positive integers.");for(var t=H_,r=e;0>=r.X(n);)t=Vb(t),r=Vb(r);var i=vs(t,1),a=vs(r,1);for(r=vs(r,2),t=vs(t,2);!Ga(r);){var l=a.add(r);0>=l.X(n)&&(i=i.add(t),a=l),r=vs(r,1),t=vs(t,1)}return e=Hm(n,i.R(e)),new Nf(i,e)}for(i=Bd;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),l=(a=za(t)).R(e);$o(l)||0<l.X(n);)l=(a=za(t-=r)).R(e);Ga(a)&&(a=H_),i=i.add(a),n=Hm(n,l)}return new Nf(i,n)}function Vb(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new Cn(t,n.h)}function vs(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],a=0;a<r;a++)i[a]=0<e?n.D(a+t)>>>e|n.D(a+t+1)<<32-e:n.D(a+t);return new Cn(i,n.h)}(it=Cn.prototype).ea=function(){if($o(this))return-si(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:Lb+r)*e,e*=Lb}return n},it.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Ga(this))return"0";if($o(this))return"-"+si(this).toString(n);for(var e=za(Math.pow(n,6)),t=this,r="";;){var i=Of(t,e).g,a=((0<(t=Hm(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Ga(t=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},it.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},it.X=function(n){return $o(n=Hm(this,n))?-1:Ga(n)?0:1},it.abs=function(){return $o(this)?si(this):this},it.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var a=r+(65535&this.D(i))+(65535&n.D(i)),l=(a>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=l>>>16,t[i]=(l&=65535)<<16|(a&=65535)}return new Cn(t,-2147483648&t[t.length-1]?-1:0)},it.R=function(n){if(Ga(this)||Ga(n))return Bd;if($o(this))return $o(n)?si(this).R(si(n)):si(si(this).R(n));if($o(n))return si(this.R(si(n)));if(0>this.X(Bb)&&0>n.X(Bb))return za(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var a=this.D(r)>>>16,l=65535&this.D(r),f=n.D(i)>>>16,_=65535&n.D(i);t[2*r+2*i]+=l*_,$m(t,2*r+2*i),t[2*r+2*i+1]+=a*_,$m(t,2*r+2*i+1),t[2*r+2*i+1]+=l*f,$m(t,2*r+2*i+1),t[2*r+2*i+2]+=a*f,$m(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new Cn(t,0)},it.gb=function(n){return Of(this,n).h},it.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new Cn(t,this.h&n.h)},it.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new Cn(t,this.h|n.h)},it.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new Cn(t,this.h^n.h)},j_.prototype.createWebChannel=j_.prototype.g,Ho.prototype.send=Ho.prototype.u,Ho.prototype.open=Ho.prototype.m,Ho.prototype.close=Ho.prototype.close,Im.NO_ERROR=0,Im.TIMEOUT=8,Im.HTTP_ERROR=6,fb.COMPLETE="complete",mb.EventType=xm,xm.OPEN="a",xm.CLOSE="b",xm.ERROR="c",xm.MESSAGE="d",oi.prototype.listen=oi.prototype.O,_r.prototype.listenOnce=_r.prototype.P,_r.prototype.getLastError=_r.prototype.Sa,_r.prototype.getLastErrorCode=_r.prototype.Ia,_r.prototype.getStatus=_r.prototype.da,_r.prototype.getResponseJson=_r.prototype.Wa,_r.prototype.getResponseText=_r.prototype.ja,_r.prototype.send=_r.prototype.ha,_r.prototype.setWithCredentials=_r.prototype.Oa,ua.prototype.digest=ua.prototype.l,ua.prototype.reset=ua.prototype.reset,ua.prototype.update=ua.prototype.j,Cn.prototype.add=Cn.prototype.add,Cn.prototype.multiply=Cn.prototype.R,Cn.prototype.modulo=Cn.prototype.gb,Cn.prototype.compare=Cn.prototype.X,Cn.prototype.toNumber=Cn.prototype.ea,Cn.prototype.toString=Cn.prototype.toString,Cn.prototype.getBits=Cn.prototype.D,Cn.fromNumber=za,Cn.fromString=function WE(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return si(WE(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=za(Math.pow(e,8)),r=Bd,i=0;i<n.length;i+=8){var a=Math.min(8,n.length-i),l=parseInt(n.substring(i,i+a),e);8>a?(a=za(Math.pow(e,a)),r=r.R(a).add(za(l))):r=(r=r.R(t)).add(za(l))}return r};var HT=gs.createWebChannelTransport=function(){return new j_},$T=gs.getStatEventTarget=function(){return Em()},cu=gs.ErrorCode=Im,NR=gs.EventType=fb,Ub=gs.Event=ys,zT=gs.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},ZE=gs.FetchXmlHttpFactory=kf,zm=gs.WebChannel=mb,OR=gs.XhrIo=_r,kt=gs.Md5=ua,Ff=gs.Integer=Cn;const KE="@firebase/firestore";class ai{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ai.UNAUTHENTICATED=new ai(null),ai.GOOGLE_CREDENTIALS=new ai("google-credentials-uid"),ai.FIRST_PARTY=new ai("first-party-uid"),ai.MOCK_USER=new ai("mock-user");let da="9.23.0";const lu=new zc.Yd("@firebase/firestore");function Lf(){return lu.logLevel}function De(n,...e){if(lu.logLevel<=zc.in.DEBUG){const t=e.map(z_);lu.debug(`Firestore (${da}): ${n}`,...t)}}function Or(n,...e){if(lu.logLevel<=zc.in.ERROR){const t=e.map(z_);lu.error(`Firestore (${da}): ${n}`,...t)}}function zo(n,...e){if(lu.logLevel<=zc.in.WARN){const t=e.map(z_);lu.warn(`Firestore (${da}): ${n}`,...t)}}function z_(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function dt(n="Unexpected state"){const e=`FIRESTORE (${da}) INTERNAL ASSERTION FAILED: `+n;throw Or(e),new Error(e)}function Et(n,e){n||dt()}function nt(n,e){return n}const fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Re extends Yt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class qr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class QE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Gm{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ai.UNAUTHENTICATED))}shutdown(){}}class GT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class qT{constructor(e){this.t=e,this.currentUser=ai.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const a=w=>this.i!==i?(i=this.i,t(w)):Promise.resolve();let l=new qr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new qr,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const w=l;e.enqueueRetryable((0,be.Z)(function*(){yield w.promise,yield a(r.currentUser)}))},_=w=>{De("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(w=>_(w)),setTimeout(()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?_(w):(De("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new qr)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(De("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Et("string"==typeof r.accessToken),new QE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Et(null===e||"string"==typeof e),new ai(e)}}class WT{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=ai.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class G_{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new WT(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(ai.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class jb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class XE{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=a=>{null!=a.error&&De("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.T;return this.T=a.token,De("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{De("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.I.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.I.getImmediate({optional:!0});a?i(a):De("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Et("string"==typeof t.token),this.T=t.token,new jb(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function KT(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class Bf{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=KT(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%e.length))}return r}}function Ut(n,e){return n<e?-1:n>e?1:0}function Vf(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function JE(n){return n+"\0"}class Xn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Re(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Re(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Re(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Re(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Xn.fromMillis(Date.now())}static fromDate(e){return Xn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Xn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ut(this.nanoseconds,e.nanoseconds):Ut(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class xt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new xt(e)}static min(){return new xt(new Xn(0,0))}static max(){return new xt(new Xn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Uf{constructor(e,t,r){void 0===t?t=0:t>e.length&&dt(),void 0===r?r=e.length-t:r>e.length-t&&dt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Uf.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Uf?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=e.get(i),l=t.get(i);if(a<l)return-1;if(a>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class dn extends Uf{construct(e,t,r){return new dn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Re(fe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new dn(t)}static emptyPath(){return new dn([])}}const YT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ar extends Uf{construct(e,t,r){return new ar(e,t,r)}static isValidIdentifier(e){return YT.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ar.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ar(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(0===r.length)throw new Re(fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const f=e[i];if("\\"===f){if(i+1===e.length)throw new Re(fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[i+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Re(fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,i+=2}else"`"===f?(l=!l,i++):"."!==f||l?(r+=f,i++):(a(),i++)}if(a(),l)throw new Re(fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ar(t)}static emptyPath(){return new ar([])}}class et{constructor(e){this.path=e}static fromPath(e){return new et(dn.fromString(e))}static fromName(e){return new et(dn.fromString(e).popFirst(5))}static empty(){return new et(dn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===dn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return dn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new et(new dn(e.slice()))}}class q_{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function eI(n){return n.fields.find(e=>2===e.kind)}function jf(n){return n.fields.filter(e=>2!==e.kind)}q_.UNKNOWN_ID=-1;class Hb{constructor(e,t){this.fieldPath=e,this.kind=t}}class uu{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new uu(0,vo.min())}}function nI(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=xt.fromTimestamp(1e9===r?new Xn(t+1,0):new Xn(t,r));return new vo(i,et.empty(),e)}function rI(n){return new vo(n.readTime,n.key,-1)}class vo{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new vo(xt.min(),et.empty(),-1)}static max(){return new vo(xt.max(),et.empty(),-1)}}function Vd(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=et.comparator(n.documentKey,e.documentKey),0!==t?t:Ut(n.largestBatchId,e.largestBatchId))}const iI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class oI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function du(n){return $b.apply(this,arguments)}function $b(){return $b=(0,be.Z)(function*(n){if(n.code!==fe.FAILED_PRECONDITION||n.message!==iI)throw n;De("LocalStore","Unexpectedly lost primary lease")}),$b.apply(this,arguments)}class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&dt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new oe((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof oe?t:oe.resolve(t)}catch(t){return oe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):oe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):oe.reject(t)}static resolve(e){return new oe((t,r)=>{t(e)})}static reject(e){return new oe((t,r)=>{r(e)})}static waitFor(e){return new oe((t,r)=>{let i=0,a=0,l=!1;e.forEach(f=>{++i,f.next(()=>{++a,l&&a===i&&t()},_=>r(_))}),l=!0,a===i&&t()})}static or(e){let t=oe.resolve(!1);for(const r of e)t=t.next(i=>i?oe.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new oe((r,i)=>{const a=e.length,l=new Array(a);let f=0;for(let _=0;_<a;_++){const w=_;t(e[w]).next(T=>{l[w]=T,++f,f===a&&r(l)},T=>i(T))}})}static doWhile(e,t){return new oe((r,i)=>{const a=()=>{!0===e()?t().next(()=>{a()},i):r()};a()})}}class W_{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new qr,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new qm(e,t.error)):this.v.resolve()},this.transaction.onerror=r=>{const i=Z_(r.target.error);this.v.reject(new qm(e,i))}}static open(e,t,r,i){try{return new W_(t,e.transaction(i,r))}catch(a){throw new qm(t,a)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(De("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new XT(t)}}class bs{constructor(e,t,r){this.name=e,this.version=t,this.V=r,12.2===bs.S((0,Yt.z$)())&&Or("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return De("SimpleDb","Removing database:",e),hu(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,Yt.hl)())return!1;if(bs.C())return!0;const e=(0,Yt.z$)(),t=bs.S(e),r=0<t&&t<10,i=bs.N(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}$(e){var t=this;return(0,be.Z)(function*(){return t.db||(De("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=l=>{r(l.target.result)},a.onblocked=()=>{i(new qm(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=l=>{const f=l.target.error;i("VersionError"===f.name?new Re(fe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new Re(fe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new qm(e,f))},a.onupgradeneeded=l=>{De("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',l.oldVersion),t.V.O(l.target.result,a.transaction,l.oldVersion,t.version).next(()=>{De("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=r=>t.F(r)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var a=this;return(0,be.Z)(function*(){const l="readonly"===t;let f=0;for(;;){++f;try{a.db=yield a.$(e);const _=W_.open(a.db,e,l?"readonly":"readwrite",r),w=i(_).next(T=>(_.P(),T)).catch(T=>(_.abort(T),oe.reject(T))).toPromise();return w.catch(()=>{}),yield _.R,w}catch(_){const w=_,T="FirebaseError"!==w.name&&f<3;if(De("SimpleDb","Transaction failed with error:",w.message,"Retrying:",T),a.close(),!T)return Promise.reject(w)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class QT{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return hu(this.L.delete())}}class qm extends Re{constructor(e,t){super(fe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ws(n){return"IndexedDbTransactionError"===n.name}class XT{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(De("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(De("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),hu(r)}add(e){return De("SimpleDb","ADD",this.store.name,e,e),hu(this.store.add(e))}get(e){return hu(this.store.get(e)).next(t=>(void 0===t&&(t=null),De("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return De("SimpleDb","DELETE",this.store.name,e),hu(this.store.delete(e))}count(){return De("SimpleDb","COUNT",this.store.name),hu(this.store.count())}j(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),a=[];return this.W(i,(l,f)=>{a.push(f)}).next(()=>a)}{const i=this.store.getAll(r.range);return new oe((a,l)=>{i.onerror=f=>{l(f.target.error)},i.onsuccess=f=>{a(f.target.result)}})}}H(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new oe((i,a)=>{r.onerror=l=>{a(l.target.error)},r.onsuccess=l=>{i(l.target.result)}})}J(e,t){De("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const i=this.cursor(r);return this.W(i,(a,l,f)=>f.delete())}X(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.W(i,t)}Z(e){const t=this.cursor({});return new oe((r,i)=>{t.onerror=a=>{const l=Z_(a.target.error);i(l)},t.onsuccess=a=>{const l=a.target.result;l?e(l.primaryKey,l.value).next(f=>{f?l.continue():r()}):r()}})}W(e,t){const r=[];return new oe((i,a)=>{e.onerror=l=>{a(l.target.error)},e.onsuccess=l=>{const f=l.target.result;if(!f)return void i();const _=new QT(f),w=t(f.primaryKey,f.value,_);if(w instanceof oe){const T=w.catch(R=>(_.done(),oe.reject(R)));r.push(T)}_.isDone?i():null===_.K?f.continue():f.continue(_.K)}}).next(()=>oe.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function hu(n){return new oe((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=Z_(r.target.error);t(i)}})}let sI=!1;function Z_(n){const e=bs.S((0,Yt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Re("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return sI||(sI=!0,setTimeout(()=>{throw r},0)),r}}return n}class JT{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;De("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,be.Z)(function*(){t.task=null;try{De("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(r){ws(r)?De("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield du(r)}yield t.et(6e4)}))}}class aI{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,be.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.st(r,e))})()}st(e,t){const r=new Set;let i=t,a=!0;return oe.doWhile(()=>!0===a&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(l=>{if(null!==l&&!r.has(l))return De("IndexBackiller",`Processing collection: ${l}`),this.it(e,l,i).next(f=>{i-=f,r.add(l)});a=!1})).next(()=>t-i)}it(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(a=>{const l=a.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next(()=>this.rt(i,a)).next(f=>(De("IndexBackiller",`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(e,t,f))).next(()=>l.size)}))}rt(e,t){let r=e;return t.changes.forEach((i,a)=>{const l=rI(a);Vd(l,r)>0&&(r=l)}),new vo(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Go=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function Ud(n){return null==n}function Wm(n){return 0===n&&1/n==-1/0}function zb(n){return"number"==typeof n&&Number.isInteger(n)&&!Wm(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Ii(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=cI(e)),e=eD(n.get(t),e);return cI(e)}function eD(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function cI(n){return n+"\x01\x01"}function qa(n){const e=n.length;if(Et(e>=2),2===e)return Et("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),dn.emptyPath();const t=e-2,r=[];let i="";for(let a=0;a<e;){const l=n.indexOf("\x01",a);switch((l<0||l>t)&&dt(),n.charAt(l+1)){case"\x01":const f=n.substring(a,l);let _;0===i.length?_=f:(i+=f,_=i,i=""),r.push(_);break;case"\x10":i+=n.substring(a,l),i+="\0";break;case"\x11":i+=n.substring(a,l+1);break;default:dt()}a=l+2}return new dn(r)}const K_=["userId","batchId"];function Y_(n,e){return[n,Ii(e)]}function Gb(n,e,t){return[n,Ii(e),t]}const tD={},nD=["prefixPath","collectionGroup","readTime","documentId"],rD=["prefixPath","collectionGroup","documentId"],iD=["collectionGroup","readTime","prefixPath","documentId"],oD=["canonicalId","targetId"],sD=["targetId","path"],aD=["path","targetId"],cD=["collectionId","parent"],lI=["indexId","uid"],uI=["uid","sequenceNumber"],lD=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],uD=["indexId","uid","orderedDocumentKey"],dI=["userId","collectionPath","documentId"],dD=["userId","collectionPath","largestBatchId"],hD=["userId","collectionGroup","largestBatchId"],hI=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],qb=[...hI,"documentOverlays"],Q_=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Wb=Q_,Zb=[...Wb,"indexConfiguration","indexState","indexEntries"];class Kb extends oI{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function ci(n,e){const t=nt(n);return bs.M(t.ht,e)}function X_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function fu(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Yb(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class wn{constructor(e,t){this.comparator=e,this.root=t||xi.EMPTY}insert(e,t){return new wn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,xi.BLACK,null,null))}remove(e){return new wn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zm(this.root,e,this.comparator,!0)}}class Zm{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xi{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??xi.RED,this.left=i??xi.EMPTY,this.right=a??xi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new xi(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===a?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return xi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return xi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw dt();const e=this.left.check();if(e!==this.right.check())throw dt();return e+(this.isRed()?0:1)}}xi.EMPTY=null,xi.RED=!0,xi.BLACK=!1,xi.EMPTY=new class{constructor(){this.size=0}get key(){throw dt()}get value(){throw dt()}get color(){throw dt()}get left(){throw dt()}get right(){throw dt()}copy(n,e,t,r,i){return this}insert(n,e,t){return new xi(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Jn{constructor(e){this.comparator=e,this.data=new wn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Qb(this.data.getIterator())}getIteratorFrom(e){return new Qb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Jn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Jn(this.comparator);return t.data=e,t}}class Qb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function pu(n){return n.hasNext()?n.getNext():void 0}class bo{constructor(e){this.fields=e,e.sort(ar.comparator)}static empty(){return new bo([])}unionWith(e){let t=new Jn(ar.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new bo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Vf(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class J_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Fr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new J_("Invalid base64 string: "+i):i}}(e);return new Fr(t)}static fromUint8Array(e){const t=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new Fr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ut(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Fr.EMPTY_BYTE_STRING=new Fr("");const Xb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zc(n){if(Et(!!n),"string"==typeof n){let e=0;const t=Xb.exec(n);if(Et(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:cr(n.seconds),nanos:cr(n.nanos)}}function cr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Wa(n){return"string"==typeof n?Fr.fromBase64String(n):Fr.fromUint8Array(n)}function Km(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function ey(n){const e=n.mapValue.fields.__previous_value__;return Km(e)?ey(e):e}function Ym(n){const e=Zc(n.mapValue.fields.__local_write_time__.timestampValue);return new Xn(e.seconds,e.nanos)}class pD{constructor(e,t,r,i,a,l,f,_,w){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=f,this.longPollingOptions=_,this.useFetchStreams=w}}class mu{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new mu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof mu&&e.projectId===this.projectId&&e.database===this.database}}const Kc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Jb={nullValue:"NULL_VALUE"};function Yc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Km(n)?4:gI(n)?9007199254740991:10:dt()}function Za(n,e){if(n===e)return!0;const t=Yc(n);if(t!==Yc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ym(n).isEqual(Ym(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=Zc(r.timestampValue),l=Zc(i.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Wa(n.bytesValue).isEqual(Wa(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return cr(r.geoPointValue.latitude)===cr(i.geoPointValue.latitude)&&cr(r.geoPointValue.longitude)===cr(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return cr(r.integerValue)===cr(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=cr(r.doubleValue),l=cr(i.doubleValue);return a===l?Wm(a)===Wm(l):isNaN(a)&&isNaN(l)}return!1}(n,e);case 9:return Vf(n.arrayValue.values||[],e.arrayValue.values||[],Za);case 10:return function(r,i){const a=r.mapValue.fields||{},l=i.mapValue.fields||{};if(X_(a)!==X_(l))return!1;for(const f in a)if(a.hasOwnProperty(f)&&(void 0===l[f]||!Za(a[f],l[f])))return!1;return!0}(n,e);default:return dt()}var i}function Qm(n,e){return void 0!==(n.values||[]).find(t=>Za(t,e))}function jd(n,e){if(n===e)return 0;const t=Yc(n),r=Yc(e);if(t!==r)return Ut(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ut(n.booleanValue,e.booleanValue);case 2:return function(i,a){const l=cr(i.integerValue||i.doubleValue),f=cr(a.integerValue||a.doubleValue);return l<f?-1:l>f?1:l===f?0:isNaN(l)?isNaN(f)?0:-1:1}(n,e);case 3:return fI(n.timestampValue,e.timestampValue);case 4:return fI(Ym(n),Ym(e));case 5:return Ut(n.stringValue,e.stringValue);case 6:return function(i,a){const l=Wa(i),f=Wa(a);return l.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(i,a){const l=i.split("/"),f=a.split("/");for(let _=0;_<l.length&&_<f.length;_++){const w=Ut(l[_],f[_]);if(0!==w)return w}return Ut(l.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,a){const l=Ut(cr(i.latitude),cr(a.latitude));return 0!==l?l:Ut(cr(i.longitude),cr(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,a){const l=i.values||[],f=a.values||[];for(let _=0;_<l.length&&_<f.length;++_){const w=jd(l[_],f[_]);if(w)return w}return Ut(l.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,a){if(i===Kc.mapValue&&a===Kc.mapValue)return 0;if(i===Kc.mapValue)return 1;if(a===Kc.mapValue)return-1;const l=i.fields||{},f=Object.keys(l),_=a.fields||{},w=Object.keys(_);f.sort(),w.sort();for(let T=0;T<f.length&&T<w.length;++T){const R=Ut(f[T],w[T]);if(0!==R)return R;const F=jd(l[f[T]],_[w[T]]);if(0!==F)return F}return Ut(f.length,w.length)}(n.mapValue,e.mapValue);default:throw dt()}}function fI(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Ut(n,e);const t=Zc(n),r=Zc(e),i=Ut(t.seconds,r.seconds);return 0!==i?i:Ut(t.nanos,r.nanos)}function Hf(n){return e0(n)}function e0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Zc(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Wa(n.bytesValue).toBase64():"referenceValue"in n?et.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",a=!0;for(const l of r.values||[])a?a=!1:i+=",",i+=e0(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let a="{",l=!0;for(const f of i)l?l=!1:a+=",",a+=`${f}:${e0(r.fields[f])}`;return a+"}"}(n.mapValue):dt();var e}function gu(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function t0(n){return!!n&&"integerValue"in n}function Xm(n){return!!n&&"arrayValue"in n}function pI(n){return!!n&&"nullValue"in n}function mI(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ny(n){return!!n&&"mapValue"in n}function Jm(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return fu(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Jm(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Jm(n.arrayValue.values[t]);return e}return Object.assign({},n)}function gI(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function eg(n){return"nullValue"in n?Jb:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?gu(mu.empty(),et.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:dt()}function _I(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?gu(mu.empty(),et.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Kc:dt()}function n0(n,e){const t=jd(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function r0(n,e){const t=jd(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class li{constructor(e){this.value=e}static empty(){return new li({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!ny(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jm(t)}setAll(e){let t=ar.emptyPath(),r={},i=[];e.forEach((l,f)=>{if(!t.isImmediateParentOf(f)){const _=this.getFieldsMap(t);this.applyChanges(_,r,i),r={},i=[],t=f.popLast()}l?r[f.lastSegment()]=Jm(l):i.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());ny(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Za(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];ny(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){fu(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new li(Jm(this.value))}}function o0(n){const e=[];return fu(n.fields,(t,r)=>{const i=new ar([t]);if(ny(r)){const a=o0(r.mapValue).fields;if(0===a.length)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)}),new bo(e)}class Bn{constructor(e,t,r,i,a,l,f){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=f}static newInvalidDocument(e){return new Bn(e,0,xt.min(),xt.min(),xt.min(),li.empty(),0)}static newFoundDocument(e,t,r,i){return new Bn(e,1,t,xt.min(),r,i,0)}static newNoDocument(e,t){return new Bn(e,2,t,xt.min(),xt.min(),li.empty(),0)}static newUnknownDocument(e,t){return new Bn(e,3,t,xt.min(),xt.min(),li.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(xt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=li.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=li.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Bn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class _u{constructor(e,t){this.position=e,this.inclusive=t}}function mD(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],l=n.position[i];if(r=a.field.isKeyField()?et.comparator(et.fromName(l.referenceValue),t.key):jd(l,t.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function s0(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Za(n.position[t],e.position[t]))return!1;return!0}class $f{constructor(e,t="asc"){this.field=e,this.dir=t}}function gD(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class yI{}class cn extends yI{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new _D(e,t,r):"array-contains"===t?new yD(e,r):"in"===t?new a0(e,r):"not-in"===t?new II(e,r):"array-contains-any"===t?new c0(e,r):new cn(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new ry(e,r):new iy(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(jd(t,this.value)):null!==t&&Yc(this.value)===Yc(t)&&this.matchesComparison(jd(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return dt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class mn extends yI{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new mn(e,t)}matches(e){return zf(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function zf(n){return"and"===n.op}function tg(n){return"or"===n.op}function Es(n){return vI(n)&&zf(n)}function vI(n){for(const e of n.filters)if(e instanceof mn)return!1;return!0}function ng(n){if(n instanceof cn)return n.field.canonicalString()+n.op.toString()+Hf(n.value);if(Es(n))return n.filters.map(e=>ng(e)).join(",");{const e=n.filters.map(t=>ng(t)).join(",");return`${n.op}(${e})`}}function Gf(n,e){return n instanceof cn?(t=n,(r=e)instanceof cn&&t.op===r.op&&t.field.isEqual(r.field)&&Za(t.value,r.value)):n instanceof mn?function(t,r){return r instanceof mn&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,a,l)=>i&&Gf(a,r.filters[l]),!0)}(n,e):void dt();var t,r}function bI(n,e){const t=n.filters.concat(e);return mn.create(t,n.op)}function wI(n){return n instanceof cn?`${(e=n).field.canonicalString()} ${e.op} ${Hf(e.value)}`:n instanceof mn?function(e){return e.op.toString()+" {"+e.getFilters().map(wI).join(" ,")+"}"}(n):"Filter";var e}class _D extends cn{constructor(e,t,r){super(e,t,r),this.key=et.fromName(r.referenceValue)}matches(e){const t=et.comparator(e.key,this.key);return this.matchesComparison(t)}}class ry extends cn{constructor(e,t){super(e,"in",t),this.keys=EI(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class iy extends cn{constructor(e,t){super(e,"not-in",t),this.keys=EI(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function EI(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>et.fromName(r.referenceValue))}class yD extends cn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Xm(t)&&Qm(t.arrayValue,this.value)}}class a0 extends cn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Qm(this.value.arrayValue,t)}}class II extends cn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Qm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Qm(this.value.arrayValue,t)}}class c0 extends cn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Xm(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Qm(this.value.arrayValue,r))}}class xI{constructor(e,t=null,r=[],i=[],a=null,l=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=f,this.dt=null}}function rg(n,e=null,t=[],r=[],i=null,a=null,l=null){return new xI(n,e,t,r,i,a,l)}function Qc(n){const e=nt(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>ng(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Ud(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Hf(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Hf(r)).join(",")),e.dt=t}return e.dt}function qf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!gD(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Gf(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!s0(n.startAt,e.startAt)&&s0(n.endAt,e.endAt)}function Wf(n){return et.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Zf(n,e){return n.filters.filter(t=>t instanceof cn&&t.field.isEqual(e))}function CI(n,e,t){let r=Jb,i=!0;for(const a of Zf(n,e)){let l=Jb,f=!0;switch(a.op){case"<":case"<=":l=eg(a.value);break;case"==":case"in":case">=":l=a.value;break;case">":l=a.value,f=!1;break;case"!=":case"not-in":l=Jb}n0({value:r,inclusive:i},{value:l,inclusive:f})<0&&(r=l,i=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const l=t.position[a];n0({value:r,inclusive:i},{value:l,inclusive:t.inclusive})<0&&(r=l,i=t.inclusive);break}return{value:r,inclusive:i}}function TI(n,e,t){let r=Kc,i=!0;for(const a of Zf(n,e)){let l=Kc,f=!0;switch(a.op){case">=":case">":l=_I(a.value),f=!1;break;case"==":case"in":case"<=":l=a.value;break;case"<":l=a.value,f=!1;break;case"!=":case"not-in":l=Kc}r0({value:r,inclusive:i},{value:l,inclusive:f})>0&&(r=l,i=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const l=t.position[a];r0({value:r,inclusive:i},{value:l,inclusive:t.inclusive})>0&&(r=l,i=t.inclusive);break}return{value:r,inclusive:i}}class Xc{constructor(e,t=null,r=[],i=[],a=null,l="F",f=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=f,this.endAt=_,this.wt=null,this._t=null}}function DI(n,e,t,r,i,a,l,f){return new Xc(n,e,t,r,i,a,l,f)}function Hd(n){return new Xc(n)}function oy(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function sy(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function ig(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function ay(n){return null!==n.collectionGroup}function yu(n){const e=nt(n);if(null===e.wt){e.wt=[];const t=ig(e),r=sy(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new $f(t)),e.wt.push(new $f(ar.keyField(),"asc"));else{let i=!1;for(const a of e.explicitOrderBy)e.wt.push(a),a.field.isKeyField()&&(i=!0);if(!i){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new $f(ar.keyField(),a))}}}return e.wt}function Xi(n){const e=nt(n);if(!e._t)if("F"===e.limitType)e._t=rg(e.path,e.collectionGroup,yu(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of yu(e))t.push(new $f(a.field,"desc"===a.dir?"asc":"desc"));const r=e.endAt?new _u(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new _u(e.startAt.position,e.startAt.inclusive):null;e._t=rg(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function cy(n,e){e.getFirstInequalityField(),ig(n);const t=n.filters.concat([e]);return new Xc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function og(n,e,t){return new Xc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function sg(n,e){return qf(Xi(n),Xi(e))&&n.limitType===e.limitType}function l0(n){return`${Qc(Xi(n))}|lt:${n.limitType}`}function ly(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>wI(r)).join(", ")}]`),Ud(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Hf(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Hf(r)).join(",")),`Target(${t})`}(Xi(n))}; limitType=${n.limitType})`}function Wr(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):et.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of yu(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,a,l){const f=mD(i,a,l);return i.inclusive?f<=0:f<0}(t.startAt,yu(t),r)||t.endAt&&!function(i,a,l){const f=mD(i,a,l);return i.inclusive?f>=0:f>0}(t.endAt,yu(t),r)));var t,r}function $d(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function AI(n){return(e,t)=>{let r=!1;for(const i of yu(n)){const a=vD(i,e,t);if(0!==a)return a;r=r||i.field.isKeyField()}return 0}}function vD(n,e,t){const r=n.field.isKeyField()?et.comparator(e.key,t.key):function(i,a,l){const f=a.data.field(i),_=l.data.field(i);return null!==f&&null!==_?jd(f,_):dt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return dt()}}class vu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,a]of r)if(this.equalsFn(i,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){fu(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return Yb(this.inner)}size(){return this.innerSize}}const LR=new wn(et.comparator);function Ji(){return LR}const uy=new wn(et.comparator);function Jc(...n){let e=uy;for(const t of n)e=e.insert(t.key,t);return e}function SI(n){let e=uy;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Is(){return Kf()}function MI(){return Kf()}function Kf(){return new vu(n=>n.toString(),(n,e)=>n.isEqual(e))}const bD=new wn(et.comparator),wD=new Jn(et.comparator);function Qt(...n){let e=wD;for(const t of n)e=e.add(t);return e}const u0=new Jn(Ut);function dy(){return u0}function d0(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wm(e)?"-0":e}}function ag(n){return{integerValue:""+n}}function hy(n,e){return zb(e)?ag(e):d0(n,e)}class h0{constructor(){this._=void 0}}function RI(n,e,t){return n instanceof ha?function(r,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Km(i)&&(i=ey(i)),i&&(a.fields.__previous_value__=i),{mapValue:a}}(t,e):n instanceof zd?p0(n,e):n instanceof el?ID(n,e):function(r,i){const a=f0(r,i),l=xD(a)+xD(r.gt);return t0(a)&&t0(r.gt)?ag(l):d0(r.serializer,l)}(n,e)}function ED(n,e,t){return n instanceof zd?p0(n,e):n instanceof el?ID(n,e):t}function f0(n,e){return n instanceof Yf?t0(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class ha extends h0{}class zd extends h0{constructor(e){super(),this.elements=e}}function p0(n,e){const t=kI(e);for(const r of n.elements)t.some(i=>Za(i,r))||t.push(r);return{arrayValue:{values:t}}}class el extends h0{constructor(e){super(),this.elements=e}}function ID(n,e){let t=kI(e);for(const r of n.elements)t=t.filter(i=>!Za(i,r));return{arrayValue:{values:t}}}class Yf extends h0{constructor(e,t){super(),this.serializer=e,this.gt=t}}function xD(n){return cr(n.integerValue||n.doubleValue)}function kI(n){return Xm(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class cg{constructor(e,t){this.field=e,this.transform=t}}class PI{constructor(e,t){this.version=e,this.transformResults=t}}class Gn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Gn}static exists(e){return new Gn(void 0,e)}static updateTime(e){return new Gn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fy(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class lg{}function m0(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Qf(n.key,Gn.none()):new Gd(n.key,n.data,Gn.none());{const t=n.data,r=li.empty();let i=new Jn(ar.comparator);for(let a of e.fields)if(!i.has(a)){let l=t.field(a);null===l&&a.length>1&&(a=a.popLast(),l=t.field(a)),null===l?r.delete(a):r.set(a,l),i=i.add(a)}return new Ka(n.key,r,new bo(i.toArray()),Gn.none())}}function TD(n,e,t){n instanceof Gd?function(r,i,a){const l=r.value.clone(),f=_0(r.fieldTransforms,i,a.transformResults);l.setAll(f),i.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(n,e,t):n instanceof Ka?function(r,i,a){if(!fy(r.precondition,i))return void i.convertToUnknownDocument(a.version);const l=_0(r.fieldTransforms,i,a.transformResults),f=i.data;f.setAll(g0(r)),f.setAll(l),i.convertToFoundDocument(a.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function ug(n,e,t,r){return n instanceof Gd?function(i,a,l,f){if(!fy(i.precondition,a))return l;const _=i.value.clone(),w=FI(i.fieldTransforms,f,a);return _.setAll(w),a.convertToFoundDocument(a.version,_).setHasLocalMutations(),null}(n,e,t,r):n instanceof Ka?function(i,a,l,f){if(!fy(i.precondition,a))return l;const _=FI(i.fieldTransforms,f,a),w=a.data;return w.setAll(g0(i)),w.setAll(_),a.convertToFoundDocument(a.version,w).setHasLocalMutations(),null===l?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(T=>T.field))}(n,e,t,r):(l=t,fy(n.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l);var a,l}function NI(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=f0(r.transform,i||null);null!=a&&(null===t&&(t=li.empty()),t.set(r.field,a))}return t||null}function OI(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Vf(t,r,(i,a)=>function CD(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof zd&&r instanceof zd||t instanceof el&&r instanceof el?Vf(t.elements,r.elements,Za):t instanceof Yf&&r instanceof Yf?Za(t.gt,r.gt):t instanceof ha&&r instanceof ha);var t,r}(i,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Gd extends lg{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ka extends lg{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function g0(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function _0(n,e,t){const r=new Map;Et(n.length===t.length);for(let i=0;i<t.length;i++){const a=n[i],l=a.transform,f=e.data.field(a.field);r.set(a.field,ED(l,f,t[i]))}return r}function FI(n,e,t){const r=new Map;for(const i of n){const a=i.transform,l=t.data.field(i.field);r.set(i.field,RI(a,l,e))}return r}class Qf extends lg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class LI extends lg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class py{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&TD(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=ug(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=ug(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=MI();return this.mutations.forEach(i=>{const a=e.get(i.key),l=a.overlayedDocument;let f=this.applyToLocalView(l,a.mutatedFields);f=t.has(i.key)?null:f;const _=m0(l,f);null!==_&&r.set(i.key,_),l.isValidDocument()||l.convertToNoDocument(xt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Qt())}isEqual(e){return this.batchId===e.batchId&&Vf(this.mutations,e.mutations,(t,r)=>OI(t,r))&&Vf(this.baseMutations,e.baseMutations,(t,r)=>OI(t,r))}}class BI{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Et(e.mutations.length===r.length);let i=bD;const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new BI(e,t,r,i)}}class VI{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class VR{constructor(e,t){this.count=e,this.unchangedNames=t}}var Zr,gn;function DD(n){switch(n){default:return dt();case fe.CANCELLED:case fe.UNKNOWN:case fe.DEADLINE_EXCEEDED:case fe.RESOURCE_EXHAUSTED:case fe.INTERNAL:case fe.UNAVAILABLE:case fe.UNAUTHENTICATED:return!1;case fe.INVALID_ARGUMENT:case fe.NOT_FOUND:case fe.ALREADY_EXISTS:case fe.PERMISSION_DENIED:case fe.FAILED_PRECONDITION:case fe.ABORTED:case fe.OUT_OF_RANGE:case fe.UNIMPLEMENTED:case fe.DATA_LOSS:return!0}}function AD(n){if(void 0===n)return Or("GRPC error has no .code"),fe.UNKNOWN;switch(n){case Zr.OK:return fe.OK;case Zr.CANCELLED:return fe.CANCELLED;case Zr.UNKNOWN:return fe.UNKNOWN;case Zr.DEADLINE_EXCEEDED:return fe.DEADLINE_EXCEEDED;case Zr.RESOURCE_EXHAUSTED:return fe.RESOURCE_EXHAUSTED;case Zr.INTERNAL:return fe.INTERNAL;case Zr.UNAVAILABLE:return fe.UNAVAILABLE;case Zr.UNAUTHENTICATED:return fe.UNAUTHENTICATED;case Zr.INVALID_ARGUMENT:return fe.INVALID_ARGUMENT;case Zr.NOT_FOUND:return fe.NOT_FOUND;case Zr.ALREADY_EXISTS:return fe.ALREADY_EXISTS;case Zr.PERMISSION_DENIED:return fe.PERMISSION_DENIED;case Zr.FAILED_PRECONDITION:return fe.FAILED_PRECONDITION;case Zr.ABORTED:return fe.ABORTED;case Zr.OUT_OF_RANGE:return fe.OUT_OF_RANGE;case Zr.UNIMPLEMENTED:return fe.UNIMPLEMENTED;case Zr.DATA_LOSS:return fe.DATA_LOSS;default:return dt()}}(gn=Zr||(Zr={}))[gn.OK=0]="OK",gn[gn.CANCELLED=1]="CANCELLED",gn[gn.UNKNOWN=2]="UNKNOWN",gn[gn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gn[gn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gn[gn.NOT_FOUND=5]="NOT_FOUND",gn[gn.ALREADY_EXISTS=6]="ALREADY_EXISTS",gn[gn.PERMISSION_DENIED=7]="PERMISSION_DENIED",gn[gn.UNAUTHENTICATED=16]="UNAUTHENTICATED",gn[gn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gn[gn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gn[gn.ABORTED=10]="ABORTED",gn[gn.OUT_OF_RANGE=11]="OUT_OF_RANGE",gn[gn.UNIMPLEMENTED=12]="UNIMPLEMENTED",gn[gn.INTERNAL=13]="INTERNAL",gn[gn.UNAVAILABLE=14]="UNAVAILABLE",gn[gn.DATA_LOSS=15]="DATA_LOSS";class Xf{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return y0}static getOrCreateInstance(){return null===y0&&(y0=new Xf),y0}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let y0=null;function v0(){return new TextEncoder}const my=new Ff([4294967295,4294967295],0);function b0(n){const e=v0().encode(n),t=new kt;return t.update(e),new Uint8Array(t.digest())}function w0(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Ff([t,r],0),new Ff([i,a],0)]}class UI{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new qd(`Invalid padding: ${t}`);if(r<0)throw new qd(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new qd(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new qd(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Ff.fromNumber(this.It)}Et(e,t,r){let i=e.add(t.multiply(Ff.fromNumber(r)));return 1===i.compare(my)&&(i=new Ff([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=b0(e),[r,i]=w0(t);for(let a=0;a<this.hashCount;a++){const l=this.Et(r,i,a);if(!this.At(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new UI(a,i,t);return r.forEach(f=>l.insert(f)),l}insert(e){if(0===this.It)return;const t=b0(e),[r,i]=w0(t);for(let a=0;a<this.hashCount;a++){const l=this.Et(r,i,a);this.Rt(l)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class qd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Jf{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,dg.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Jf(xt.min(),i,new wn(Ut),Ji(),Qt())}}class dg{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new dg(r,t,Qt(),Qt(),Qt())}}class E0{constructor(e,t,r,i){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=i}}class jI{constructor(e,t){this.targetId=e,this.Vt=t}}class HI{constructor(e,t,r=Fr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class $I{constructor(){this.St=0,this.Dt=SD(),this.Ct=Fr.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Qt(),t=Qt(),r=Qt();return this.Dt.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:dt()}}),new dg(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=SD()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class gy{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Ji(),this.zt=zI(),this.Wt=new wn(Ut)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:dt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,i)=>{this.te(i)&&t(i)})}ne(e){var t;const r=e.targetId,i=e.Vt.count,a=this.se(r);if(a){const l=a.target;if(Wf(l))if(0===i){const f=new et(l.path);this.Yt(r,f,Bn.newNoDocument(f,xt.min()))}else Et(1===i);else{const f=this.ie(r);if(f!==i){const _=this.re(e,f);0!==_&&(this.ee(r),this.Wt=this.Wt.insert(r,2===_?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=Xf.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(w,T,R){var F,U,q,J,ce,je;const Ye={localCacheCount:T,existenceFilterCount:R.count},ze=R.unchangedNames;return ze&&(Ye.bloomFilter={applied:0===w,hashCount:null!==(F=ze?.hashCount)&&void 0!==F?F:0,bitmapLength:null!==(J=null===(q=null===(U=ze?.bits)||void 0===U?void 0:U.bitmap)||void 0===q?void 0:q.length)&&void 0!==J?J:0,padding:null!==(je=null===(ce=ze?.bits)||void 0===ce?void 0:ce.padding)&&void 0!==je?je:0}),Ye}(_,f,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:a="",padding:l=0},hashCount:f=0}=r;let _,w;try{_=Wa(a).toUint8Array()}catch(T){if(T instanceof J_)return zo("Decoding the base64 bloom filter in existence filter failed ("+T.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw T}try{w=new UI(_,l,f)}catch(T){return zo(T instanceof qd?"BloomFilter error: ":"Applying bloom filter failed: ",T),1}return 0===w.It?1:i!==t-this.oe(e.targetId,w)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(a=>{const l=this.Gt.ue(),f=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;t.vt(f)||(this.Yt(e,a,null),i++)}),i}ce(e){const t=new Map;this.Qt.forEach((a,l)=>{const f=this.se(l);if(f){if(a.current&&Wf(f.target)){const _=new et(f.target.path);null!==this.jt.get(_)||this.ae(l,_)||this.Yt(l,_,Bn.newNoDocument(_,e))}a.Mt&&(t.set(l,a.Ot()),a.Ft())}});let r=Qt();this.zt.forEach((a,l)=>{let f=!0;l.forEachWhile(_=>{const w=this.se(_);return!w||"TargetPurposeLimboResolution"===w.purpose||(f=!1,!1)}),f&&(r=r.add(a))}),this.jt.forEach((a,l)=>l.setReadTime(e));const i=new Jf(e,t,this.Wt,this.jt,r);return this.jt=Ji(),this.zt=zI(),this.Wt=new wn(Ut),i}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,t)?i.Bt(t,1):i.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new $I,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Jn(Ut),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||De("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new $I),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function zI(){return new wn(et.comparator)}function SD(){return new wn(et.comparator)}const UR={asc:"ASCENDING",desc:"DESCENDING"},jR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},MD={and:"AND",or:"OR"};class RD{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function I0(n,e){return n.useProto3Json||Ud(e)?e:{value:e}}function hg(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function GI(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function qI(n,e){return hg(n,e.toTimestamp())}function yr(n){return Et(!!n),xt.fromTimestamp(function(e){const t=Zc(e);return new Xn(t.seconds,t.nanos)}(n))}function WI(n,e){return(t=n,new dn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function xs(n){const e=dn.fromString(n);return Et(FD(e)),e}function fg(n,e){return WI(n.databaseId,e.path)}function Cs(n,e){const t=xs(e);if(t.get(1)!==n.databaseId.projectId)throw new Re(fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Re(fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new et(ZI(t))}function x0(n,e){return WI(n.databaseId,e)}function kD(n){const e=xs(n);return 4===e.length?dn.emptyPath():ZI(e)}function Vi(n){return new dn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function ZI(n){return Et(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function _y(n,e,t){return{name:fg(n,e),fields:t.value.mapValue.fields}}function KI(n,e,t){const r=Cs(n,e.name),i=yr(e.updateTime),a=e.createTime?yr(e.createTime):xt.min(),l=new li({mapValue:{fields:e.fields}}),f=Bn.newFoundDocument(r,i,a,l);return t&&f.setHasCommittedMutations(),t?f.setHasCommittedMutations():f}function ep(n,e){let t;if(e instanceof Gd)t={update:_y(n,e.key,e.value)};else if(e instanceof Qf)t={delete:fg(n,e.key)};else if(e instanceof Ka)t={update:_y(n,e.key,e.data),updateMask:OD(e.fieldMask)};else{if(!(e instanceof LI))return dt();t={verify:fg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const l=a.transform;if(l instanceof ha)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof zd)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof el)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Yf)return{fieldPath:a.field.canonicalString(),increment:l.gt};throw dt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:qI(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:dt()),t;var i}function yy(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Gn.updateTime(yr(i.updateTime)):void 0!==i.exists?Gn.exists(i.exists):Gn.none():Gn.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(a,l){let f=null;"setToServerValue"in l?(Et("REQUEST_TIME"===l.setToServerValue),f=new ha):"appendMissingElements"in l?f=new zd(l.appendMissingElements.values||[]):"removeAllFromArray"in l?f=new el(l.removeAllFromArray.values||[]):"increment"in l?f=new Yf(a,l.increment):dt();const _=ar.fromServerFormat(l.fieldPath);return new cg(_,f)}(n,i)):[];var i;if(e.update){const i=Cs(n,e.update.name),a=new li({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=new bo((e.updateMask.fieldPaths||[]).map(w=>ar.fromServerFormat(w)));return new Ka(i,a,l,t,r)}return new Gd(i,a,t,r)}if(e.delete){const i=Cs(n,e.delete);return new Qf(i,t)}if(e.verify){const i=Cs(n,e.verify);return new LI(i,t)}return dt()}function T0(n,e){return{documents:[x0(n,e.path)]}}function vy(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=x0(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=x0(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(_){if(0!==_.length)return A0(mn.create(_,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const a=function(_){if(0!==_.length)return _.map(w=>{return{field:nl((T=w).field),direction:D0(T.dir)};var T})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const l=I0(n,e.limit);var f,_;return null!==l&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function YI(n){let e=kD(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Et(1===r);const T=t.from[0];T.allDescendants?i=T.collectionId:e=e.child(T.collectionId)}let a=[];t.where&&(a=function(T){const R=XI(T);return R instanceof mn&&Es(R)?R.getFilters():[R]}(t.where));let l=[];t.orderBy&&(l=t.orderBy.map(T=>{return new $f(wu((R=T).field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction));var R}));let f=null;t.limit&&(f=function(T){let R;return R="object"==typeof T?T.value:T,Ud(R)?null:R}(t.limit));let _=null;var T;t.startAt&&(_=new _u((T=t.startAt).values||[],!!T.before));let w=null;return t.endAt&&(w=function(T){return new _u(T.values||[],!T.before)}(t.endAt)),DI(e,i,l,a,f,"F",_,w)}function XI(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=wu(e.unaryFilter.field);return cn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=wu(e.unaryFilter.field);return cn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=wu(e.unaryFilter.field);return cn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=wu(e.unaryFilter.field);return cn.create(a,"!=",{nullValue:"NULL_VALUE"});default:return dt()}}(n):void 0!==n.fieldFilter?cn.create(wu((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return dt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return mn.create(e.compositeFilter.filters.map(t=>XI(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return dt()}}(e.compositeFilter.op))}(n):dt();var e}function D0(n){return UR[n]}function tl(n){return jR[n]}function bu(n){return MD[n]}function nl(n){return{fieldPath:n.canonicalString()}}function wu(n){return ar.fromServerFormat(n.fieldPath)}function A0(n){return n instanceof cn?function(e){if("=="===e.op){if(mI(e.value))return{unaryFilter:{field:nl(e.field),op:"IS_NAN"}};if(pI(e.value))return{unaryFilter:{field:nl(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(mI(e.value))return{unaryFilter:{field:nl(e.field),op:"IS_NOT_NAN"}};if(pI(e.value))return{unaryFilter:{field:nl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:nl(e.field),op:tl(e.op),value:e.value}}}(n):n instanceof mn?function(e){const t=e.getFilters().map(r=>A0(r));return 1===t.length?t[0]:{compositeFilter:{op:bu(e.op),filters:t}}}(n):dt()}function OD(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function FD(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class rl{constructor(e,t,r,i,a=xt.min(),l=xt.min(),f=Fr.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=f,this.expectedCount=_}withSequenceNumber(e){return new rl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new rl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new rl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new rl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class JI{constructor(e){this.fe=e}}function ex(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:pg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:fg(i=n.fe,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:hg(i,a.version.toTimestamp()),createTime:hg(i,a.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:tp(e.version)};else{if(!e.isUnknownDocument())return dt();r.unknownDocument={path:t.path.toArray(),version:tp(e.version)}}var i,a;return r}function pg(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function tp(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Eu(n){const e=new Xn(n.seconds,n.nanoseconds);return xt.fromTimestamp(e)}function Wd(n,e){const t=(e.baseMutations||[]).map(a=>yy(n.fe,a));for(let a=0;a<e.mutations.length-1;++a)a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(e.mutations[a].updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a);const r=e.mutations.map(a=>yy(n.fe,a)),i=Xn.fromMillis(e.localWriteTimeMs);return new py(e.batchId,i,t,r)}function np(n){const e=Eu(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Eu(n.lastLimboFreeSnapshotVersion):xt.min();let r;var i;return void 0!==n.query.documents?(Et(1===(i=n.query).documents.length),r=Xi(Hd(kD(i.documents[0])))):r=Xi(YI(n.query)),new rl(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Fr.fromBase64String(n.resumeToken))}function BD(n,e){const t=tp(e.snapshotVersion),r=tp(e.lastLimboFreeSnapshotVersion);let i;i=Wf(e.target)?T0(n.fe,e.target):vy(n.fe,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Qc(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function mg(n){const e=YI({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?og(e,e.limit,"L"):e}function by(n,e){return new VI(e.largestBatchId,yy(n.fe,e.overlayMutation))}function S0(n,e){const t=e.path.lastSegment();return[n,Ii(e.path.popLast()),t]}function M0(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:tp(r.readTime),documentKey:Ii(r.documentKey.path),largestBatchId:r.largestBatchId}}class tx{getBundleMetadata(e,t){return R0(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Eu(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return R0(e).put({bundleId:(r=t).id,createTime:tp(yr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return gg(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:mg(i.bundledQuery),readTime:Eu(i.readTime)};var i})}saveNamedQuery(e,t){return gg(e).put({name:(r=t).name,readTime:tp(yr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function R0(n){return ci(n,"bundles")}function gg(n){return ci(n,"namedQueries")}class Zd{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new Zd(e,t.uid||"")}getOverlay(e,t){return rp(e).get(S0(this.userId,t)).next(r=>r?by(this.serializer,r):null)}getOverlays(e,t){const r=Is();return oe.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((a,l)=>{const f=new VI(t,l);i.push(this.we(e,f))}),oe.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(l=>i.add(Ii(l.getCollectionPath())));const a=[];return i.forEach(l=>{const f=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,r+1],!1,!0);a.push(rp(e).J("collectionPathOverlayIndex",f))}),oe.waitFor(a)}getOverlaysForCollection(e,t,r){const i=Is(),a=Ii(t),l=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return rp(e).j("collectionPathOverlayIndex",l).next(f=>{for(const _ of f){const w=by(this.serializer,_);i.set(w.getKey(),w)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const a=Is();let l;const f=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return rp(e).X({index:"collectionGroupOverlayIndex",range:f},(_,w,T)=>{const R=by(this.serializer,w);a.size()<i||R.largestBatchId===l?(a.set(R.getKey(),R),l=R.largestBatchId):T.done()}).next(()=>a)}we(e,t){return rp(e).put(function(r,i,a){const[l,f,_]=S0(i,a.mutation.key);return{userId:i,collectionPath:f,documentId:_,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:ep(r.fe,a.mutation)}}(this.serializer,this.userId,t))}}function rp(n){return ci(n,"documentOverlays")}class Kd{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(cr(e.integerValue));else if("doubleValue"in e){const r=cr(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),Wm(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Wa(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?gI(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):dt()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const i of Object.keys(r))this.Te(i,t),this.me(r[i],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const i of r)this.me(i,t)}ve(e,t){this.ye(t,37),et.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function VD(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function UD(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const a=VD(255&t[i]);if(r+=a,8!==a)break}return r}(n);return Math.ceil(e/8)}Kd.Ve=new Kd;class HR{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.De(r.value),r=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ne(r.value),r=t.next();this.ke()}Me(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.De(r);else if(r<2048)this.De(960|r>>>6),this.De(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.De(480|r>>>12),this.De(128|63&r>>>6),this.De(128|63&r);else{const i=t.codePointAt(0);this.De(240|i>>>18),this.De(128|63&i>>>12),this.De(128|63&i>>>6),this.De(128|63&i)}}this.Ce()}$e(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ne(r);else if(r<2048)this.Ne(960|r>>>6),this.Ne(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r);else{const i=t.codePointAt(0);this.Ne(240|i>>>18),this.Ne(128|63&i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i)}}this.ke()}Oe(e){const t=this.Fe(e),r=UD(t);this.Be(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Le(e){const t=this.Fe(e),r=UD(t);this.Be(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(i){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,i,!1),new Uint8Array(a.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class $R{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class nx{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class _g{constructor(){this.je=new HR,this.ze=new $R(this.je),this.We=new nx(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Yd{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Yd(this.indexId,this.documentKey,this.arrayValue,r)}}function Iu(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=jD(n.arrayValue,e.arrayValue),0!==t?t:(t=jD(n.directionalValue,e.directionalValue),0!==t?t:et.comparator(n.documentKey,e.documentKey)))}function jD(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class zR{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const r=t;r.isInequality()?this.Ze=r:this.Xe.push(r)}}tn(e){Et(e.collectionGroup===this.collectionId);const t=eI(e);if(void 0!==t&&!this.en(t))return!1;const r=jf(e);let i=new Set,a=0,l=0;for(;a<r.length&&this.en(r[a]);++a)i=i.add(r[a].fieldPath.canonicalString());if(a===r.length)return!0;if(void 0!==this.Ze){if(!i.has(this.Ze.field.canonicalString())){const f=r[a];if(!this.nn(this.Ze,f)||!this.sn(this.Ye[l++],f))return!1}++a}for(;a<r.length;++a)if(l>=this.Ye.length||!this.sn(this.Ye[l++],r[a]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function HD(n){var e,t;if(Et(n instanceof cn||n instanceof mn),n instanceof cn){if(n instanceof a0){const i=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(a=>cn.create(n.field,"==",a)))||[];return mn.create(i,"or")}return n}const r=n.filters.map(i=>HD(i));return mn.create(r,n.op)}function GR(n){if(0===n.getFilters().length)return[];const e=P0(HD(n));return Et(yg(e)),rx(e)||k0(e)?[e]:e.getFilters()}function rx(n){return n instanceof cn}function k0(n){return n instanceof mn&&Es(n)}function yg(n){return rx(n)||k0(n)||function(e){if(e instanceof mn&&tg(e)){for(const t of e.getFilters())if(!rx(t)&&!k0(t))return!1;return!0}return!1}(n)}function P0(n){if(Et(n instanceof cn||n instanceof mn),n instanceof cn)return n;if(1===n.filters.length)return P0(n.filters[0]);const e=n.filters.map(r=>P0(r));let t=mn.create(e,n.op);return t=Ya(t),yg(t)?t:(Et(t instanceof mn),Et(zf(t)),Et(t.filters.length>1),t.filters.reduce((r,i)=>N0(r,i)))}function N0(n,e){let t;return Et(n instanceof cn||n instanceof mn),Et(e instanceof cn||e instanceof mn),t=n instanceof cn?e instanceof cn?mn.create([n,e],"and"):O0(n,e):e instanceof cn?O0(e,n):function(r,i){if(Et(r.filters.length>0&&i.filters.length>0),zf(r)&&zf(i))return bI(r,i.getFilters());const a=tg(r)?r:i,l=tg(r)?i:r,f=a.filters.map(_=>N0(_,l));return mn.create(f,"or")}(n,e),Ya(t)}function O0(n,e){if(zf(e))return bI(e,n.getFilters());{const t=e.filters.map(r=>N0(n,r));return mn.create(t,"or")}}function Ya(n){if(Et(n instanceof cn||n instanceof mn),n instanceof cn)return n;const e=n.getFilters();if(1===e.length)return Ya(e[0]);if(vI(n))return n;const t=e.map(i=>Ya(i)),r=[];return t.forEach(i=>{i instanceof cn?r.push(i):i instanceof mn&&(i.op===n.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:mn.create(r,n.op)}class ix{constructor(){this.rn=new vg}addToCollectionParentIndex(e,t){return this.rn.add(t),oe.resolve()}getCollectionParents(e,t){return oe.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return oe.resolve()}deleteFieldIndex(e,t){return oe.resolve()}getDocumentsMatchingTarget(e,t){return oe.resolve(null)}getIndexType(e,t){return oe.resolve(0)}getFieldIndexes(e,t){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,t){return oe.resolve(vo.min())}getMinOffsetFromCollectionGroup(e,t){return oe.resolve(vo.min())}updateCollectionGroup(e,t,r){return oe.resolve()}updateIndexEntries(e,t){return oe.resolve()}}class vg{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Jn(dn.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Jn(dn.comparator)).toArray()}}const ip=new Uint8Array(0);class $D{constructor(e,t){this.user=e,this.databaseId=t,this.on=new vg,this.un=new vu(r=>Qc(r),(r,i)=>qf(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const a={collectionId:r,parent:Ii(i)};return wy(e).put(a)}return oe.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[JE(t),""],!1,!0);return wy(e).j(i).next(a=>{for(const l of a){if(l.collectionId!==t)break;r.push(qa(l.parent))}return r})}addFieldIndex(e,t){const r=Xd(e),i={indexId:(l=t).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var l;delete i.indexId;const a=r.add(i);if(t.indexState){const l=Ey(e);return a.next(f=>{l.put(M0(f,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return a.next()}deleteFieldIndex(e,t){const r=Xd(e),i=Ey(e),a=Qd(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Qd(e);let i=!0;const a=new Map;return oe.forEach(this.cn(t),l=>this.an(e,l).next(f=>{i&&(i=!!f),a.set(l,f)})).next(()=>{if(i){let l=Qt();const f=[];return oe.forEach(a,(_,w)=>{var T;De("IndexedDbIndexManager",`Using index ${T=_,`id=${T.indexId}|cg=${T.collectionGroup}|f=${T.fields.map(ze=>`${ze.fieldPath}:${ze.kind}`).join(",")}`} to execute ${Qc(t)}`);const R=function(ze,Qe){const St=eI(Qe);if(void 0===St)return null;for(const Ft of Zf(ze,St.fieldPath))switch(Ft.op){case"array-contains-any":return Ft.value.arrayValue.values||[];case"array-contains":return[Ft.value]}return null}(w,_),F=function(ze,Qe){const St=new Map;for(const Ft of jf(Qe))for(const fn of Zf(ze,Ft.fieldPath))switch(fn.op){case"==":case"in":St.set(Ft.fieldPath.canonicalString(),fn.value);break;case"not-in":case"!=":return St.set(Ft.fieldPath.canonicalString(),fn.value),Array.from(St.values())}return null}(w,_),U=function(ze,Qe){const St=[];let Ft=!0;for(const fn of jf(Qe)){const Sr=0===fn.kind?CI(ze,fn.fieldPath,ze.startAt):TI(ze,fn.fieldPath,ze.startAt);St.push(Sr.value),Ft&&(Ft=Sr.inclusive)}return new _u(St,Ft)}(w,_),q=function(ze,Qe){const St=[];let Ft=!0;for(const fn of jf(Qe)){const Sr=0===fn.kind?TI(ze,fn.fieldPath,ze.endAt):CI(ze,fn.fieldPath,ze.endAt);St.push(Sr.value),Ft&&(Ft=Sr.inclusive)}return new _u(St,Ft)}(w,_),J=this.hn(_,w,U),ce=this.hn(_,w,q),je=this.ln(_,w,F),Ye=this.fn(_.indexId,R,J,U.inclusive,ce,q.inclusive,je);return oe.forEach(Ye,ze=>r.H(ze,t.limit).next(Qe=>{Qe.forEach(St=>{const Ft=et.fromSegments(St.documentKey);l.has(Ft)||(l=l.add(Ft),f.push(Ft))})}))}).next(()=>f)}return oe.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:GR(mn.create(e.filters,"and")).map(r=>rg(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,r,i,a,l,f){const _=(null!=t?t.length:1)*Math.max(r.length,a.length),w=_/(null!=t?t.length:1),T=[];for(let R=0;R<_;++R){const F=t?this.dn(t[R/w]):ip,U=this.wn(e,F,r[R%w],i),q=this._n(e,F,a[R%w],l),J=f.map(ce=>this.wn(e,F,ce,!0));T.push(...this.createRange(U,q,J))}return T}wn(e,t,r,i){const a=new Yd(e,et.empty(),t,r);return i?a:a.Je()}_n(e,t,r,i){const a=new Yd(e,et.empty(),t,r);return i?a.Je():a}an(e,t){const r=new zR(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(a=>{let l=null;for(const f of a)r.tn(f)&&(!l||f.fields.length>l.fields.length)&&(l=f);return l})}getIndexType(e,t){let r=2;const i=this.cn(t);return oe.forEach(i,a=>this.an(e,a).next(l=>{l?0!==r&&l.fields.length<function(f){let _=new Jn(ar.comparator),w=!1;for(const T of f.filters)for(const R of T.getFlattenedFilters())R.field.isKeyField()||("array-contains"===R.op||"array-contains-any"===R.op?w=!0:_=_.add(R.field));for(const T of f.orderBy)T.field.isKeyField()||(_=_.add(T.field));return _.size+(w?1:0)}(a)&&(r=1):r=0})).next(()=>null!==t.limit&&i.length>1&&2===r?1:r)}mn(e,t){const r=new _g;for(const i of jf(e)){const a=t.data.field(i.fieldPath);if(null==a)return null;const l=r.He(i.kind);Kd.Ve._e(a,l)}return r.Qe()}dn(e){const t=new _g;return Kd.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const r=new _g;return Kd.Ve._e(gu(this.databaseId,t),r.He(function(i){const a=jf(i);return 0===a.length?0:a[a.length-1].kind}(e))),r.Qe()}ln(e,t,r){if(null===r)return[];let i=[];i.push(new _g);let a=0;for(const l of jf(e)){const f=r[a++];for(const _ of i)if(this.yn(t,l.fieldPath)&&Xm(f))i=this.pn(i,l,f);else{const w=_.He(l.kind);Kd.Ve._e(f,w)}}return this.In(i)}hn(e,t,r){return this.ln(e,t,r.position)}In(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Qe();return t}pn(e,t,r){const i=[...e],a=[];for(const l of r.arrayValue.values||[])for(const f of i){const _=new _g;_.seed(f.Qe()),Kd.Ve._e(l,_.He(t.kind)),a.push(_)}return a}yn(e,t){return!!e.filters.find(r=>r instanceof cn&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=Xd(e),i=Ey(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next(a=>{const l=[];return oe.forEach(a,f=>i.get([f.indexId,this.uid]).next(_=>{l.push(function(w,T){const R=T?new uu(T.sequenceNumber,new vo(Eu(T.readTime),new et(qa(T.documentKey)),T.largestBatchId)):uu.empty(),F=w.fields.map(([U,q])=>new Hb(ar.fromServerFormat(U),q));return new q_(w.indexId,w.collectionGroup,F,R)}(f,_))})).next(()=>l)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const a=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==a?a:Ut(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=Xd(e),a=Ey(e);return this.Tn(e).next(l=>i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>oe.forEach(f,_=>a.put(M0(_.indexId,this.user,l,r)))))}updateIndexEntries(e,t){const r=new Map;return oe.forEach(t,(i,a)=>{const l=r.get(i.collectionGroup);return(l?oe.resolve(l):this.getFieldIndexes(e,i.collectionGroup)).next(f=>(r.set(i.collectionGroup,f),oe.forEach(f,_=>this.En(e,i,_).next(w=>{const T=this.An(a,_);return w.isEqual(T)?oe.resolve():this.vn(e,a,_,w,T)}))))})}Rn(e,t,r,i){return Qd(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.gn(r,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,r,i){return Qd(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.gn(r,t.key),t.key.path.toArray()])}En(e,t,r){const i=Qd(e);let a=new Jn(Iu);return i.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.gn(r,t)])},(l,f)=>{a=a.add(new Yd(r.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>a)}An(e,t){let r=new Jn(Iu);const i=this.mn(t,e);if(null==i)return r;const a=eI(t);if(null!=a){const l=e.data.field(a.fieldPath);if(Xm(l))for(const f of l.arrayValue.values||[])r=r.add(new Yd(t.indexId,e.key,this.dn(f),i))}else r=r.add(new Yd(t.indexId,e.key,ip,i));return r}vn(e,t,r,i,a){De("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const l=[];return function(f,_,w,T,R){const F=f.getIterator(),U=_.getIterator();let q=pu(F),J=pu(U);for(;q||J;){let ce=!1,je=!1;if(q&&J){const Ye=w(q,J);Ye<0?je=!0:Ye>0&&(ce=!0)}else null!=q?je=!0:ce=!0;ce?(T(J),J=pu(U)):je?(R(q),q=pu(F)):(q=pu(F),J=pu(U))}}(i,a,Iu,f=>{l.push(this.Rn(e,t,r,f))},f=>{l.push(this.Pn(e,t,r,f))}),oe.waitFor(l)}Tn(e){let t=1;return Ey(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,a)=>{a.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((l,f)=>Iu(l,f)).filter((l,f,_)=>!f||0!==Iu(l,_[f-1]));const i=[];i.push(e);for(const l of r){const f=Iu(l,e),_=Iu(l,t);if(0===f)i[0]=e.Je();else if(f>0&&_<0)i.push(l),i.push(l.Je());else if(_>0)break}i.push(t);const a=[];for(let l=0;l<i.length;l+=2){if(this.bn(i[l],i[l+1]))return[];a.push(IDBKeyRange.bound([i[l].indexId,this.uid,i[l].arrayValue,i[l].directionalValue,ip,[]],[i[l+1].indexId,this.uid,i[l+1].arrayValue,i[l+1].directionalValue,ip,[]]))}return a}bn(e,t){return Iu(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(zD)}getMinOffset(e,t){return oe.mapArray(this.cn(t),r=>this.an(e,r).next(i=>i||dt())).next(zD)}}function wy(n){return ci(n,"collectionParents")}function Qd(n){return ci(n,"indexEntries")}function Xd(n){return ci(n,"indexConfiguration")}function Ey(n){return ci(n,"indexState")}function zD(n){Et(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;Vd(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new vo(e.readTime,e.documentKey,t)}const GD={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class eo{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new eo(e,eo.DEFAULT_COLLECTION_PERCENTILE,eo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function F0(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),a=[],l=IDBKeyRange.only(t.batchId);let f=0;const _=r.X({range:l},(T,R,F)=>(f++,F.delete()));a.push(_.next(()=>{Et(1===f)}));const w=[];for(const T of t.mutations){const R=Gb(e,T.key.path,t.batchId);a.push(i.delete(R)),w.push(T.key)}return oe.waitFor(a).next(()=>w)}function Iy(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw dt();e=n.noDocument}return JSON.stringify(e).length}eo.DEFAULT_COLLECTION_PERCENTILE=10,eo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,eo.DEFAULT=new eo(41943040,eo.DEFAULT_COLLECTION_PERCENTILE,eo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),eo.DISABLED=new eo(-1,0,0);class xy{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Vn={}}static de(e,t,r,i){Et(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new xy(a,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return xu(e).X({index:"userMutationsIndex",range:r},(i,a,l)=>{t=!1,l.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const a=Jd(e),l=xu(e);return l.add({}).next(f=>{Et("number"==typeof f);const _=new py(f,t,r,i),w=function(F,U,q){const J=q.baseMutations.map(je=>ep(F.fe,je)),ce=q.mutations.map(je=>ep(F.fe,je));return{userId:U,batchId:q.batchId,localWriteTimeMs:q.localWriteTime.toMillis(),baseMutations:J,mutations:ce}}(this.serializer,this.userId,_),T=[];let R=new Jn((F,U)=>Ut(F.canonicalString(),U.canonicalString()));for(const F of i){const U=Gb(this.userId,F.key.path,f);R=R.add(F.key.path.popLast()),T.push(l.put(w)),T.push(a.put(U,tD))}return R.forEach(F=>{T.push(this.indexManager.addToCollectionParentIndex(e,F))}),e.addOnCommittedListener(()=>{this.Vn[f]=_.keys()}),oe.waitFor(T).next(()=>_)})}lookupMutationBatch(e,t){return xu(e).get(t).next(r=>r?(Et(r.userId===this.userId),Wd(this.serializer,r)):null)}Sn(e,t){return this.Vn[t]?oe.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.Vn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return xu(e).X({index:"userMutationsIndex",range:i},(l,f,_)=>{f.userId===this.userId&&(Et(f.batchId>=r),a=Wd(this.serializer,f)),_.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return xu(e).X({index:"userMutationsIndex",range:t,reverse:!0},(i,a,l)=>{r=a.batchId,l.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return xu(e).j("userMutationsIndex",t).next(r=>r.map(i=>Wd(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Y_(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Jd(e).X({range:i},(l,f,_)=>{const[w,T,R]=l,F=qa(T);if(w===this.userId&&t.path.isEqual(F))return xu(e).get(R).next(U=>{if(!U)throw dt();Et(U.userId===this.userId),a.push(Wd(this.serializer,U))});_.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Jn(Ut);const i=[];return t.forEach(a=>{const l=Y_(this.userId,a.path),f=IDBKeyRange.lowerBound(l),_=Jd(e).X({range:f},(w,T,R)=>{const[F,U,q]=w,J=qa(U);F===this.userId&&a.path.isEqual(J)?r=r.add(q):R.done()});i.push(_)}),oe.waitFor(i).next(()=>this.Dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,a=Y_(this.userId,r),l=IDBKeyRange.lowerBound(a);let f=new Jn(Ut);return Jd(e).X({range:l},(_,w,T)=>{const[R,F,U]=_,q=qa(F);R===this.userId&&r.isPrefixOf(q)?q.length===i&&(f=f.add(U)):T.done()}).next(()=>this.Dn(e,f))}Dn(e,t){const r=[],i=[];return t.forEach(a=>{i.push(xu(e).get(a).next(l=>{if(null===l)throw dt();Et(l.userId===this.userId),r.push(Wd(this.serializer,l))}))}),oe.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return F0(e.ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),oe.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return oe.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return Jd(e).X({range:r},(a,l,f)=>{if(a[0]===this.userId){const _=qa(a[1]);i.push(_)}else f.done()}).next(()=>{Et(0===i.length)})})}containsKey(e,t){return ox(e,this.userId,t)}xn(e){return L0(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function ox(n,e,t){const r=Y_(e,t.path),i=r[1],a=IDBKeyRange.lowerBound(r);let l=!1;return Jd(n).X({range:a,Y:!0},(f,_,w)=>{const[T,R,F]=f;T===e&&R===i&&(l=!0),w.done()}).next(()=>l)}function xu(n){return ci(n,"mutations")}function Jd(n){return ci(n,"documentMutations")}function L0(n){return ci(n,"mutationQueues")}class Cu{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Cu(0)}static Mn(){return new Cu(-1)}}class qD{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const r=new Cu(t.highestTargetId);return t.highestTargetId=r.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>xt.fromTimestamp(new Xn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.$n(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.On(e,i)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(r=>(r.targetCount+=1,this.Bn(t,r),this.On(e,r))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>op(e).delete(t.targetId)).next(()=>this.$n(e)).next(r=>(Et(r.targetCount>0),r.targetCount-=1,this.On(e,r)))}removeTargets(e,t,r){let i=0;const a=[];return op(e).X((l,f)=>{const _=np(f);_.sequenceNumber<=t&&null===r.get(_.targetId)&&(i++,a.push(this.removeTargetData(e,_)))}).next(()=>oe.waitFor(a)).next(()=>i)}forEachTarget(e,t){return op(e).X((r,i)=>{const a=np(i);t(a)})}$n(e){return B0(e).get("targetGlobalKey").next(t=>(Et(null!==t),t))}On(e,t){return B0(e).put("targetGlobalKey",t)}Fn(e,t){return op(e).put(BD(this.serializer,t))}Bn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Qc(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return op(e).X({range:i,index:"queryTargetsIndex"},(l,f,_)=>{const w=np(f);qf(t,w.target)&&(a=w,_.done())}).next(()=>a)}addMatchingKeys(e,t,r){const i=[],a=Qa(e);return t.forEach(l=>{const f=Ii(l.path);i.push(a.put({targetId:r,path:f})),i.push(this.referenceDelegate.addReference(e,r,l))}),oe.waitFor(i)}removeMatchingKeys(e,t,r){const i=Qa(e);return oe.forEach(t,a=>{const l=Ii(a.path);return oe.waitFor([i.delete([r,l]),this.referenceDelegate.removeReference(e,r,a)])})}removeMatchingKeysForTargetId(e,t){const r=Qa(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Qa(e);let a=Qt();return i.X({range:r,Y:!0},(l,f,_)=>{const w=qa(l[1]),T=new et(w);a=a.add(T)}).next(()=>a)}containsKey(e,t){const r=Ii(t.path),i=IDBKeyRange.bound([r],[JE(r)],!1,!0);let a=0;return Qa(e).X({index:"documentTargetsIndex",Y:!0,range:i},([l,f],_,w)=>{0!==l&&(a++,w.done())}).next(()=>a>0)}le(e,t){return op(e).get(t).next(r=>r?np(r):null)}}function op(n){return ci(n,"targets")}function B0(n){return ci(n,"targetGlobal")}function Qa(n){return ci(n,"targetDocuments")}function WD([n,e],[t,r]){const i=Ut(n,t);return 0===i?Ut(e,r):i}class sx{constructor(e){this.Ln=e,this.buffer=new Jn(WD),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();WD(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Cy{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;De("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,be.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){ws(r)?De("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield du(r)}yield t.Qn(3e5)}))}}class ZD{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return oe.resolve(Go.ct);const r=new sx(t);return this.jn.forEachTarget(e,i=>r.Kn(i.sequenceNumber)).next(()=>this.jn.Wn(e,i=>r.Kn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.jn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(De("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(GD)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(De("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),GD):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let r,i,a,l,f,_,w;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(R=>(R>this.params.maximumSequenceNumbersToCollect?(De("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),i=this.params.maximumSequenceNumbersToCollect):i=R,l=Date.now(),this.nthSequenceNumber(e,i))).next(R=>(r=R,f=Date.now(),this.removeTargets(e,r,t))).next(R=>(a=R,_=Date.now(),this.removeOrphanedDocuments(e,r))).next(R=>(w=Date.now(),Lf()<=zc.in.DEBUG&&De("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${l-T}ms\n\tDetermined least recently used ${i} in `+(f-l)+`ms\n\tRemoved ${a} targets in `+(_-f)+`ms\n\tRemoved ${R} documents in `+(w-_)+`ms\nTotal Duration: ${w-T}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:R})))}}class qR{constructor(e,t){this.db=e,this.garbageCollector=function ax(n,e){return new ZD(n,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Jn(e){let t=0;return this.Wn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(r,i)=>t(i))}addReference(e,t,r){return V0(e,r)}removeReference(e,t,r){return V0(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return V0(e,t)}Xn(e,t){return function(r,i){let a=!1;return L0(r).Z(l=>ox(r,l,i).next(f=>(f&&(a=!0),oe.resolve(!f)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.Yn(e,(l,f)=>{if(f<=t){const _=this.Xn(e,l).next(w=>{if(!w)return a++,r.getEntry(e,l).next(()=>(r.removeEntry(l,xt.min()),Qa(e).delete([0,Ii(l.path)])))});i.push(_)}}).next(()=>oe.waitFor(i)).next(()=>r.apply(e)).next(()=>a)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return V0(e,t)}Yn(e,t){const r=Qa(e);let i,a=Go.ct;return r.X({index:"documentTargetsIndex"},([l,f],{path:_,sequenceNumber:w})=>{0===l?(a!==Go.ct&&t(new et(qa(i)),a),a=w,i=_):a=Go.ct}).next(()=>{a!==Go.ct&&t(new et(qa(i)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function V0(n,e){return Qa(n).put((r=n.currentSequenceNumber,{targetId:0,path:Ii(e.path),sequenceNumber:r}));var r}class cx{constructor(){this.changes=new vu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Bn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?oe.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class KD{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return sp(e).put(r)}removeEntry(e,t,r){return sp(e).delete(function(i,a){const l=i.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],pg(a),l[l.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Zn(e,r)))}getEntry(e,t){let r=Bn.newInvalidDocument(t);return sp(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Ty(t))},(i,a)=>{r=this.ts(t,a)}).next(()=>r)}es(e,t){let r={size:0,document:Bn.newInvalidDocument(t)};return sp(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Ty(t))},(i,a)=>{r={document:this.ts(t,a),size:Iy(a)}}).next(()=>r)}getEntries(e,t){let r=Ji();return this.ns(e,t,(i,a)=>{const l=this.ts(i,a);r=r.insert(i,l)}).next(()=>r)}ss(e,t){let r=Ji(),i=new wn(et.comparator);return this.ns(e,t,(a,l)=>{const f=this.ts(a,l);r=r.insert(a,f),i=i.insert(a,Iy(l))}).next(()=>({documents:r,rs:i}))}ns(e,t,r){if(t.isEmpty())return oe.resolve();let i=new Jn(QD);t.forEach(_=>i=i.add(_));const a=IDBKeyRange.bound(Ty(i.first()),Ty(i.last())),l=i.getIterator();let f=l.getNext();return sp(e).X({index:"documentKeyIndex",range:a},(_,w,T)=>{const R=et.fromSegments([...w.prefixPath,w.collectionGroup,w.documentId]);for(;f&&QD(f,R)<0;)r(f,null),f=l.getNext();f&&f.isEqual(R)&&(r(f,w),f=l.hasNext()?l.getNext():null),f?T.G(Ty(f)):T.done()}).next(()=>{for(;f;)r(f,null),f=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(e,t,r,i){const a=t.path,l=[a.popLast().toArray(),a.lastSegment(),pg(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],f=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return sp(e).j(IDBKeyRange.bound(l,f,!0)).next(_=>{let w=Ji();for(const T of _){const R=this.ts(et.fromSegments(T.prefixPath.concat(T.collectionGroup,T.documentId)),T);R.isFoundDocument()&&(Wr(t,R)||i.has(R.key))&&(w=w.insert(R.key,R))}return w})}getAllFromCollectionGroup(e,t,r,i){let a=Ji();const l=ux(t,r),f=ux(t,vo.max());return sp(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(l,f,!0)},(_,w,T)=>{const R=this.ts(et.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);a=a.insert(R.key,R),a.size===i&&T.done()}).next(()=>a)}newChangeBuffer(e){return new WR(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return YD(e).get("remoteDocumentGlobalKey").next(t=>(Et(!!t),t))}Zn(e,t){return YD(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const r=function LD(n,e){let t;if(e.document)t=KI(n.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=et.fromSegments(e.noDocument.path),i=Eu(e.noDocument.readTime);t=Bn.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return dt();{const r=et.fromSegments(e.unknownDocument.path),i=Eu(e.unknownDocument.version);t=Bn.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new Xn(r[0],r[1]);return xt.fromTimestamp(i)}(e.readTime)),t}(this.serializer,t);if(!r.isNoDocument()||!r.version.isEqual(xt.min()))return r}return Bn.newInvalidDocument(e)}}function lx(n){return new KD(n)}class WR extends cx{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new vu(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new Jn((a,l)=>Ut(a.canonicalString(),l.canonicalString()));return this.changes.forEach((a,l)=>{const f=this.us.get(a);if(t.push(this.os.removeEntry(e,a,f.readTime)),l.isValidDocument()){const _=ex(this.os.serializer,l);i=i.add(a.path.popLast());const w=Iy(_);r+=w-f.size,t.push(this.os.addEntry(e,a,_))}else if(r-=f.size,this.trackRemovals){const _=ex(this.os.serializer,l.convertToNoDocument(xt.min()));t.push(this.os.addEntry(e,a,_))}}),i.forEach(a=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.os.updateMetadata(e,r)),oe.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(r=>(this.us.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:r,rs:i})=>(i.forEach((a,l)=>{this.us.set(a,{size:l,readTime:r.get(a).readTime})}),r))}}function YD(n){return ci(n,"remoteDocumentGlobal")}function sp(n){return ci(n,"remoteDocumentsV14")}function Ty(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function ux(n,e){const t=e.documentKey.path.toArray();return[n,pg(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function QD(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let a=0;a<t.length-2&&a<r.length-2;++a)if(i=Ut(t[a],r[a]),i)return i;return i=Ut(t.length,r.length),i||(i=Ut(t[t.length-2],r[r.length-2]),i||Ut(t[t.length-1],r[r.length-1]))}class ZR{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class XD{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&ug(r.mutation,i,bo.empty(),Xn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Qt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Qt()){const i=Is();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let l=Jc();return a.forEach((f,_)=>{l=l.insert(f,_.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=Is();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Qt()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((l,f)=>{t.set(l,f)})})}computeViews(e,t,r,i){let a=Ji();const l=Kf(),f=Kf();return t.forEach((_,w)=>{const T=r.get(w.key);i.has(w.key)&&(void 0===T||T.mutation instanceof Ka)?a=a.insert(w.key,w):void 0!==T?(l.set(w.key,T.mutation.getFieldMask()),ug(T.mutation,w,T.mutation.getFieldMask(),Xn.now())):l.set(w.key,bo.empty())}),this.recalculateAndSaveOverlays(e,a).next(_=>(_.forEach((w,T)=>l.set(w,T)),t.forEach((w,T)=>{var R;return f.set(w,new ZR(T,null!==(R=l.get(w))&&void 0!==R?R:null))}),f))}recalculateAndSaveOverlays(e,t){const r=Kf();let i=new wn((l,f)=>l-f),a=Qt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const f of l)f.keys().forEach(_=>{const w=t.get(_);if(null===w)return;let T=r.get(_)||bo.empty();T=f.applyToLocalView(w,T),r.set(_,T);const R=(i.get(f.batchId)||Qt()).add(_);i=i.insert(f.batchId,R)})}).next(()=>{const l=[],f=i.getReverseIterator();for(;f.hasNext();){const _=f.getNext(),w=_.key,T=_.value,R=MI();T.forEach(F=>{if(!a.has(F)){const U=m0(t.get(F),r.get(F));null!==U&&R.set(F,U),a=a.add(F)}}),l.push(this.documentOverlayCache.saveOverlays(e,w,R))}return oe.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return et.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):ay(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):oe.resolve(Is());let f=-1,_=a;return l.next(w=>oe.forEach(w,(T,R)=>(f<R.largestBatchId&&(f=R.largestBatchId),a.get(T)?oe.resolve():this.remoteDocumentCache.getEntry(e,T).next(F=>{_=_.insert(T,F)}))).next(()=>this.populateOverlays(e,w,a)).next(()=>this.computeViews(e,_,w,Qt())).next(T=>({batchId:f,changes:SI(T)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new et(t)).next(r=>{let i=Jc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let a=Jc();return this.indexManager.getCollectionParents(e,i).next(l=>oe.forEach(l,f=>{const _=(w=t,T=f.child(i),new Xc(T,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt));var w,T;return this.getDocumentsMatchingCollectionQuery(e,_,r).next(w=>{w.forEach((T,R)=>{a=a.insert(T,R)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(a=>{i.forEach((f,_)=>{const w=_.getKey();null===a.get(w)&&(a=a.insert(w,Bn.newInvalidDocument(w)))});let l=Jc();return a.forEach((f,_)=>{const w=i.get(f);void 0!==w&&ug(w.mutation,_,bo.empty(),Xn.now()),Wr(t,_)&&(l=l.insert(f,_))}),l})}}class KR{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return oe.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:yr(r.createTime)}),oe.resolve()}getNamedQuery(e,t){return oe.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:mg(r.bundledQuery),readTime:yr(r.readTime)}),oe.resolve();var r}}class YR{constructor(){this.overlays=new wn(et.comparator),this.ls=new Map}getOverlay(e,t){return oe.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Is();return oe.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.we(e,t,a)}),oe.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.ls.delete(r)),oe.resolve()}getOverlaysForCollection(e,t,r){const i=Is(),a=t.length+1,l=new et(t.child("")),f=this.overlays.getIteratorFrom(l);for(;f.hasNext();){const _=f.getNext().value,w=_.getKey();if(!t.isPrefixOf(w.path))break;w.path.length===a&&_.largestBatchId>r&&i.set(_.getKey(),_)}return oe.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new wn((w,T)=>w-T);const l=this.overlays.getIterator();for(;l.hasNext();){const w=l.getNext().value;if(w.getKey().getCollectionGroup()===t&&w.largestBatchId>r){let T=a.get(w.largestBatchId);null===T&&(T=Is(),a=a.insert(w.largestBatchId,T)),T.set(w.getKey(),w)}}const f=Is(),_=a.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((w,T)=>f.set(w,T)),!(f.size()>=i)););return oe.resolve(f)}we(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const l=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new VI(t,r));let a=this.ls.get(t);void 0===a&&(a=Qt(),this.ls.set(t,a)),this.ls.set(t,a.add(r.key))}}class dx{constructor(){this.fs=new Jn(o.ds),this.ws=new Jn(o._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new o(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new o(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new et(new dn([])),r=new o(t,e),i=new o(t,e+1),a=[];return this.ws.forEachInRange([r,i],l=>{this.ys(l),a.push(l.key)}),a}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new et(new dn([])),r=new o(t,e),i=new o(t,e+1);let a=Qt();return this.ws.forEachInRange([r,i],l=>{a=a.add(l.key)}),a}containsKey(e){const t=new o(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class o{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return et.comparator(e.key,t.key)||Ut(e.As,t.As)}static _s(e,t){return Ut(e.As,t.As)||et.comparator(e.key,t.key)}}class s{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Jn(o.ds)}checkEmpty(e){return oe.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const a=this.vs;this.vs++;const l=new py(a,t,r,i);this.mutationQueue.push(l);for(const f of i)this.Rs=this.Rs.add(new o(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return oe.resolve(l)}lookupMutationBatch(e,t){return oe.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.bs(t+1),a=i<0?0:i;return oe.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new o(t,0),i=new o(t,Number.POSITIVE_INFINITY),a=[];return this.Rs.forEachInRange([r,i],l=>{const f=this.Ps(l.As);a.push(f)}),oe.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Jn(Ut);return t.forEach(i=>{const a=new o(i,0),l=new o(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([a,l],f=>{r=r.add(f.As)})}),oe.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;et.isDocumentKey(a)||(a=a.child(""));const l=new o(new et(a),0);let f=new Jn(Ut);return this.Rs.forEachWhile(_=>{const w=_.key.path;return!!r.isPrefixOf(w)&&(w.length===i&&(f=f.add(_.As)),!0)},l),oe.resolve(this.Vs(f))}Vs(e){const t=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Et(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return oe.forEach(t.mutations,i=>{const a=new o(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new o(t,0),i=this.Rs.firstAfterOrEqual(r);return oe.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return oe.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class c{constructor(e){this.Ds=e,this.docs=new wn(et.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,l=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return oe.resolve(r?r.document.mutableCopy():Bn.newInvalidDocument(t))}getEntries(e,t){let r=Ji();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Bn.newInvalidDocument(i))}),oe.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let a=Ji();const l=t.path,f=new et(l.child("")),_=this.docs.getIteratorFrom(f);for(;_.hasNext();){const{key:w,value:{document:T}}=_.getNext();if(!l.isPrefixOf(w.path))break;w.path.length>l.length+1||Vd(rI(T),r)<=0||(i.has(T.key)||Wr(t,T))&&(a=a.insert(T.key,T.mutableCopy()))}return oe.resolve(a)}getAllFromCollectionGroup(e,t,r,i){dt()}Cs(e,t){return oe.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new d(this)}getSize(e){return oe.resolve(this.size)}}class d extends cx{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),oe.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class h{constructor(e){this.persistence=e,this.xs=new vu(t=>Qc(t),qf),this.lastRemoteSnapshotVersion=xt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new dx,this.targetCount=0,this.Ms=Cu.kn()}forEachTarget(e,t){return this.xs.forEach((r,i)=>t(i)),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),oe.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Cu(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,oe.resolve()}updateTargetData(e,t){return this.Fn(t),oe.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.xs.forEach((l,f)=>{f.sequenceNumber<=t&&null===r.get(f.targetId)&&(this.xs.delete(l),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)}),oe.waitFor(a).next(()=>i)}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return oe.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),oe.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(l=>{a.push(i.markPotentiallyOrphaned(e,l))}),oe.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),oe.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return oe.resolve(r)}containsKey(e,t){return oe.resolve(this.ks.containsKey(t))}}class g{constructor(e,t){this.$s={},this.overlays={},this.Os=new Go(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new h(this),this.indexManager=new ix,this.remoteDocumentCache=new c(r=>this.referenceDelegate.Ls(r)),this.serializer=new JI(t),this.qs=new KR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new YR,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new s(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){De("MemoryPersistence","Starting transaction:",e);const i=new v(this.Os.next());return this.referenceDelegate.Us(),r(i).next(a=>this.referenceDelegate.Ks(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Gs(e,t){return oe.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class v extends oI{constructor(e){super(),this.currentSequenceNumber=e}}class I{constructor(e){this.persistence=e,this.Qs=new dx,this.js=null}static zs(e){return new I(e)}get Ws(){if(this.js)return this.js;throw dt()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),oe.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),oe.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),oe.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.Ws.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.Ws,r=>{const i=et.fromPath(r);return this.Hs(e,i).next(a=>{a||t.removeEntry(i,xt.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return oe.or([()=>oe.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class M{constructor(e){this.serializer=e}O(e,t,r,i){const a=new W_("createOrUpgrade",t);var f;r<1&&i>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",K_,{unique:!0}),f.createObjectStore("documentMutations"),P(e),function(f){f.createObjectStore("remoteDocuments")}(e));let l=oe.resolve();return r<3&&i>=3&&(0!==r&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),P(e)),l=l.next(()=>function(f){const _=f.store("targetGlobal"),w={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:xt.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",w)}(a))),r<4&&i>=4&&(0!==r&&(l=l.next(()=>function(f,_){return _.store("mutations").j().next(w=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",K_,{unique:!0});const T=_.store("mutations"),R=w.map(F=>T.put(F));return oe.waitFor(R)})}(e,a))),l=l.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(l=l.next(()=>this.Ys(a))),r<6&&i>=6&&(l=l.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(a)))),r<7&&i>=7&&(l=l.next(()=>this.Zs(a))),r<8&&i>=8&&(l=l.next(()=>this.ti(e,a))),r<9&&i>=9&&(l=l.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(l=l.next(()=>this.ei(a))),r<11&&i>=11&&(l=l.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(l=l.next(()=>{!function(f){const _=f.createObjectStore("documentOverlays",{keyPath:dI});_.createIndex("collectionPathOverlayIndex",dD,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",hD,{unique:!1})}(e)})),r<13&&i>=13&&(l=l.next(()=>function(f){const _=f.createObjectStore("remoteDocumentsV14",{keyPath:nD});_.createIndex("documentKeyIndex",rD),_.createIndex("collectionGroupIndex",iD)}(e)).next(()=>this.ni(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(l=l.next(()=>this.si(e,a))),r<15&&i>=15&&(l=l.next(()=>function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:lI}).createIndex("sequenceNumberIndex",uI,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:lD}).createIndex("documentKeyIndex",uD,{unique:!1})}(e))),l}Xs(e){let t=0;return e.store("remoteDocuments").X((r,i)=>{t+=Iy(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Ys(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.j().next(i=>oe.forEach(i,a=>{const l=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",l).next(f=>oe.forEach(f,_=>{Et(_.userId===a.userId);const w=Wd(this.serializer,_);return F0(e,a.userId,w).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const a=[];return r.X((l,f)=>{const _=new dn(l),w=[0,Ii(_)];a.push(t.get(w).next(T=>T?oe.resolve():t.put({targetId:0,path:Ii(_),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>oe.waitFor(a))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:cD});const r=t.store("collectionParents"),i=new vg,a=l=>{if(i.add(l)){const f=l.lastSegment(),_=l.popLast();return r.put({collectionId:f,parent:Ii(_)})}};return t.store("remoteDocuments").X({Y:!0},(l,f)=>{const _=new dn(l);return a(_.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([l,f,_],w)=>{const T=qa(f);return a(T.popLast())}))}ei(e){const t=e.store("targets");return t.X((r,i)=>{const a=np(i),l=BD(this.serializer,a);return t.put(l)})}ni(e,t){const r=t.store("remoteDocuments"),i=[];return r.X((a,l)=>{const f=t.store("remoteDocumentsV14"),_=(w=l,w.document?new et(dn.fromString(w.document.name).popFirst(5)):w.noDocument?et.fromSegments(w.noDocument.path):w.unknownDocument?et.fromSegments(w.unknownDocument.path):dt()).path.toArray();var w;const T={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};i.push(f.put(T))}).next(()=>oe.waitFor(i))}si(e,t){const r=t.store("mutations"),i=lx(this.serializer),a=new g(I.zs,this.serializer.fe);return r.j().next(l=>{const f=new Map;return l.forEach(_=>{var w;let T=null!==(w=f.get(_.userId))&&void 0!==w?w:Qt();Wd(this.serializer,_).keys().forEach(R=>T=T.add(R)),f.set(_.userId,T)}),oe.forEach(f,(_,w)=>{const T=new ai(w),R=Zd.de(this.serializer,T),F=a.getIndexManager(T),U=xy.de(T,this.serializer,F,a.referenceDelegate);return new XD(i,U,R,F).recalculateAndSaveOverlaysForDocumentKeys(new Kb(t,Go.ct),_).next()})})}}function P(n){n.createObjectStore("targetDocuments",{keyPath:sD}).createIndex("documentTargetsIndex",aD,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",oD,{unique:!0}),n.createObjectStore("targetGlobal")}const B="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class W{constructor(e,t,r,i,a,l,f,_,w,T,R=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.ii=a,this.window=l,this.document=f,this.ri=w,this.oi=T,this.ui=R,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=F=>Promise.resolve(),!W.D())throw new Re(fe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new qR(this,i),this.di=t+"main",this.serializer=new JI(_),this.wi=new bs(this.di,this.ui,new M(this.serializer)),this.Bs=new qD(this.referenceDelegate,this.serializer),this.remoteDocumentCache=lx(this.serializer),this.qs=new tx,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===T&&Or("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Re(fe.FAILED_PRECONDITION,B);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new Go(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var r=(0,be.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,be.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,be.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Ie(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(ws(e))return De("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return De("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return ee(e).get("owner").next(t=>oe.resolve(this.Ri(t)))}Pi(e){return Ie(e).delete(this.clientId)}bi(){var e=this;return(0,be.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=ci(r,"clientMetadata");return i.j().next(a=>{const l=e.Si(a,18e5),f=a.filter(_=>-1===l.indexOf(_));return oe.forEach(f,_=>i.delete(_.clientId)).next(()=>f)})}).catch(()=>[]);if(e._i)for(const r of t)e._i.removeItem(e.Di(r.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?oe.resolve(!0):ee(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Re(fe.FAILED_PRECONDITION,B);return!1}}return!(!this.networkEnabled||!this.inForeground)||Ie(e).j().next(r=>void 0===this.Si(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(t=>(this.isPrimary!==t&&De("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,be.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new Kb(t,Go.ct);return e.Ai(r).next(()=>e.Pi(r))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(r=>this.Vi(r.updateTimeMs,t)&&!this.Ci(r.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>Ie(e).j().next(t=>this.Si(t,18e5).map(r=>r.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return xy.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new $D(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return Zd.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,r){De("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",a=15===(l=this.ui)?Zb:14===l?Wb:13===l?Q_:12===l?qb:11===l?hI:void dt();var l;let f;return this.wi.runTransaction(e,i,a,_=>(f=new Kb(_,this.Os?this.Os.next():Go.ct),"readwrite-primary"===t?this.Ti(f).next(w=>!!w||this.Ei(f)).next(w=>{if(!w)throw Or(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Re(fe.FAILED_PRECONDITION,iI);return r(f)}).next(w=>this.vi(f).next(()=>w)):this.Oi(f).next(()=>r(f)))).then(_=>(f.raiseOnCommittedEvent(),_))}Oi(e){return ee(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Re(fe.FAILED_PRECONDITION,B)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ee(e).put("owner",t)}static D(){return bs.D()}Ai(e){const t=ee(e);return t.get("owner").next(r=>this.Ri(r)?(De("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):oe.resolve())}Vi(e,t){const r=Date.now();return!(e<r-t||e>r&&(Or(`Detected an update time that is in the future: ${e} > ${r}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,Yt.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const r=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return De("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Or("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){Or("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function ee(n){return ci(n,"owner")}function Ie(n){return ci(n,"clientMetadata")}function He(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class tt{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=i}static Li(e,t){let r=Qt(),i=Qt();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new tt(e,t.fromCache,r,i)}}class _t{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ki(e,t).next(a=>a||this.Gi(e,t,i,r)).next(a=>a||this.Qi(e,t))}Ki(e,t){if(oy(t))return oe.resolve(null);let r=Xi(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=og(t,null,"F"),r=Xi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=Qt(...a);return this.Ui.getDocuments(e,l).next(f=>this.indexManager.getMinOffset(e,r).next(_=>{const w=this.ji(t,f);return this.zi(t,w,l,_.readTime)?this.Ki(e,og(t,null,"F")):this.Wi(e,w,t,_)}))})))}Gi(e,t,r,i){return oy(t)||i.isEqual(xt.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(a=>{const l=this.ji(t,a);return this.zi(t,l,r,i)?this.Qi(e,t):(Lf()<=zc.in.DEBUG&&De("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ly(t)),this.Wi(e,l,t,nI(i,-1)))})}ji(e,t){let r=new Jn(AI(e));return t.forEach((i,a)=>{Wr(e,a)&&(r=r.add(a))}),r}zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Qi(e,t){return Lf()<=zc.in.DEBUG&&De("QueryEngine","Using full collection scan to execute query:",ly(t)),this.Ui.getDocumentsMatchingQuery(e,t,vo.min())}Wi(e,t,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(l=>{a=a.insert(l.key,l)}),a))}}class Ot{constructor(e,t,r,i){this.persistence=e,this.Hi=t,this.serializer=i,this.Ji=new wn(Ut),this.Yi=new vu(a=>Qc(a),qf),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new XD(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function Ne(n,e,t,r){return new Ot(n,e,t,r)}function qt(n,e){return Vn.apply(this,arguments)}function Vn(){return Vn=(0,be.Z)(function*(n,e){const t=nt(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],f=[];let _=Qt();for(const w of i){l.push(w.batchId);for(const T of w.mutations)_=_.add(T.key)}for(const w of a){f.push(w.batchId);for(const T of w.mutations)_=_.add(T.key)}return t.localDocuments.getDocuments(r,_).next(w=>({er:w,removedBatchIds:l,addedBatchIds:f}))})})}),Vn.apply(this,arguments)}function JD(n){const e=nt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function QR(n,e,t){let r=Qt(),i=Qt();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let l=Ji();return t.forEach((f,_)=>{const w=a.get(f);_.isFoundDocument()!==w.isFoundDocument()&&(i=i.add(f)),_.isNoDocument()&&_.version.isEqual(xt.min())?(e.removeEntry(f,_.readTime),l=l.insert(f,_)):!w.isValidDocument()||_.version.compareTo(w.version)>0||0===_.version.compareTo(w.version)&&w.hasPendingWrites?(e.addEntry(_),l=l.insert(f,_)):De("LocalStore","Ignoring outdated watch update for ",f,". Current version:",w.version," Watch version:",_.version)}),{nr:l,sr:i}})}function XF(n,e){const t=nt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Dy(n,e){const t=nt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Bs.getTargetData(r,e).next(a=>a?(i=a,oe.resolve(i)):t.Bs.allocateTargetId(r).next(l=>(i=new rl(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}function Ay(n,e,t){return eA.apply(this,arguments)}function eA(){return eA=(0,be.Z)(function*(n,e,t){const r=nt(n),i=r.Ji.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!ws(l))throw l;De("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),eA.apply(this,arguments)}function hx(n,e,t){const r=nt(n);let i=xt.min(),a=Qt();return r.persistence.runTransaction("Execute query","readonly",l=>function(f,_,w){const T=nt(f),R=T.Yi.get(w);return void 0!==R?oe.resolve(T.Ji.get(R)):T.Bs.getTargetData(_,w)}(r,l,Xi(e)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(l,f.targetId).next(_=>{a=_})}).next(()=>r.Hi.getDocumentsMatchingQuery(l,e,t?i:xt.min(),t?a:Qt())).next(f=>(e1(r,$d(e),f),{documents:f,ir:a})))}function XR(n,e){const t=nt(n),r=nt(t.Bs),i=t.Ji.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",a=>r.le(a,e).next(l=>l?l.target:null))}function JR(n,e){const t=nt(n),r=t.Xi.get(e)||xt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Zi.getAllFromCollectionGroup(i,e,nI(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(e1(t,e,i),i))}function e1(n,e,t){let r=n.Xi.get(e)||xt.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Xi.set(e,r)}function tA(){return tA=(0,be.Z)(function*(n,e,t,r){const i=nt(n);let a=Qt(),l=Ji();for(const w of t){const T=e.rr(w.metadata.name);w.document&&(a=a.add(T));const R=e.ur(w);R.setReadTime(e.cr(w.metadata.readTime)),l=l.insert(T,R)}const f=i.Zi.newChangeBuffer({trackRemovals:!0}),_=yield Dy(i,(w=r,Xi(Hd(dn.fromString(`__bundle__/docs/${w}`)))));var w;return i.persistence.runTransaction("Apply bundle documents","readwrite",w=>QR(w,f,l).next(T=>(f.apply(w),T)).next(T=>i.Bs.removeMatchingKeysForTargetId(w,_.targetId).next(()=>i.Bs.addMatchingKeys(w,a,_.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(w,T.nr,T.sr)).next(()=>T.nr)))}),tA.apply(this,arguments)}function eL(n,e){return nA.apply(this,arguments)}function nA(){return nA=(0,be.Z)(function*(n,e,t=Qt()){const r=yield Dy(n,Xi(mg(e.bundledQuery))),i=nt(n);return i.persistence.runTransaction("Save named query","readwrite",a=>{const l=yr(e.readTime);if(r.snapshotVersion.compareTo(l)>=0)return i.qs.saveNamedQuery(a,e);const f=r.withResumeToken(Fr.EMPTY_BYTE_STRING,l);return i.Ji=i.Ji.insert(f.targetId,f),i.Bs.updateTargetData(a,f).next(()=>i.Bs.removeMatchingKeysForTargetId(a,r.targetId)).next(()=>i.Bs.addMatchingKeys(a,t,r.targetId)).next(()=>i.qs.saveNamedQuery(a,e))})}),nA.apply(this,arguments)}function t1(n,e){return`firestore_clients_${n}_${e}`}function n1(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function rA(n,e){return`firestore_targets_${n}_${e}`}class fx{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static ar(e,t,r){const i=JSON.parse(r);let a,l="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return l&&i.error&&(l="string"==typeof i.error.message&&"string"==typeof i.error.code,l&&(a=new Re(i.error.code,i.error.message))),l?new fx(e,t,i.state,a):(Or("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class U0{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static ar(e,t){const r=JSON.parse(t);let i,a="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(i=new Re(r.error.code,r.error.message))),a?new U0(e,r.state,i):(Or("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class px{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,a=dy();for(let l=0;i&&l<r.activeTargetIds.length;++l)i=zb(r.activeTargetIds[l]),a=a.add(r.activeTargetIds[l]);return i?new px(e,a):(Or("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class iA{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new iA(t.clientId,t.onlineState):(Or("SharedClientState",`Failed to parse online state: ${e}`),null)}}class oA{constructor(){this.activeTargetIds=dy()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sA{constructor(e,t,r,i,a){this.window=e,this.ii=t,this.persistenceKey=r,this.wr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new wn(Ut),this.started=!1,this.yr=[];const l=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.pr=t1(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new oA),this.Tr=new RegExp(`^firestore_clients_${l}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${l}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${l}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,be.Z)(function*(){const t=yield e.syncEngine.$i();for(const i of t){if(i===e.wr)continue;const a=e.getItem(t1(e.persistenceKey,i));if(a){const l=px.ar(i,a);l&&(e.gr=e.gr.insert(l.clientId,l))}}e.Pr();const r=e.storage.getItem(e.vr);if(r){const i=e.br(r);i&&e.Vr(i)}for(const i of e.yr)e.mr(i);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,r){this.Dr(e,t,r),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(rA(this.persistenceKey,e));if(r){const i=U0.ar(e,r);i&&(t=i.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(rA(this.persistenceKey,e))}updateQueryState(e,t,r){this.kr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Cr(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return De("SharedClientState","READ",e,t),t}setItem(e,t){De("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){De("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(De("SharedClientState","EVENT",r.key,r.newValue),r.key===this.pr)return void Or("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,be.Z)(function*(){if(t.started){if(null!==r.key)if(t.Tr.test(r.key)){if(null==r.newValue){const i=t.Or(r.key);return t.Fr(i,null)}{const i=t.Br(r.key,r.newValue);if(i)return t.Fr(i.clientId,i)}}else if(t.Er.test(r.key)){if(null!==r.newValue){const i=t.Lr(r.key,r.newValue);if(i)return t.qr(i)}}else if(t.Ar.test(r.key)){if(null!==r.newValue){const i=t.Ur(r.key,r.newValue);if(i)return t.Kr(i)}}else if(r.key===t.vr){if(null!==r.newValue){const i=t.br(r.newValue);if(i)return t.Vr(i)}}else if(r.key===t.Ir){const i=function(a){let l=Go.ct;if(null!=a)try{const f=JSON.parse(a);Et("number"==typeof f),l=f}catch(f){Or("SharedClientState","Failed to read sequence number from WebStorage",f)}return l}(r.newValue);i!==Go.ct&&t.sequenceNumberHandler(i)}else if(r.key===t.Rr){const i=t.Gr(r.newValue);yield Promise.all(i.map(a=>t.syncEngine.Qr(a)))}}else t.yr.push(r)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,r){const i=new fx(this.currentUser,e,t,r),a=n1(this.persistenceKey,this.currentUser,e);this.setItem(a,i.hr())}Cr(e){const t=n1(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,r){const i=rA(this.persistenceKey,e),a=new U0(e,t,r);this.setItem(i,a.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const r=this.Or(e);return px.ar(r,t)}Lr(e,t){const r=this.Er.exec(e),i=Number(r[1]);return fx.ar(new ai(void 0!==r[2]?r[2]:null),i,t)}Ur(e,t){const r=this.Ar.exec(e),i=Number(r[1]);return U0.ar(i,t)}br(e){return iA.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,be.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);De("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const r=t?this.gr.insert(e,t):this.gr.remove(e),i=this.Sr(this.gr),a=this.Sr(r),l=[],f=[];return a.forEach(_=>{i.has(_)||l.push(_)}),i.forEach(_=>{a.has(_)||f.push(_)}),this.syncEngine.Wr(l,f).then(()=>{this.gr=r})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=dy();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class r1{constructor(){this.Hr=new oA,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new oA,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class tL{Yr(e){}shutdown(){}}class o1{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){De("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){De("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let mx=null;function aA(){return null===mx?mx=268435456+Math.round(2147483648*Math.random()):mx++,"0x"+mx.toString(16)}const nL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class rL{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const wo="WebChannelConnection";class iL extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,i,a){const l=aA(),f=this.To(e,t);De("RestConnection",`Sending RPC '${e}' ${l}:`,f,r);const _={};return this.Eo(_,i,a),this.Ao(e,f,_,r).then(w=>(De("RestConnection",`Received RPC '${e}' ${l}: `,w),w),w=>{throw zo("RestConnection",`RPC '${e}' ${l} failed with error: `,w,"url: ",f,"request:",r),w})}vo(e,t,r,i,a,l){return this.Io(e,t,r,i,a)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+da,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}To(e,t){return`${this.mo}/v1/${t}:${nL[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,i){const a=aA();return new Promise((l,f)=>{const _=new OR;_.setWithCredentials(!0),_.listenOnce(NR.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case cu.NO_ERROR:const T=_.getResponseJson();De(wo,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(T)),l(T);break;case cu.TIMEOUT:De(wo,`RPC '${e}' ${a} timed out`),f(new Re(fe.DEADLINE_EXCEEDED,"Request time out"));break;case cu.HTTP_ERROR:const R=_.getStatus();if(De(wo,`RPC '${e}' ${a} failed with status:`,R,"response text:",_.getResponseText()),R>0){let F=_.getResponseJson();Array.isArray(F)&&(F=F[0]);const U=F?.error;if(U&&U.status&&U.message){const q=function(J){const ce=J.toLowerCase().replace(/_/g,"-");return Object.values(fe).indexOf(ce)>=0?ce:fe.UNKNOWN}(U.status);f(new Re(q,U.message))}else f(new Re(fe.UNKNOWN,"Server responded with status "+_.getStatus()))}else f(new Re(fe.UNAVAILABLE,"Connection failed."));break;default:dt()}}finally{De(wo,`RPC '${e}' ${a} completed.`)}});const w=JSON.stringify(i);De(wo,`RPC '${e}' ${a} sending request:`,i),_.send(t,"POST",w,r,15)})}Ro(e,t,r){const i=aA(),a=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=HT(),f=$T(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},w=this.longPollingOptions.timeoutSeconds;void 0!==w&&(_.longPollingTimeout=Math.round(1e3*w)),this.useFetchStreams&&(_.xmlHttpFactory=new ZE({})),this.Eo(_.initMessageHeaders,t,r),_.encodeInitMessageHeaders=!0;const T=a.join("");De(wo,`Creating RPC '${e}' stream ${i}: ${T}`,_);const R=l.createWebChannel(T,_);let F=!1,U=!1;const q=new rL({ro:ce=>{U?De(wo,`Not sending because RPC '${e}' stream ${i} is closed:`,ce):(F||(De(wo,`Opening RPC '${e}' stream ${i} transport.`),R.open(),F=!0),De(wo,`RPC '${e}' stream ${i} sending:`,ce),R.send(ce))},oo:()=>R.close()}),J=(ce,je,Ye)=>{ce.listen(je,ze=>{try{Ye(ze)}catch(Qe){setTimeout(()=>{throw Qe},0)}})};return J(R,zm.EventType.OPEN,()=>{U||De(wo,`RPC '${e}' stream ${i} transport opened.`)}),J(R,zm.EventType.CLOSE,()=>{U||(U=!0,De(wo,`RPC '${e}' stream ${i} transport closed`),q.wo())}),J(R,zm.EventType.ERROR,ce=>{U||(U=!0,zo(wo,`RPC '${e}' stream ${i} transport errored:`,ce),q.wo(new Re(fe.UNAVAILABLE,"The operation could not be completed")))}),J(R,zm.EventType.MESSAGE,ce=>{var je;if(!U){const Ye=ce.data[0];Et(!!Ye);const Qe=Ye.error||(null===(je=Ye[0])||void 0===je?void 0:je.error);if(Qe){De(wo,`RPC '${e}' stream ${i} received error:`,Qe);const St=Qe.status;let Ft=function(Sr){const xo=Zr[Sr];if(void 0!==xo)return AD(xo)}(St),fn=Qe.message;void 0===Ft&&(Ft=fe.INTERNAL,fn="Unknown error status: "+St+" with message "+Qe.message),U=!0,q.wo(new Re(Ft,fn)),R.close()}else De(wo,`RPC '${e}' stream ${i} received:`,Ye),q._o(Ye)}}),J(f,Ub.STAT_EVENT,ce=>{ce.stat===zT.PROXY?De(wo,`RPC '${e}' stream ${i} detected buffering proxy`):ce.stat===zT.NOPROXY&&De(wo,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{q.fo()},0),q}}function s1(){return typeof window<"u"?window:null}function gx(){return typeof document<"u"?document:null}function j0(n){return new RD(n,!0)}class cA{constructor(e,t,r=1e3,i=1.5,a=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=i,this.Vo=a,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,t-r);i>0&&De("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class a1{constructor(e,t,r,i,a,l,f,_){this.ii=e,this.$o=r,this.Oo=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=f,this.listener=_,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new cA(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,be.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,be.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return(0,be.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===fe.RESOURCE_EXHAUSTED?(Or(t.toString()),Or("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===fe.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===t&&this.Zo(r,i)},r=>{e(()=>{const i=new Re(fe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No((0,be.Z)(function*(){e.state=0,e.start()}))}tu(e){return De("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(De("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class oL extends a1{constructor(e,t,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=a}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function C0(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:dt(),i=e.targetChange.targetIds||[],a=function(_,w){return _.useProto3Json?(Et(void 0===w||"string"==typeof w),Fr.fromBase64String(w||"")):(Et(void 0===w||w instanceof Uint8Array),Fr.fromUint8Array(w||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,f=l&&function(_){const w=void 0===_.code?fe.UNKNOWN:AD(_.code);return new Re(w,_.message||"")}(l);t=new HI(r,i,a,f||null)}else if("documentChange"in e){const r=e.documentChange,i=Cs(n,r.document.name),a=yr(r.document.updateTime),l=r.document.createTime?yr(r.document.createTime):xt.min(),f=new li({mapValue:{fields:r.document.fields}}),_=Bn.newFoundDocument(i,a,l,f);t=new E0(r.targetIds||[],r.removedTargetIds||[],_.key,_)}else if("documentDelete"in e){const r=e.documentDelete,i=Cs(n,r.document),a=r.readTime?yr(r.readTime):xt.min(),l=Bn.newNoDocument(i,a);t=new E0([],r.removedTargetIds||[],l.key,l)}else if("documentRemove"in e){const r=e.documentRemove,i=Cs(n,r.document);t=new E0([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return dt();{const r=e.filter,{count:i=0,unchangedNames:a}=r,l=new VR(i,a);t=new jI(r.targetId,l)}}var _;return t}(this.serializer,e),r=function(i){if(!("targetChange"in i))return xt.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?xt.min():a.readTime?yr(a.readTime):xt.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=Vi(this.serializer),t.addTarget=function(i,a){let l;const f=a.target;if(l=Wf(f)?{documents:T0(i,f)}:{query:vy(i,f)},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=GI(i,a.resumeToken);const _=I0(i,a.expectedCount);null!==_&&(l.expectedCount=_)}else if(a.snapshotVersion.compareTo(xt.min())>0){l.readTime=hg(i,a.snapshotVersion.toTimestamp());const _=I0(i,a.expectedCount);null!==_&&(l.expectedCount=_)}return l}(this.serializer,e);const r=function QI(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return dt()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=Vi(this.serializer),t.removeTarget=e,this.Wo(t)}}class sL extends a1{constructor(e,t,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=a,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Et(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function ND(n,e){return n&&n.length>0?(Et(void 0!==e),n.map(t=>function(r,i){let a=yr(r.updateTime?r.updateTime:i);return a.isEqual(xt.min())&&(a=yr(i)),new PI(a,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=yr(e.commitTime);return this.listener.cu(r,t)}return Et(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Vi(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>ep(this.serializer,r))};this.Wo(t)}}class aL extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new Re(fe.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Io(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Re(fe.UNKNOWN,i.toString())})}vo(e,t,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.vo(e,t,r,a,l,i)).catch(a=>{throw"FirebaseError"===a.name?(a.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Re(fe.UNKNOWN,a.toString())})}terminate(){this.lu=!0}}class lL{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Or(t),this.mu=!1):De("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class uL{constructor(e,t,r,i,a){var l=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=a,this.Pu.Yr(f=>{r.enqueueAndForget((0,be.Z)(function*(){var _;ap(l)&&(De("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,be.Z)(function*(w){const T=nt(w);T.vu.add(4),yield Sy(T),T.bu.set("Unknown"),T.vu.delete(4),yield H0(T)}),function(w){return _.apply(this,arguments)})(l))}))}),this.bu=new lL(r,i)}}function H0(n){return uA.apply(this,arguments)}function uA(){return uA=(0,be.Z)(function*(n){if(ap(n))for(const e of n.Ru)yield e(!0)}),uA.apply(this,arguments)}function Sy(n){return dA.apply(this,arguments)}function dA(){return dA=(0,be.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),dA.apply(this,arguments)}function _x(n,e){const t=nt(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),pA(t)?fA(t):Ry(t).Ko()&&hA(t,e))}function $0(n,e){const t=nt(n),r=Ry(t);t.Au.delete(e),r.Ko()&&c1(t,e),0===t.Au.size&&(r.Ko()?r.jo():ap(t)&&t.bu.set("Unknown"))}function hA(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ry(n).su(e)}function c1(n,e){n.Vu.qt(e),Ry(n).iu(e)}function fA(n){n.Vu=new gy({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),Ry(n).start(),n.bu.gu()}function pA(n){return ap(n)&&!Ry(n).Uo()&&n.Au.size>0}function ap(n){return 0===nt(n).vu.size}function l1(n){n.Vu=void 0}function dL(n){return mA.apply(this,arguments)}function mA(){return mA=(0,be.Z)(function*(n){n.Au.forEach((e,t)=>{hA(n,e)})}),mA.apply(this,arguments)}function hL(n,e){return gA.apply(this,arguments)}function gA(){return gA=(0,be.Z)(function*(n,e){l1(n),pA(n)?(n.bu.Iu(e),fA(n)):n.bu.set("Unknown")}),gA.apply(this,arguments)}function fL(n,e,t){return _A.apply(this,arguments)}function _A(){return _A=(0,be.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof HI&&2===e.state&&e.cause)try{yield(r=(0,be.Z)(function*(i,a){const l=a.cause;for(const f of a.targetIds)i.Au.has(f)&&(yield i.remoteSyncer.rejectListen(f,l),i.Au.delete(f),i.Vu.removeTarget(f))}),function(i,a){return r.apply(this,arguments)})(n,e)}catch(r){De("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield yx(n,r)}else if(e instanceof E0?n.Vu.Ht(e):e instanceof jI?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(xt.min()))try{const r=yield JD(n.localStore);t.compareTo(r)>=0&&(yield function(i,a){const l=i.Vu.ce(a);return l.targetChanges.forEach((f,_)=>{if(f.resumeToken.approximateByteSize()>0){const w=i.Au.get(_);w&&i.Au.set(_,w.withResumeToken(f.resumeToken,a))}}),l.targetMismatches.forEach((f,_)=>{const w=i.Au.get(f);if(!w)return;i.Au.set(f,w.withResumeToken(Fr.EMPTY_BYTE_STRING,w.snapshotVersion)),c1(i,f);const T=new rl(w.target,f,_,w.sequenceNumber);hA(i,T)}),i.remoteSyncer.applyRemoteEvent(l)}(n,t))}catch(r){De("RemoteStore","Failed to raise snapshot:",r),yield yx(n,r)}var r}),_A.apply(this,arguments)}function yx(n,e,t){return yA.apply(this,arguments)}function yA(){return yA=(0,be.Z)(function*(n,e,t){if(!ws(e))throw e;n.vu.add(1),yield Sy(n),n.bu.set("Offline"),t||(t=()=>JD(n.localStore)),n.asyncQueue.enqueueRetryable((0,be.Z)(function*(){De("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield H0(n)}))}),yA.apply(this,arguments)}function u1(n,e){return e().catch(t=>yx(n,t,e))}function My(n){return vA.apply(this,arguments)}function vA(){return vA=(0,be.Z)(function*(n){const e=nt(n),t=cp(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;pL(e);)try{const i=yield XF(e.localStore,r);if(null===i){0===e.Eu.length&&t.jo();break}r=i.batchId,mL(e,i)}catch(i){yield yx(e,i)}d1(e)&&h1(e)}),vA.apply(this,arguments)}function pL(n){return ap(n)&&n.Eu.length<10}function mL(n,e){n.Eu.push(e);const t=cp(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function d1(n){return ap(n)&&!cp(n).Uo()&&n.Eu.length>0}function h1(n){cp(n).start()}function gL(n){return bA.apply(this,arguments)}function bA(){return bA=(0,be.Z)(function*(n){cp(n).hu()}),bA.apply(this,arguments)}function _L(n){return wA.apply(this,arguments)}function wA(){return wA=(0,be.Z)(function*(n){const e=cp(n);for(const t of n.Eu)e.uu(t.mutations)}),wA.apply(this,arguments)}function yL(n,e,t){return EA.apply(this,arguments)}function EA(){return EA=(0,be.Z)(function*(n,e,t){const r=n.Eu.shift(),i=BI.from(r,e,t);yield u1(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield My(n)}),EA.apply(this,arguments)}function vL(n,e){return IA.apply(this,arguments)}function IA(){return IA=(0,be.Z)(function*(n,e){var t;e&&cp(n).ou&&(yield(t=(0,be.Z)(function*(r,i){if(DD(a=i.code)&&a!==fe.ABORTED){const l=r.Eu.shift();cp(r).Qo(),yield u1(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,i)),yield My(r)}var a}),function(r,i){return t.apply(this,arguments)})(n,e)),d1(n)&&h1(n)}),IA.apply(this,arguments)}function f1(n,e){return xA.apply(this,arguments)}function xA(){return xA=(0,be.Z)(function*(n,e){const t=nt(n);t.asyncQueue.verifyOperationInProgress(),De("RemoteStore","RemoteStore received new credentials");const r=ap(t);t.vu.add(3),yield Sy(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield H0(t)}),xA.apply(this,arguments)}function CA(n,e){return TA.apply(this,arguments)}function TA(){return TA=(0,be.Z)(function*(n,e){const t=nt(n);e?(t.vu.delete(2),yield H0(t)):e||(t.vu.add(2),yield Sy(t),t.bu.set("Unknown"))}),TA.apply(this,arguments)}function Ry(n){return n.Su||(n.Su=function(e,t,r){const i=nt(e);return i.fu(),new oL(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:dL.bind(null,n),ao:hL.bind(null,n),nu:fL.bind(null,n)}),n.Ru.push(function(){var e=(0,be.Z)(function*(t){t?(n.Su.Qo(),pA(n)?fA(n):n.bu.set("Unknown")):(yield n.Su.stop(),l1(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function cp(n){return n.Du||(n.Du=function(e,t,r){const i=nt(e);return i.fu(),new sL(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:gL.bind(null,n),ao:vL.bind(null,n),au:_L.bind(null,n),cu:yL.bind(null,n)}),n.Ru.push(function(){var e=(0,be.Z)(function*(t){t?(n.Du.Qo(),yield My(n)):(yield n.Du.stop(),n.Eu.length>0&&(De("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class DA{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,t,r,i,a){const l=Date.now()+r,f=new DA(e,t,l,i,a);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Re(fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ky(n,e){if(Or("AsyncQueue",`${e}: ${n}`),ws(n))return new Re(fe.UNAVAILABLE,`${e}: ${n}`);throw n}class Py{constructor(e){this.comparator=e?(t,r)=>e(t,r)||et.comparator(t.key,r.key):(t,r)=>et.comparator(t.key,r.key),this.keyedMap=Jc(),this.sortedSet=new wn(this.comparator)}static emptySet(e){return new Py(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Py)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Py;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class p1{constructor(){this.Cu=new wn(et.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):dt():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Ny{constructor(e,t,r,i,a,l,f,_,w){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=f,this.excludesMetadataChanges=_,this.hasCachedResults=w}static fromInitialDocuments(e,t,r,i,a){const l=[];return t.forEach(f=>{l.push({type:0,doc:f})}),new Ny(e,t,Py.emptySet(t),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class bL{constructor(){this.Nu=void 0,this.listeners=[]}}class wL{constructor(){this.queries=new vu(e=>l0(e),sg),this.onlineState="Unknown",this.ku=new Set}}function AA(n,e){return SA.apply(this,arguments)}function SA(){return SA=(0,be.Z)(function*(n,e){const t=nt(n),r=e.query;let i=!1,a=t.queries.get(r);if(a||(i=!0,a=new bL),i)try{a.Nu=yield t.onListen(r)}catch(l){const f=ky(l,`Initialization of query '${ly(e.query)}' failed`);return void e.onError(f)}t.queries.set(r,a),a.listeners.push(e),e.Mu(t.onlineState),a.Nu&&e.$u(a.Nu)&&kA(t)}),SA.apply(this,arguments)}function MA(n,e){return RA.apply(this,arguments)}function RA(){return RA=(0,be.Z)(function*(n,e){const t=nt(n),r=e.query;let i=!1;const a=t.queries.get(r);if(a){const l=a.listeners.indexOf(e);l>=0&&(a.listeners.splice(l,1),i=0===a.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),RA.apply(this,arguments)}function EL(n,e){const t=nt(n);let r=!1;for(const i of e){const l=t.queries.get(i.query);if(l){for(const f of l.listeners)f.$u(i)&&(r=!0);l.Nu=i}}r&&kA(t)}function IL(n,e,t){const r=nt(n),i=r.queries.get(e);if(i)for(const a of i.listeners)a.onError(t);r.queries.delete(e)}function kA(n){n.ku.forEach(e=>{e.next()})}class PA{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Ny(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Ny.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class xL{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class m1{constructor(e){this.serializer=e}rr(e){return Cs(this.serializer,e)}ur(e){return e.metadata.exists?KI(this.serializer,e.document,!1):Bn.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return yr(e)}}class CL{constructor(e,t,r){this.ju=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=g1(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const r=dn.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,r=new m1(this.serializer);for(const i of e)if(i.metadata.queries){const a=r.rr(i.metadata.name);for(const l of i.metadata.queries){const f=(t.get(l)||Qt()).add(a);t.set(l,f)}}return t}complete(){var e=this;return(0,be.Z)(function*(){const t=yield function JF(n,e,t,r){return tA.apply(this,arguments)}(e.localStore,new m1(e.serializer),e.documents,e.ju.id),r=e.Wu(e.documents);for(const i of e.queries)yield eL(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function g1(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class _1{constructor(e){this.key=e}}class y1{constructor(e){this.key=e}}class v1{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Qt(),this.mutatedKeys=Qt(),this.tc=AI(e),this.ec=new Py(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new p1,i=t?t.ec:this.ec;let a=t?t.mutatedKeys:this.mutatedKeys,l=i,f=!1;const _="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,w="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((T,R)=>{const F=i.get(T),U=Wr(this.query,R)?R:null,q=!!F&&this.mutatedKeys.has(F.key),J=!!U&&(U.hasLocalMutations||this.mutatedKeys.has(U.key)&&U.hasCommittedMutations);let ce=!1;F&&U?F.data.isEqual(U.data)?q!==J&&(r.track({type:3,doc:U}),ce=!0):this.rc(F,U)||(r.track({type:2,doc:U}),ce=!0,(_&&this.tc(U,_)>0||w&&this.tc(U,w)<0)&&(f=!0)):!F&&U?(r.track({type:0,doc:U}),ce=!0):F&&!U&&(r.track({type:1,doc:F}),ce=!0,(_||w)&&(f=!0)),ce&&(U?(l=l.add(U),a=J?a.add(T):a.delete(T)):(l=l.delete(T),a=a.delete(T)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const T="F"===this.query.limitType?l.last():l.first();l=l.delete(T.key),a=a.delete(T.key),r.track({type:1,doc:T})}return{ec:l,ic:r,zi:f,mutatedKeys:a}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const a=e.ic.xu();a.sort((w,T)=>function(R,F){const U=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dt()}};return U(R)-U(F)}(w.type,T.type)||this.tc(w.doc,T.doc)),this.oc(r);const l=t?this.uc():[],f=0===this.Zu.size&&this.current?1:0,_=f!==this.Xu;return this.Xu=f,0!==a.length||_?{snapshot:new Ny(this.query,e.ec,i,a,e.mutatedKeys,0===f,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:l}:{cc:l}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new p1,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Qt(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new y1(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new _1(r))}),t}hc(e){this.Yu=e.ir,this.Zu=Qt();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Ny.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class TL{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class DL{constructor(e){this.key=e,this.fc=!1}}class AL{constructor(e,t,r,i,a,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.dc={},this.wc=new vu(f=>l0(f),sg),this._c=new Map,this.mc=new Set,this.gc=new wn(et.comparator),this.yc=new Map,this.Ic=new dx,this.Tc={},this.Ec=new Map,this.Ac=Cu.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function SL(n,e){return NA.apply(this,arguments)}function NA(){return NA=(0,be.Z)(function*(n,e){const t=rS(n);let r,i;const a=t.wc.get(e);if(a)r=a.targetId,t.sharedClientState.addLocalQueryTarget(r),i=a.view.lc();else{const l=yield Dy(t.localStore,Xi(e)),f=t.sharedClientState.addLocalQueryTarget(l.targetId);r=l.targetId,i=yield OA(t,e,r,"current"===f,l.resumeToken),t.isPrimaryClient&&_x(t.remoteStore,l)}return i}),NA.apply(this,arguments)}function OA(n,e,t,r,i){return FA.apply(this,arguments)}function FA(){return FA=(0,be.Z)(function*(n,e,t,r,i){n.Rc=(R,F,U)=>{return(q=(0,be.Z)(function*(J,ce,je,Ye){let ze=ce.view.sc(je);ze.zi&&(ze=yield hx(J.localStore,ce.query,!1).then(({documents:Ft})=>ce.view.sc(Ft,ze)));const Qe=Ye&&Ye.targetChanges.get(ce.targetId),St=ce.view.applyChanges(ze,J.isPrimaryClient,Qe);return qA(J,ce.targetId,St.cc),St.snapshot}),function(J,ce,je,Ye){return q.apply(this,arguments)})(n,R,F,U);var q};const a=yield hx(n.localStore,e,!0),l=new v1(e,a.ir),f=l.sc(a.documents),_=dg.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),w=l.applyChanges(f,n.isPrimaryClient,_);qA(n,t,w.cc);const T=new TL(e,t,l);return n.wc.set(e,T),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),w.snapshot}),FA.apply(this,arguments)}function ML(n,e){return LA.apply(this,arguments)}function LA(){return LA=(0,be.Z)(function*(n,e){const t=nt(n),r=t.wc.get(e),i=t._c.get(r.targetId);if(i.length>1)return t._c.set(r.targetId,i.filter(a=>!sg(a,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Ay(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),$0(t.remoteStore,r.targetId),Oy(t,r.targetId)}).catch(du))):(Oy(t,r.targetId),yield Ay(t.localStore,r.targetId,!0))}),LA.apply(this,arguments)}function BA(){return BA=(0,be.Z)(function*(n,e,t){const r=iS(n);try{const i=yield function(a,l){const f=nt(a),_=Xn.now(),w=l.reduce((F,U)=>F.add(U.key),Qt());let T,R;return f.persistence.runTransaction("Locally write mutations","readwrite",F=>{let U=Ji(),q=Qt();return f.Zi.getEntries(F,w).next(J=>{U=J,U.forEach((ce,je)=>{je.isValidDocument()||(q=q.add(ce))})}).next(()=>f.localDocuments.getOverlayedDocuments(F,U)).next(J=>{T=J;const ce=[];for(const je of l){const Ye=NI(je,T.get(je.key).overlayedDocument);null!=Ye&&ce.push(new Ka(je.key,Ye,o0(Ye.value.mapValue),Gn.exists(!0)))}return f.mutationQueue.addMutationBatch(F,_,ce,l)}).next(J=>{R=J;const ce=J.applyToLocalDocumentSet(T,q);return f.documentOverlayCache.saveOverlays(F,J.batchId,ce)})}).then(()=>({batchId:R.batchId,changes:SI(T)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,l,f){let _=a.Tc[a.currentUser.toKey()];_||(_=new wn(Ut)),_=_.insert(l,f),a.Tc[a.currentUser.toKey()]=_}(r,i.batchId,t),yield eh(r,i.changes),yield My(r.remoteStore)}catch(i){const a=ky(i,"Failed to persist write");t.reject(a)}}),BA.apply(this,arguments)}function b1(n,e){return VA.apply(this,arguments)}function VA(){return VA=(0,be.Z)(function*(n,e){const t=nt(n);try{const r=yield function QF(n,e){const t=nt(n),r=e.snapshotVersion;let i=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=t.Zi.newChangeBuffer({trackRemovals:!0});i=t.Ji;const f=[];e.targetChanges.forEach((T,R)=>{const F=i.get(R);if(!F)return;f.push(t.Bs.removeMatchingKeys(a,T.removedDocuments,R).next(()=>t.Bs.addMatchingKeys(a,T.addedDocuments,R)));let U=F.withSequenceNumber(a.currentSequenceNumber);var q,J,ce;null!==e.targetMismatches.get(R)?U=U.withResumeToken(Fr.EMPTY_BYTE_STRING,xt.min()).withLastLimboFreeSnapshotVersion(xt.min()):T.resumeToken.approximateByteSize()>0&&(U=U.withResumeToken(T.resumeToken,r)),i=i.insert(R,U),J=U,ce=T,(0===(q=F).resumeToken.approximateByteSize()||J.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=3e8||ce.addedDocuments.size+ce.modifiedDocuments.size+ce.removedDocuments.size>0)&&f.push(t.Bs.updateTargetData(a,U))});let _=Ji(),w=Qt();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,T))}),f.push(QR(a,l,e.documentUpdates).next(T=>{_=T.nr,w=T.sr})),!r.isEqual(xt.min())){const T=t.Bs.getLastRemoteSnapshotVersion(a).next(R=>t.Bs.setTargetsMetadata(a,a.currentSequenceNumber,r));f.push(T)}return oe.waitFor(f).next(()=>l.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,_,w)).next(()=>_)}).then(a=>(t.Ji=i,a))}(t.localStore,e);e.targetChanges.forEach((i,a)=>{const l=t.yc.get(a);l&&(Et(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.fc=!0:i.modifiedDocuments.size>0?Et(l.fc):i.removedDocuments.size>0&&(Et(l.fc),l.fc=!1))}),yield eh(t,r,e)}catch(r){yield du(r)}}),VA.apply(this,arguments)}function w1(n,e,t){const r=nt(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.wc.forEach((a,l)=>{const f=l.view.Mu(e);f.snapshot&&i.push(f.snapshot)}),function(a,l){const f=nt(a);f.onlineState=l;let _=!1;f.queries.forEach((w,T)=>{for(const R of T.listeners)R.Mu(l)&&(_=!0)}),_&&kA(f)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function kL(n,e,t){return UA.apply(this,arguments)}function UA(){return UA=(0,be.Z)(function*(n,e,t){const r=nt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.yc.get(e),a=i&&i.key;if(a){let l=new wn(et.comparator);l=l.insert(a,Bn.newNoDocument(a,xt.min()));const f=Qt().add(a),_=new Jf(xt.min(),new Map,new wn(Ut),l,f);yield b1(r,_),r.gc=r.gc.remove(a),r.yc.delete(e),WA(r)}else yield Ay(r.localStore,e,!1).then(()=>Oy(r,e,t)).catch(du)}),UA.apply(this,arguments)}function PL(n,e){return jA.apply(this,arguments)}function jA(){return jA=(0,be.Z)(function*(n,e){const t=nt(n),r=e.batch.batchId;try{const i=yield function Dr(n,e){const t=nt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.Zi.newChangeBuffer({trackRemovals:!0});return function(l,f,_,w){const T=_.batch,R=T.keys();let F=oe.resolve();return R.forEach(U=>{F=F.next(()=>w.getEntry(f,U)).next(q=>{const J=_.docVersions.get(U);Et(null!==J),q.version.compareTo(J)<0&&(T.applyToRemoteDocument(q,_),q.isValidDocument()&&(q.setReadTime(_.commitVersion),w.addEntry(q)))})}),F.next(()=>l.mutationQueue.removeMutationBatch(f,T))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let f=Qt();for(let _=0;_<l.mutationResults.length;++_)l.mutationResults[_].transformResults.length>0&&(f=f.add(l.batch.mutations[_].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);GA(t,r,null),zA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield eh(t,i)}catch(i){yield du(i)}}),jA.apply(this,arguments)}function NL(n,e,t){return HA.apply(this,arguments)}function HA(){return HA=(0,be.Z)(function*(n,e,t){const r=nt(n);try{const i=yield function(a,l){const f=nt(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let w;return f.mutationQueue.lookupMutationBatch(_,l).next(T=>(Et(null!==T),w=T.keys(),f.mutationQueue.removeMutationBatch(_,T))).next(()=>f.mutationQueue.performConsistencyCheck(_)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(_,w,l)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,w)).next(()=>f.localDocuments.getDocuments(_,w))})}(r.localStore,e);GA(r,e,t),zA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield eh(r,i)}catch(i){yield du(i)}}),HA.apply(this,arguments)}function $A(){return $A=(0,be.Z)(function*(n,e){const t=nt(n);ap(t.remoteStore)||De("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(a){const l=nt(a);return l.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>l.mutationQueue.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===r)return void e.resolve();const i=t.Ec.get(r)||[];i.push(e),t.Ec.set(r,i)}catch(r){const i=ky(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),$A.apply(this,arguments)}function zA(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function GA(n,e,t){const r=nt(n);let i=r.Tc[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function Oy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||E1(n,r)})}function E1(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&($0(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),WA(n))}function qA(n,e,t){for(const r of t)r instanceof _1?(n.Ic.addReference(r.key,e),FL(n,r)):r instanceof y1?(De("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||E1(n,r.key)):dt()}function FL(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(De("SyncEngine","New document in limbo: "+t),n.mc.add(r),WA(n))}function WA(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new et(dn.fromString(e)),r=n.Ac.next();n.yc.set(r,new DL(t)),n.gc=n.gc.insert(t,r),_x(n.remoteStore,new rl(Xi(Hd(t.path)),r,"TargetPurposeLimboResolution",Go.ct))}}function eh(n,e,t){return ZA.apply(this,arguments)}function ZA(){return ZA=(0,be.Z)(function*(n,e,t){const r=nt(n),i=[],a=[],l=[];var f;r.wc.isEmpty()||(r.wc.forEach((f,_)=>{l.push(r.Rc(_,e,t).then(w=>{if((w||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(_.targetId,w?.fromCache?"not-current":"current"),w){i.push(w);const T=tt.Li(_.targetId,w);a.push(T)}}))}),yield Promise.all(l),r.dc.nu(i),yield(f=(0,be.Z)(function*(_,w){const T=nt(_);try{yield T.persistence.runTransaction("notifyLocalViewChanges","readwrite",R=>oe.forEach(w,F=>oe.forEach(F.Fi,U=>T.persistence.referenceDelegate.addReference(R,F.targetId,U)).next(()=>oe.forEach(F.Bi,U=>T.persistence.referenceDelegate.removeReference(R,F.targetId,U)))))}catch(R){if(!ws(R))throw R;De("LocalStore","Failed to update sequence numbers: "+R)}for(const R of w){const F=R.targetId;if(!R.fromCache){const U=T.Ji.get(F),J=U.withLastLimboFreeSnapshotVersion(U.snapshotVersion);T.Ji=T.Ji.insert(F,J)}}}),function(_,w){return f.apply(this,arguments)})(r.localStore,a))}),ZA.apply(this,arguments)}function LL(n,e){return KA.apply(this,arguments)}function KA(){return KA=(0,be.Z)(function*(n,e){const t=nt(n);if(!t.currentUser.isEqual(e)){De("SyncEngine","User change. New user:",e.toKey());const r=yield qt(t.localStore,e);t.currentUser=e,(i=t).Ec.forEach(l=>{l.forEach(f=>{f.reject(new Re(fe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield eh(t,r.er)}var i}),KA.apply(this,arguments)}function BL(n,e){const t=nt(n),r=t.yc.get(e);if(r&&r.fc)return Qt().add(r.key);{let i=Qt();const a=t._c.get(e);if(!a)return i;for(const l of a){const f=t.wc.get(l);i=i.unionWith(f.view.nc)}return i}}function VL(n,e){return YA.apply(this,arguments)}function YA(){return YA=(0,be.Z)(function*(n,e){const t=nt(n),r=yield hx(t.localStore,e.query,!0),i=e.view.hc(r);return t.isPrimaryClient&&qA(t,e.targetId,i.cc),i}),YA.apply(this,arguments)}function UL(n,e){return QA.apply(this,arguments)}function QA(){return QA=(0,be.Z)(function*(n,e){const t=nt(n);return JR(t.localStore,e).then(r=>eh(t,r))}),QA.apply(this,arguments)}function jL(n,e,t,r){return XA.apply(this,arguments)}function XA(){return XA=(0,be.Z)(function*(n,e,t,r){const i=nt(n),a=yield function(l,f){const _=nt(l),w=nt(_.mutationQueue);return _.persistence.runTransaction("Lookup mutation documents","readonly",T=>w.Sn(T,f).next(R=>R?_.localDocuments.getDocuments(T,R):oe.resolve(null)))}(i.localStore,e);var f;null!==a?("pending"===t?yield My(i.remoteStore):"acknowledged"===t||"rejected"===t?(GA(i,e,r||null),zA(i,e),f=e,nt(nt(i.localStore).mutationQueue).Cn(f)):dt(),yield eh(i,a)):De("SyncEngine","Cannot apply mutation batch with id: "+e)}),XA.apply(this,arguments)}function JA(){return JA=(0,be.Z)(function*(n,e){const t=nt(n);if(rS(t),iS(t),!0===e&&!0!==t.vc){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield I1(t,r.toArray());t.vc=!0,yield CA(t.remoteStore,!0);for(const a of i)_x(t.remoteStore,a)}else if(!1===e&&!1!==t.vc){const r=[];let i=Promise.resolve();t._c.forEach((a,l)=>{t.sharedClientState.isLocalQueryTarget(l)?r.push(l):i=i.then(()=>(Oy(t,l),Ay(t.localStore,l,!0))),$0(t.remoteStore,l)}),yield i,yield I1(t,r),function(a){const l=nt(a);l.yc.forEach((f,_)=>{$0(l.remoteStore,_)}),l.Ic.Ts(),l.yc=new Map,l.gc=new wn(et.comparator)}(t),t.vc=!1,yield CA(t.remoteStore,!1)}}),JA.apply(this,arguments)}function I1(n,e,t){return eS.apply(this,arguments)}function eS(){return eS=(0,be.Z)(function*(n,e,t){const r=nt(n),i=[],a=[];for(const l of e){let f;const _=r._c.get(l);if(_&&0!==_.length){f=yield Dy(r.localStore,Xi(_[0]));for(const w of _){const T=r.wc.get(w),R=yield VL(r,T);R.snapshot&&a.push(R.snapshot)}}else{const w=yield XR(r.localStore,l);f=yield Dy(r.localStore,w),yield OA(r,x1(w),l,!1,f.resumeToken)}i.push(f)}return r.dc.nu(a),i}),eS.apply(this,arguments)}function x1(n){return DI(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function $L(n){const e=nt(n);return nt(nt(e.localStore).persistence).$i()}function zL(n,e,t,r){return tS.apply(this,arguments)}function tS(){return tS=(0,be.Z)(function*(n,e,t,r){const i=nt(n);if(i.vc)return void De("SyncEngine","Ignoring unexpected query state notification.");const a=i._c.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const l=yield JR(i.localStore,$d(a[0])),f=Jf.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Fr.EMPTY_BYTE_STRING);yield eh(i,l,f);break}case"rejected":yield Ay(i.localStore,e,!0),Oy(i,e,r);break;default:dt()}}),tS.apply(this,arguments)}function GL(n,e,t){return nS.apply(this,arguments)}function nS(){return nS=(0,be.Z)(function*(n,e,t){const r=rS(n);if(r.vc){for(const i of e){if(r._c.has(i)){De("SyncEngine","Adding an already active target "+i);continue}const a=yield XR(r.localStore,i),l=yield Dy(r.localStore,a);yield OA(r,x1(a),l.targetId,!1,l.resumeToken),_x(r.remoteStore,l)}for(const i of t)r._c.has(i)&&(yield Ay(r.localStore,i,!1).then(()=>{$0(r.remoteStore,i),Oy(r,i)}).catch(du))}}),nS.apply(this,arguments)}function rS(n){const e=nt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=b1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=BL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kL.bind(null,e),e.dc.nu=EL.bind(null,e.eventManager),e.dc.Pc=IL.bind(null,e.eventManager),e}function iS(n){const e=nt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=PL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=NL.bind(null,e),e}class z0{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,be.Z)(function*(){t.serializer=j0(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Ne(this.persistence,new _t,e.initialUser,this.serializer)}createPersistence(e){return new g(I.zs,this.serializer)}createSharedClientState(e){return new r1}terminate(){var e=this;return(0,be.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class oS extends z0{constructor(e,t,r){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,be.Z)(function*(){yield t().call(r,e),yield r.Vc.initialize(r,e),yield iS(r.Vc.syncEngine),yield My(r.Vc.remoteStore),yield r.persistence.Ii(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return Ne(this.persistence,new _t,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new Cy(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new aI(t,this.persistence);return new JT(e.asyncQueue,r)}createPersistence(e){const t=He(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?eo.withCacheSize(this.cacheSizeBytes):eo.DEFAULT;return new W(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,s1(),gx(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new r1}}class C1 extends oS{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,be.Z)(function*(){yield t().call(r,e);const i=r.Vc.syncEngine;r.sharedClientState instanceof sA&&(r.sharedClientState.syncEngine={jr:jL.bind(null,i),zr:zL.bind(null,i),Wr:GL.bind(null,i),$i:$L.bind(null,i),Qr:UL.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.Ii(function(){var a=(0,be.Z)(function*(l){yield function HL(n,e){return JA.apply(this,arguments)}(r.Vc.syncEngine,l),r.gcScheduler&&(l&&!r.gcScheduler.started?r.gcScheduler.start():l||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(l&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():l||r.indexBackfillerScheduler.stop())});return function(l){return a.apply(this,arguments)}}())})()}createSharedClientState(e){const t=s1();if(!sA.D(t))throw new Re(fe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=He(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new sA(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class Fy{initialize(e,t){var r=this;return(0,be.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>w1(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=LL.bind(null,r.syncEngine),yield CA(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new wL}createDatastore(e){const t=j0(e.databaseInfo.databaseId),r=new iL(e.databaseInfo);return new aL(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,a=f=>w1(this.syncEngine,f,0),l=o1.D()?new o1:new tL,new uL(t,r,i,a,l);var t,r,i,a,l}createSyncEngine(e,t){return function(r,i,a,l,f,_,w){const T=new AL(r,i,a,l,f,_);return w&&(T.vc=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,be.Z)(function*(t){const r=nt(t);De("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield Sy(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function T1(n,e=10240){let t=0;return{read:()=>(0,be.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,be.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class vx{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Or("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class ZL{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new qr,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(r=>{r&&r.Qu()?this.metadata.resolve(r.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Gu)}`))},r=>this.metadata.reject(r))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,be.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,be.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,be.Z)(function*(){const t=yield e.kc();if(null===t)return null;const r=e.xc.decode(t),i=Number(r);isNaN(i)&&e.Mc(`length string (${r}) is not valid number`);const a=yield e.$c(i);return new xL(JSON.parse(a),t.length+i)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,be.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}$c(e){var t=this;return(0,be.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const r=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,be.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class KL{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,be.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Re(fe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,be.Z)(function*(a,l){const f=nt(a),_=Vi(f.serializer)+"/documents",w={documents:l.map(U=>fg(f.serializer,U))},T=yield f.vo("BatchGetDocuments",_,w,l.length),R=new Map;T.forEach(U=>{const q=function PD(n,e){return"found"in e?function(t,r){Et(!!r.found);const i=Cs(t,r.found.name),a=yr(r.found.updateTime),l=r.found.createTime?yr(r.found.createTime):xt.min(),f=new li({mapValue:{fields:r.found.fields}});return Bn.newFoundDocument(i,a,l,f)}(n,e):"missing"in e?function(t,r){Et(!!r.missing),Et(!!r.readTime);const i=Cs(t,r.missing),a=yr(r.readTime);return Bn.newNoDocument(i,a)}(n,e):dt()}(f.serializer,U);R.set(q.key.toString(),q)});const F=[];return l.forEach(U=>{const q=R.get(U.toString());Et(!!q),F.push(q)}),F}),function(a,l){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Qf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,be.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const a=et.fromPath(i);e.mutations.push(new LI(a,e.precondition(a)))}),yield(r=(0,be.Z)(function*(i,a){const l=nt(i),f=Vi(l.serializer)+"/documents",_={writes:a.map(w=>ep(l.serializer,w))};yield l.Io("Commit",f,_)}),function(i,a){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw dt();t=xt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Re(fe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(xt.min())?Gn.exists(!1):Gn.updateTime(t):Gn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(xt.min()))throw new Re(fe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Gn.updateTime(t)}return Gn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class YL{constructor(e,t,r,i,a){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=a,this.Bc=r.maxAttempts,this.qo=new cA(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,be.Z)(function*(){const t=new KL(e.datastore),r=e.qc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(a=>{e.Uc(a)}))}).catch(i=>{e.Uc(i)})}))}qc(e){try{const t=this.updateFunction(e);return!Ud(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!DD(t)}return!1}}class QL{constructor(e,t,r,i){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=ai.UNAUTHENTICATED,this.clientId=Bf.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var l=(0,be.Z)(function*(f){De("FirestoreClient","Received user=",f.uid),yield a.authCredentialListener(f),a.user=f});return function(f){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(r,l=>(De("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var e=this;return(0,be.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Re(fe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=ky(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function bx(n,e){return sS.apply(this,arguments)}function sS(){return sS=(0,be.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),De("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,be.Z)(function*(a){r.isEqual(a)||(yield qt(e.localStore,a),r=a)});return function(a){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),sS.apply(this,arguments)}function aS(n,e){return cS.apply(this,arguments)}function cS(){return cS=(0,be.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield lS(n);De("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>f1(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>f1(e.remoteStore,a)),n._onlineComponents=e}),cS.apply(this,arguments)}function D1(n){return"FirebaseError"===n.name?n.code===fe.FAILED_PRECONDITION||n.code===fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function lS(n){return uS.apply(this,arguments)}function uS(){return uS=(0,be.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){De("FirestoreClient","Using user provided OfflineComponentProvider");try{yield bx(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!D1(t))throw t;zo("Error using user provided cache. Falling back to memory cache: "+t),yield bx(n,new z0)}}else De("FirestoreClient","Using default OfflineComponentProvider"),yield bx(n,new z0);return n._offlineComponents}),uS.apply(this,arguments)}function wx(n){return dS.apply(this,arguments)}function dS(){return dS=(0,be.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(De("FirestoreClient","Using user provided OnlineComponentProvider"),yield aS(n,n._uninitializedComponentsProvider._online)):(De("FirestoreClient","Using default OnlineComponentProvider"),yield aS(n,new Fy))),n._onlineComponents}),dS.apply(this,arguments)}function A1(n){return lS(n).then(e=>e.persistence)}function Ex(n){return lS(n).then(e=>e.localStore)}function S1(n){return wx(n).then(e=>e.remoteStore)}function hS(n){return wx(n).then(e=>e.syncEngine)}function Ly(n){return fS.apply(this,arguments)}function fS(){return fS=(0,be.Z)(function*(n){const e=yield wx(n),t=e.eventManager;return t.onListen=SL.bind(null,e.syncEngine),t.onUnlisten=ML.bind(null,e.syncEngine),t}),fS.apply(this,arguments)}function R1(n,e,t={}){const r=new qr;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(i,a,l,f,_){const w=new vx({next:R=>{a.enqueueAndForget(()=>MA(i,T));const F=R.docs.has(l);!F&&R.fromCache?_.reject(new Re(fe.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&R.fromCache&&f&&"server"===f.source?_.reject(new Re(fe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(R)},error:R=>_.reject(R)}),T=new PA(Hd(l.path),w,{includeMetadataChanges:!0,Ku:!0});return AA(i,T)}(yield Ly(n),n.asyncQueue,e,t,r)})),r.promise}function k1(n,e,t={}){const r=new qr;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(i,a,l,f,_){const w=new vx({next:R=>{a.enqueueAndForget(()=>MA(i,T)),R.fromCache&&"server"===f.source?_.reject(new Re(fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(R)},error:R=>_.reject(R)}),T=new PA(l,w,{includeMetadataChanges:!0,Ku:!0});return AA(i,T)}(yield Ly(n),n.asyncQueue,e,t,r)})),r.promise}function P1(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const N1=new Map;function pS(n,e,t){if(!t)throw new Re(fe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function O1(n,e,t,r){if(!0===e&&!0===r)throw new Re(fe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function F1(n){if(!et.isDocumentKey(n))throw new Re(fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function L1(n){if(et.isDocumentKey(n))throw new Re(fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Ix(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":dt()}function hn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Re(fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ix(n);throw new Re(fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function B1(n,e){if(e<=0)throw new Re(fe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class V1{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new Re(fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Re(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}O1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=P1(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new Re(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Re(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Re(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class G0{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new V1({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Re(fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Re(fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new V1(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Gm;switch(t.type){case"firstParty":return new G_(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Re(fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=N1.get(e);t&&(De("ComponentProvider","Removing Datastore"),N1.delete(e),t.terminate())}(this),Promise.resolve()}}class lr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Tu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new lr(this.firestore,e,this._key)}}class to{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new to(this.firestore,e,this._query)}}class Tu extends to{constructor(e,t,r){super(e,t,Hd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new lr(this.firestore,null,new et(e))}withConverter(e){return new Tu(this.firestore,e,this._path)}}function j1(n,e,...t){if(n=(0,Yt.m9)(n),pS("collection","path",e),n instanceof G0){const r=dn.fromString(e,...t);return L1(r),new Tu(n,null,r)}{if(!(n instanceof lr||n instanceof Tu))throw new Re(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(dn.fromString(e,...t));return L1(r),new Tu(n.firestore,null,r)}}function xx(n,e,...t){if(n=(0,Yt.m9)(n),1===arguments.length&&(e=Bf.A()),pS("doc","path",e),n instanceof G0){const r=dn.fromString(e,...t);return F1(r),new lr(n,null,new et(r))}{if(!(n instanceof lr||n instanceof Tu))throw new Re(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(dn.fromString(e,...t));return F1(r),new lr(n.firestore,n instanceof Tu?n.converter:null,new et(r))}}function H1(n,e){return n=(0,Yt.m9)(n),e=(0,Yt.m9)(e),(n instanceof lr||n instanceof Tu)&&(e instanceof lr||e instanceof Tu)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function mS(n,e){return n=(0,Yt.m9)(n),e=(0,Yt.m9)(e),n instanceof to&&e instanceof to&&n.firestore===e.firestore&&sg(n._query,e._query)&&n.converter===e.converter}class c2{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new cA(this,"async_queue_retry"),this.Xc=()=>{const t=gx();t&&De("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=gx();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=gx();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new qr;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,be.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!ws(t))throw t;De("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,Or("INTERNAL UNHANDLED ERROR: ",function(a){let l=a.message||"";return a.stack&&(l=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),l}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const i=DA.createAndSchedule(this,e,t,r,a=>this.na(a));return this.zc.push(i),i}Zc(){this.Wc&&dt()}verifyOperationInProgress(){}sa(){var e=this;return(0,be.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function gS(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class l2{constructor(){this._progressObserver={},this._taskCompletionResolver=new qr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class ur extends G0{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new c2,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||$1(this),this._firestoreClient.terminate()}}function Kr(n){return n._firestoreClient||$1(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function $1(n){var e,t,r;const i=n._freezeSettings(),a=(f=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new pD(n._databaseId,f,n._persistenceKey,(w=i).host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,P1(w.experimentalLongPollingOptions),w.useFetchStreams));var f,w;n._firestoreClient=new QL(n._authCredentials,n._appCheckCredentials,n._queue,a),null!==(t=i.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function z1(n,e,t){const r=new qr;return n.asyncQueue.enqueue((0,be.Z)(function*(){try{yield bx(n,t),yield aS(n,e),r.resolve()}catch(i){const a=i;if(!D1(a))throw a;zo("Error enabling indexeddb cache. Falling back to memory cache: "+a),r.reject(a)}})).then(()=>r.promise)}function G1(n){if(n._initialized||n._terminated)throw new Re(fe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Du{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Du(Fr.fromBase64String(e))}catch(t){throw new Re(fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Du(Fr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class th{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Re(fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ar(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class bg{constructor(e){this._methodName=e}}class Cx{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Re(fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Re(fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ut(this._lat,e._lat)||Ut(this._long,e._long)}}const b2=/^__.*__$/;class w2{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Ka(e,this.data,this.fieldMask,t,this.fieldTransforms):new Gd(e,this.data,t,this.fieldTransforms)}}class q1{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ka(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function W1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dt()}}class Tx{constructor(e,t,r,i,a,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ua(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Tx(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Sx(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(W1(this.ca)&&b2.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class E2{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||j0(e)}ya(e,t,r,i=!1){return new Tx({ca:e,methodName:t,ga:r,path:ar.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wg(n){const e=n._freezeSettings(),t=j0(n._databaseId);return new E2(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Dx(n,e,t,r,i,a={}){const l=n.ya(a.merge||a.mergeFields?2:0,e,t,i);bS("Data must be an object, but it was:",l,r);const f=Y1(r,l);let _,w;if(a.merge)_=new bo(l.fieldMask),w=l.fieldTransforms;else if(a.mergeFields){const T=[];for(const R of a.mergeFields){const F=Z0(e,R,t);if(!l.contains(F))throw new Re(fe.INVALID_ARGUMENT,`Field '${F}' is specified in your field mask but missing from your input data.`);X1(T,F)||T.push(F)}_=new bo(T),w=l.fieldTransforms.filter(R=>_.covers(R.field))}else _=null,w=l.fieldTransforms;return new w2(new li(f),_,w)}class W0 extends bg{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof W0}}function Z1(n,e,t){return new Tx({ca:3,ga:e.settings.ga,methodName:n._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class _S extends bg{_toFieldTransform(e){return new cg(e.path,new ha)}isEqual(e){return e instanceof _S}}class I2 extends bg{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=Z1(this,e,!0),r=this.pa.map(a=>Eg(a,t)),i=new zd(r);return new cg(e.path,i)}isEqual(e){return this===e}}class x2 extends bg{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=Z1(this,e,!0),r=this.pa.map(a=>Eg(a,t)),i=new el(r);return new cg(e.path,i)}isEqual(e){return this===e}}class C2 extends bg{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new Yf(e.serializer,hy(e.serializer,this.Ia));return new cg(e.path,t)}isEqual(e){return this===e}}function yS(n,e,t,r){const i=n.ya(1,e,t);bS("Data must be an object, but it was:",i,r);const a=[],l=li.empty();fu(r,(_,w)=>{const T=Ax(e,_,t);w=(0,Yt.m9)(w);const R=i.da(T);if(w instanceof W0)a.push(T);else{const F=Eg(w,R);null!=F&&(a.push(T),l.set(T,F))}});const f=new bo(a);return new q1(l,f,i.fieldTransforms)}function vS(n,e,t,r,i,a){const l=n.ya(1,e,t),f=[Z0(e,r,t)],_=[i];if(a.length%2!=0)throw new Re(fe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let F=0;F<a.length;F+=2)f.push(Z0(e,a[F])),_.push(a[F+1]);const w=[],T=li.empty();for(let F=f.length-1;F>=0;--F)if(!X1(w,f[F])){const U=f[F];let q=_[F];q=(0,Yt.m9)(q);const J=l.da(U);if(q instanceof W0)w.push(U);else{const ce=Eg(q,J);null!=ce&&(w.push(U),T.set(U,ce))}}const R=new bo(w);return new q1(T,R,l.fieldTransforms)}function K1(n,e,t,r=!1){return Eg(t,n.ya(r?4:3,e))}function Eg(n,e){if(Q1(n=(0,Yt.m9)(n)))return bS("Unsupported field value:",e,n),Y1(n,e);if(n instanceof bg)return function(t,r){if(!W1(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const i=[];let a=0;for(const l of t){let f=Eg(l,r.wa(a));null==f&&(f={nullValue:"NULL_VALUE"}),i.push(f),a++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,Yt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return hy(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Xn.fromDate(t);return{timestampValue:hg(r.serializer,i)}}if(t instanceof Xn){const i=new Xn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:hg(r.serializer,i)}}if(t instanceof Cx)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Du)return{bytesValue:GI(r.serializer,t._byteString)};if(t instanceof lr){const i=r.databaseId,a=t.firestore._databaseId;if(!a.isEqual(i))throw r._a(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:WI(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${Ix(t)}`)}(n,e)}function Y1(n,e){const t={};return Yb(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fu(n,(r,i)=>{const a=Eg(i,e.ha(r));null!=a&&(t[r]=a)}),{mapValue:{fields:t}}}function Q1(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Xn||n instanceof Cx||n instanceof Du||n instanceof lr||n instanceof bg)}function bS(n,e,t){if(!Q1(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Ix(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function Z0(n,e,t){if((e=(0,Yt.m9)(e))instanceof th)return e._internalPath;if("string"==typeof e)return Ax(n,e);throw Sx("Field path arguments must be of type string or ",n,!1,void 0,t)}const T2=new RegExp("[~\\*/\\[\\]]");function Ax(n,e,t){if(e.search(T2)>=0)throw Sx(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new th(...e.split("."))._internalPath}catch{throw Sx(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Sx(n,e,t,r,i){const a=r&&!r.isEmpty(),l=void 0!==i;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let _="";return(a||l)&&(_+=" (found",a&&(_+=` in field ${r}`),l&&(_+=` in document ${i}`),_+=")"),new Re(fe.INVALID_ARGUMENT,f+n+_)}function X1(n,e){return n.some(t=>t.isEqual(e))}class K0{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new lr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new D2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Mx("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class D2 extends K0{data(){return super.data()}}function Mx(n,e){return"string"==typeof e?Ax(n,e):e instanceof th?e._internalPath:e._delegate._internalPath}function J1(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Re(fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class wS{}class Y0 extends wS{}function lp(n,e,...t){let r=[];e instanceof wS&&r.push(e),r=r.concat(t),function(i){const a=i.filter(f=>f instanceof By).length,l=i.filter(f=>f instanceof Q0).length;if(a>1||a>0&&l>0)throw new Re(fe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class Q0 extends Y0{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Q0(e,t,r)}_apply(e){const t=this._parse(e);return rk(e._query,t),new to(e.firestore,e.converter,cy(e._query,t))}_parse(e){const t=wg(e.firestore);return function(i,a,l,f,_,w,T){let R;if(_.isKeyField()){if("array-contains"===w||"array-contains-any"===w)throw new Re(fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if("in"===w||"not-in"===w){nk(T,w);const F=[];for(const U of T)F.push(tk(f,i,U));R={arrayValue:{values:F}}}else R=tk(f,i,T)}else"in"!==w&&"not-in"!==w&&"array-contains-any"!==w||nk(T,w),R=K1(l,"where",T,"in"===w||"not-in"===w);return cn.create(_,w,R)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class By extends wS{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new By(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:mn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let a=r;const l=i.getFlattenedFilters();for(const f of l)rk(a,f),a=cy(a,f)}(e._query,t),new to(e.firestore,e.converter,cy(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class ES extends Y0{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new ES(e,t)}_apply(e){const t=function(r,i,a){if(null!==r.startAt)throw new Re(fe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Re(fe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const l=new $f(i,a);return function(f,_){if(null===sy(f)){const w=ig(f);null!==w&&ik(0,w,_.field)}}(r,l),l}(e._query,this._field,this._direction);return new to(e.firestore,e.converter,function(r,i){const a=r.explicitOrderBy.concat([i]);return new Xc(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class Rx extends Y0{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new Rx(e,t,r)}_apply(e){return new to(e.firestore,e.converter,og(e._query,this._limit,this._limitType))}}class kx extends Y0{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new kx(e,t,r)}_apply(e){const t=ek(e,this.type,this._docOrFields,this._inclusive);return new to(e.firestore,e.converter,(i=t,new Xc((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class Px extends Y0{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Px(e,t,r)}_apply(e){const t=ek(e,this.type,this._docOrFields,this._inclusive);return new to(e.firestore,e.converter,(i=t,new Xc((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function ek(n,e,t,r){if(t[0]=(0,Yt.m9)(t[0]),t[0]instanceof K0)return function(i,a,l,f,_){if(!f)throw new Re(fe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const w=[];for(const T of yu(i))if(T.field.isKeyField())w.push(gu(a,f.key));else{const R=f.data.field(T.field);if(Km(R))throw new Re(fe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+T.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===R){const F=T.field.canonicalString();throw new Re(fe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${F}' (used as the orderBy) does not exist.`)}w.push(R)}return new _u(w,_)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=wg(n.firestore);return function(a,l,f,_,w,T){const R=a.explicitOrderBy;if(w.length>R.length)throw new Re(fe.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const F=[];for(let U=0;U<w.length;U++){const q=w[U];if(R[U].field.isKeyField()){if("string"!=typeof q)throw new Re(fe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof q}`);if(!ay(a)&&-1!==q.indexOf("/"))throw new Re(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${q}' contains a slash.`);const J=a.path.child(dn.fromString(q));if(!et.isDocumentKey(J))throw new Re(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${J}' is not because it contains an odd number of segments.`);const ce=new et(J);F.push(gu(l,ce))}else{const J=K1(f,_,q);F.push(J)}}return new _u(F,T)}(n._query,n.firestore._databaseId,i,e,t,r)}}function tk(n,e,t){if("string"==typeof(t=(0,Yt.m9)(t))){if(""===t)throw new Re(fe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ay(e)&&-1!==t.indexOf("/"))throw new Re(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(dn.fromString(t));if(!et.isDocumentKey(r))throw new Re(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return gu(n,new et(r))}if(t instanceof lr)return gu(n,t._key);throw new Re(fe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ix(t)}.`)}function nk(n,e){if(!Array.isArray(n)||0===n.length)throw new Re(fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function rk(n,e){if(e.isInequality()){const r=ig(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new Re(fe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const a=sy(n);null!==a&&ik(0,i,a)}const t=function(r,i){for(const a of r)for(const l of a.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Re(fe.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function ik(n,e,t){if(!t.isEqual(e))throw new Re(fe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class IS{convertValue(e,t="none"){switch(Yc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return cr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Wa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw dt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return fu(e,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertGeoPoint(e){return new Cx(cr(e.latitude),cr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=ey(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Ym(e));default:return null}}convertTimestamp(e){const t=Zc(e);return new Xn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=dn.fromString(e);Et(FD(r));const i=new mu(r.get(1),r.get(3)),a=new et(r.popFirst(5));return i.isEqual(t)||Or(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function Nx(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class F2 extends IS{constructor(e){super(),this.firestore=e}convertBytes(e){return new Du(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new lr(this.firestore,null,t)}}class Ig{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class nh extends K0{constructor(e,t,r,i,a,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new X0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Mx("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class X0 extends nh{data(e={}){return super.data(e)}}class up{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Ig(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new X0(this._firestore,this._userDataWriter,r.key,r,new Ig(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Re(fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(l=>({type:"added",doc:new X0(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Ig(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:a++}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>i||3!==l.type).map(l=>{const f=new X0(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Ig(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let _=-1,w=-1;return 0!==l.type&&(_=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),1!==l.type&&(a=a.add(l.doc),w=a.indexOf(l.doc.key)),{type:B2(l.type),doc:f,oldIndex:_,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function B2(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dt()}}function sk(n,e){return n instanceof nh&&e instanceof nh?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof up&&e instanceof up&&n._firestore===e._firestore&&mS(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class dp extends IS{constructor(e){super(),this.firestore=e}convertBytes(e){return new Du(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new lr(this.firestore,null,t)}}function ak(n,e,t){n=hn(n,lr);const r=hn(n.firestore,ur),i=Nx(n.converter,e,t);return Vy(r,[Dx(wg(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Gn.none())])}function ck(n,e,t,...r){n=hn(n,lr);const i=hn(n.firestore,ur),a=wg(i);let l;return l="string"==typeof(e=(0,Yt.m9)(e))||e instanceof th?vS(a,"updateDoc",n._key,e,t,r):yS(a,"updateDoc",n._key,e),Vy(i,[l.toMutation(n._key,Gn.exists(!0))])}function lk(n,...e){var t,r,i;n=(0,Yt.m9)(n);let a={includeMetadataChanges:!1},l=0;"object"!=typeof e[l]||gS(e[l])||(a=e[l],l++);const f={includeMetadataChanges:a.includeMetadataChanges};if(gS(e[l])){const R=e[l];e[l]=null===(t=R.next)||void 0===t?void 0:t.bind(R),e[l+1]=null===(r=R.error)||void 0===r?void 0:r.bind(R),e[l+2]=null===(i=R.complete)||void 0===i?void 0:i.bind(R)}let _,w,T;if(n instanceof lr)w=hn(n.firestore,ur),T=Hd(n._key.path),_={next:R=>{e[l]&&e[l](xS(w,n,R))},error:e[l+1],complete:e[l+2]};else{const R=hn(n,to);w=hn(R.firestore,ur),T=R._query;const F=new dp(w);_={next:U=>{e[l]&&e[l](new up(w,F,R,U))},error:e[l+1],complete:e[l+2]},J1(n._query)}return function(R,F,U,q){const J=new vx(q),ce=new PA(F,J,U);return R.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return AA(yield Ly(R),ce)})),()=>{J.Dc(),R.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return MA(yield Ly(R),ce)}))}}(Kr(w),T,f,_)}function Vy(n,e){return function(t,r){const i=new qr;return t.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function RL(n,e,t){return BA.apply(this,arguments)}(yield hS(t),r,i)})),i.promise}(Kr(n),e)}function xS(n,e,t){const r=t.docs.get(e._key),i=new dp(n);return new nh(n,i,e._key,r,new Ig(t.hasPendingWrites,t.fromCache),e.converter)}const nB={maxAttempts:5};class uk{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=wg(e)}set(e,t,r){this._verifyNotCommitted();const i=hp(e,this._firestore),a=Nx(i.converter,t,r),l=Dx(this._dataReader,"WriteBatch.set",i._key,a,null!==i.converter,r);return this._mutations.push(l.toMutation(i._key,Gn.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const a=hp(e,this._firestore);let l;return l="string"==typeof(t=(0,Yt.m9)(t))||t instanceof th?vS(this._dataReader,"WriteBatch.update",a._key,t,r,i):yS(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(l.toMutation(a._key,Gn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=hp(e,this._firestore);return this._mutations=this._mutations.concat(new Qf(t._key,Gn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Re(fe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function hp(n,e){if((n=(0,Yt.m9)(n)).firestore!==e)throw new Re(fe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class rB extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=wg(e)}get(e){const t=hp(e,this._firestore),r=new F2(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return dt();const a=i[0];if(a.isFoundDocument())return new K0(this._firestore,r,a.key,a,t.converter);if(a.isNoDocument())return new K0(this._firestore,r,t._key,null,t.converter);throw dt()})}set(e,t,r){const i=hp(e,this._firestore),a=Nx(i.converter,t,r),l=Dx(this._dataReader,"Transaction.set",i._key,a,null!==i.converter,r);return this._transaction.set(i._key,l),this}update(e,t,r,...i){const a=hp(e,this._firestore);let l;return l="string"==typeof(t=(0,Yt.m9)(t))||t instanceof th?vS(this._dataReader,"Transaction.update",a._key,t,r,i):yS(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,l),this}delete(e){const t=hp(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=hp(e,this._firestore),r=new dp(this._firestore);return super.get(e).then(i=>new nh(this._firestore,r,t._key,i._document,new Ig(!1,!1),t.converter))}}!function(n,e=!0){da=ia.SDK_VERSION,(0,ia._registerComponent)(new mf.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const a=t.getProvider("app").getImmediate(),l=new ur(new qT(t.getProvider("auth-internal")),new XE(t.getProvider("app-check-internal")),function(f,_){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Re(fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mu(f.options.projectId,_)}(a,r),a);return i=Object.assign({useFetchStreams:e},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),(0,ia.registerVersion)(KE,"3.13.0",n),(0,ia.registerVersion)(KE,"3.13.0","esm2017")}();function CS(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Re("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function hk(){if(typeof Uint8Array>"u")throw new Re("unimplemented","Uint8Arrays are not available in this environment.")}function fk(){if(!function fD(){return typeof atob<"u"}())throw new Re("unimplemented","Blobs are unavailable in Firestore in this environment.")}class J0{constructor(e){this._delegate=e}static fromBase64String(e){return fk(),new J0(Du.fromBase64String(e))}static fromUint8Array(e){return hk(),new J0(Du.fromUint8Array(e))}toBase64(){return fk(),this._delegate.toBase64()}toUint8Array(){return hk(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function TS(n){return function hB(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class fB{enableIndexedDbPersistence(e,t){return function d2(n,e){G1(n=hn(n,ur));const t=Kr(n);if(t._uninitializedComponentsProvider)throw new Re(fe.FAILED_PRECONDITION,"SDK cache is already specified.");zo("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),i=new Fy;return z1(t,i,new oS(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function h2(n){G1(n=hn(n,ur));const e=Kr(n);if(e._uninitializedComponentsProvider)throw new Re(fe.FAILED_PRECONDITION,"SDK cache is already specified.");zo("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),r=new Fy;return z1(e,r,new C1(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function f2(n){if(n._initialized&&!n._terminated)throw new Re(fe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new qr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{yield(t=(0,be.Z)(function*(r){if(!bs.D())return Promise.resolve();const i=r+"main";yield bs.delete(i)}),function(r){return t.apply(this,arguments)})(He(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class pk{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof mu||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&zo("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function U1(n,e,t,r={}){var i;const a=(n=hn(n,G0))._getSettings(),l=`${e}:${t}`;if("firestore.googleapis.com"!==a.host&&a.host!==l&&zo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:l,ssl:!1})),r.mockUserToken){let f,_;if("string"==typeof r.mockUserToken)f=r.mockUserToken,_=ai.MOCK_USER;else{f=(0,Yt.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new Re(fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new ai(w)}n._authCredentials=new GT(new QE(f,_))}}(this._delegate,e,t,r)}enableNetwork(){return function m2(n){return function XL(n){return n.asyncQueue.enqueue((0,be.Z)(function*(){const e=yield A1(n),t=yield S1(n);return e.setNetworkEnabled(!0),function(r){const i=nt(r);return i.vu.delete(0),H0(i)}(t)}))}(Kr(n=hn(n,ur)))}(this._delegate)}disableNetwork(){return function g2(n){return function JL(n){return n.asyncQueue.enqueue((0,be.Z)(function*(){const e=yield A1(n),t=yield S1(n);return e.setNetworkEnabled(!1),(r=(0,be.Z)(function*(i){const a=nt(i);a.vu.add(0),yield Sy(a),a.bu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(Kr(n=hn(n,ur)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,O1("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function p2(n){return function(e){const t=new qr;return e.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function OL(n,e){return $A.apply(this,arguments)}(yield hS(e),t)})),t.promise}(Kr(n=hn(n,ur)))}(this._delegate)}onSnapshotsInSync(e){return function W2(n,e){return function n2(n,e){const t=new vx(e);return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return r=yield Ly(n),i=t,nt(r).ku.add(i),void i.next();var r,i})),()=>{t.Dc(),n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return r=yield Ly(n),i=t,void nt(r).ku.delete(i);var r,i}))}}(Kr(n=hn(n,ur)),gS(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Re("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Uy(this,j1(this._delegate,e))}catch(t){throw qo(t,"collection()","Firestore.collection()")}}doc(e){try{return new Xa(this,xx(this._delegate,e))}catch(t){throw qo(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Wo(this,function a2(n,e){if(n=hn(n,G0),pS("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Re(fe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new to(n,null,(t=e,new Xc(dn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw qo(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function iB(n,e,t){n=hn(n,ur);const r=Object.assign(Object.assign({},nB),t);return function(i){if(i.maxAttempts<1)throw new Re(fe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,a,l){const f=new qr;return i.asyncQueue.enqueueAndForget((0,be.Z)(function*(){const _=yield function M1(n){return wx(n).then(e=>e.datastore)}(i);new YL(i.asyncQueue,_,l,a,f).run()})),f.promise}(Kr(n),i=>e(new rB(n,i)),r)}(this._delegate,t=>e(new mk(this,t)))}batch(){return Kr(this._delegate),new gk(new uk(this._delegate,e=>Vy(this._delegate,e)))}loadBundle(e){return function _2(n,e){const t=Kr(n=hn(n,ur)),r=new l2;return function r2(n,e,t,r){const i=function(a,l){let f;return f="string"==typeof a?v0().encode(a):a,_=function(_,w){if(_ instanceof Uint8Array)return T1(_,w);if(_ instanceof ArrayBuffer)return T1(new Uint8Array(_),w);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new ZL(_,l);var _}(t,j0(e));n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){!function qL(n,e,t){const r=nt(n);var i;(i=(0,be.Z)(function*(a,l,f){try{const _=yield l.getMetadata();if(yield function(F,U){const q=nt(F),J=yr(U.createTime);return q.persistence.runTransaction("hasNewerBundle","readonly",ce=>q.qs.getBundleMetadata(ce,U.id)).then(ce=>!!ce&&ce.createTime.compareTo(J)>=0)}(a.localStore,_))return yield l.close(),f._completeWith({taskState:"Success",documentsLoaded:(F=_).totalDocuments,bytesLoaded:F.totalBytes,totalDocuments:F.totalDocuments,totalBytes:F.totalBytes}),Promise.resolve(new Set);f._updateProgress(g1(_));const w=new CL(_,a.localStore,l.serializer);let T=yield l.bc();for(;T;){const F=yield w.zu(T);F&&f._updateProgress(F),T=yield l.bc()}const R=yield w.complete();return yield eh(a,R.Ju,void 0),yield function(F,U){const q=nt(F);return q.persistence.runTransaction("Save bundle","readwrite",J=>q.qs.saveBundleMetadata(J,U))}(a.localStore,_),f._completeWith(R.progress),Promise.resolve(R.Hu)}catch(_){return zo("SyncEngine",`Loading bundle failed with ${_}`),f._failWith(_),Promise.resolve(new Set)}var F}),function(a,l,f){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield hS(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function y2(n,e){return function o2(n,e){return n.asyncQueue.enqueue((0,be.Z)(function*(){return function(t,r){const i=nt(t);return i.persistence.runTransaction("Get named query","readonly",a=>i.qs.getNamedQuery(a,r))}(yield Ex(n),e)}))}(Kr(n=hn(n,ur)),e).then(t=>t?new to(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Wo(this,t):null)}}class Ox extends IS{constructor(e){super(),this.firestore=e}convertBytes(e){return new J0(new Du(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Xa.forKey(t,this.firestore,null)}}class mk{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Ox(e)}get(e){const t=Cg(e);return this._delegate.get(t).then(r=>new ew(this._firestore,new nh(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Cg(e);return r?(CS("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=Cg(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=Cg(e);return this._delegate.delete(t),this}}class gk{constructor(e){this._delegate=e}set(e,t,r){const i=Cg(e);return r?(CS("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=Cg(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=Cg(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class xg{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new X0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new tw(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=xg.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let a=i.get(t);return a||(a=new xg(e,new Ox(e),t),i.set(t,a)),a}}xg.INSTANCES=new WeakMap;class Xa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Ox(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Re("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Xa(t,new lr(t._delegate,r,new et(e)))}static forKey(e,t,r){return new Xa(t,new lr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Uy(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Uy(this.firestore,j1(this._delegate,e))}catch(t){throw qo(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Yt.m9)(e))instanceof lr&&H1(this._delegate,e)}set(e,t){t=CS("DocumentReference.set",t);try{return t?ak(this._delegate,e,t):ak(this._delegate,e)}catch(r){throw qo(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?ck(this._delegate,e):ck(this._delegate,e,t,...r)}catch(i){throw qo(i,"updateDoc()","DocumentReference.update()")}}delete(){return function G2(n){return Vy(hn(n.firestore,ur),[new Qf(n._key,Gn.none())])}(this._delegate)}onSnapshot(...e){const t=_k(e),r=yk(e,i=>new ew(this.firestore,new nh(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return lk(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function U2(n){n=hn(n,lr);const e=hn(n.firestore,ur),t=Kr(e),r=new dp(e);return function e2(n,e){const t=new qr;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return(r=(0,be.Z)(function*(i,a,l){try{const f=yield function(_,w){const T=nt(_);return T.persistence.runTransaction("read document","readonly",R=>T.localDocuments.getDocument(R,w))}(i,a);f.isFoundDocument()?l.resolve(f):f.isNoDocument()?l.resolve(null):l.reject(new Re(fe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const _=ky(f,`Failed to get document '${a} from cache`);l.reject(_)}}),function(i,a,l){return r.apply(this,arguments)})(yield Ex(n),e,t);var r})),t.promise}(t,n._key).then(i=>new nh(e,r,n._key,i,new Ig(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function j2(n){n=hn(n,lr);const e=hn(n.firestore,ur);return R1(Kr(e),n._key,{source:"server"}).then(t=>xS(e,n,t))}(this._delegate):function V2(n){n=hn(n,lr);const e=hn(n.firestore,ur);return R1(Kr(e),n._key).then(t=>xS(e,n,t))}(this._delegate),t.then(r=>new ew(this.firestore,new nh(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Xa(this.firestore,this._delegate.withConverter(e?xg.getInstance(this.firestore,e):null))}}function qo(n,e,t){return n.message=n.message.replace(e,t),n}function _k(n){for(const e of n)if("object"==typeof e&&!TS(e))return e;return{}}function yk(n,e){var t,r;let i;return i=TS(n[0])?n[0]:TS(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{i.next&&i.next(e(a))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class ew{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Xa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return sk(this._delegate,e._delegate)}}class tw extends ew{data(e){const t=this._delegate.data(e);return function YE(n,e){n||dt()}(void 0!==t),t}}class Wo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Ox(e)}where(e,t,r){try{return new Wo(this.firestore,lp(this._delegate,function A2(n,e,t){const r=e,i=Mx("where",n);return Q0._create(i,r,t)}(e,t,r)))}catch(i){throw qo(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Wo(this.firestore,lp(this._delegate,function S2(n,e="asc"){const t=e,r=Mx("orderBy",n);return ES._create(r,t)}(e,t)))}catch(r){throw qo(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Wo(this.firestore,lp(this._delegate,function M2(n){return B1("limit",n),Rx._create("limit",n,"F")}(e)))}catch(t){throw qo(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Wo(this.firestore,lp(this._delegate,function R2(n){return B1("limitToLast",n),Rx._create("limitToLast",n,"L")}(e)))}catch(t){throw qo(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Wo(this.firestore,lp(this._delegate,function k2(...n){return kx._create("startAt",n,!0)}(...e)))}catch(t){throw qo(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Wo(this.firestore,lp(this._delegate,function P2(...n){return kx._create("startAfter",n,!1)}(...e)))}catch(t){throw qo(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Wo(this.firestore,lp(this._delegate,function N2(...n){return Px._create("endBefore",n,!1)}(...e)))}catch(t){throw qo(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Wo(this.firestore,lp(this._delegate,function O2(...n){return Px._create("endAt",n,!0)}(...e)))}catch(t){throw qo(t,"endAt()","Query.endAt()")}}isEqual(e){return mS(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function $2(n){n=hn(n,to);const e=hn(n.firestore,ur),t=Kr(e),r=new dp(e);return function t2(n,e){const t=new qr;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return(r=(0,be.Z)(function*(i,a,l){try{const f=yield hx(i,a,!0),_=new v1(a,f.ir),w=_.sc(f.documents),T=_.applyChanges(w,!1);l.resolve(T.snapshot)}catch(f){const _=ky(f,`Failed to execute query '${a} against cache`);l.reject(_)}}),function(i,a,l){return r.apply(this,arguments)})(yield Ex(n),e,t);var r})),t.promise}(t,n._query).then(i=>new up(e,r,n,i))}(this._delegate):"server"===e?.source?function z2(n){n=hn(n,to);const e=hn(n.firestore,ur),t=Kr(e),r=new dp(e);return k1(t,n._query,{source:"server"}).then(i=>new up(e,r,n,i))}(this._delegate):function H2(n){n=hn(n,to);const e=hn(n.firestore,ur),t=Kr(e),r=new dp(e);return J1(n._query),k1(t,n._query).then(i=>new up(e,r,n,i))}(this._delegate),t.then(r=>new DS(this.firestore,new up(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=_k(e),r=yk(e,i=>new DS(this.firestore,new up(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return lk(this._delegate,t,r)}withConverter(e){return new Wo(this.firestore,this._delegate.withConverter(e?xg.getInstance(this.firestore,e):null))}}class mB{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new tw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class DS{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Wo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new tw(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new mB(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new tw(this._firestore,r))})}isEqual(e){return sk(this._delegate,e._delegate)}}class Uy extends Wo{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Xa(this.firestore,e):null}doc(e){try{return new Xa(this.firestore,void 0===e?xx(this._delegate):xx(this._delegate,e))}catch(t){throw qo(t,"doc()","CollectionReference.doc()")}}add(e){return function q2(n,e){const t=hn(n.firestore,ur),r=xx(n),i=Nx(n.converter,e);return Vy(t,[Dx(wg(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Gn.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Xa(this.firestore,t))}isEqual(e){return H1(this._delegate,e._delegate)}withConverter(e){return new Uy(this.firestore,this._delegate.withConverter(e?xg.getInstance(this.firestore,e):null))}}function Cg(n){return hn(n,lr)}class AS{constructor(...e){this._delegate=new th(...e)}static documentId(){return new AS(ar.keyField().canonicalString())}isEqual(e){return(e=(0,Yt.m9)(e))instanceof th&&this._delegate._internalPath.isEqual(e._internalPath)}}class Tg{constructor(e){this._delegate=e}static serverTimestamp(){const e=function sB(){return new _S("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Tg(e)}static delete(){const e=function oB(){return new W0("deleteField")}();return e._methodName="FieldValue.delete",new Tg(e)}static arrayUnion(...e){const t=function aB(...n){return new I2("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Tg(t)}static arrayRemove(...e){const t=function cB(...n){return new x2("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Tg(t)}static increment(e){const t=function lB(n){return new C2("increment",n)}(e);return t._methodName="FieldValue.increment",new Tg(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const gB={Firestore:pk,GeoPoint:Cx,Timestamp:Xn,Blob:J0,Transaction:mk,WriteBatch:gk,DocumentReference:Xa,DocumentSnapshot:ew,Query:Wo,QueryDocumentSnapshot:tw,QuerySnapshot:DS,CollectionReference:Uy,FieldPath:AS,FieldValue:Tg,setLogLevel:function pB(n){!function $_(n){lu.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function yB(n){(function _B(n,e){n.INTERNAL.registerComponent(new mf.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},gB)))})(n,(e,t)=>new pk(e,t,new fB)),n.registerVersion("@firebase/firestore-compat","0.3.12")}(Gv.Z);var vk=L(6451),Fx=L(5363),vB=L(6063);class bB extends kn.x{constructor(e=1/0,t=1/0,r=vB.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:a,_windowTime:l}=this;t||(r.push(e),!i&&r.push(a.now()+l)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,a=i.slice();for(let l=0;l<a.length&&!e.closed;l+=r?1:2)e.next(a[l]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,a=(i?1:2)*e;if(e<1/0&&a<r.length&&r.splice(0,r.length-a),!i){const l=t.now();let f=0;for(let _=1;_<r.length&&r[_]<=l;_+=2)f=_;f&&r.splice(0,f+1)}}}var bk=L(3099);function wk(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,bk.B)({connector:()=>new bB(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function Ek(n,e){return(0,Mc.m)(e)?$n(()=>n,e):$n(()=>n)}var SS=L(9468);L(259);const RS=new Map,xk={activated:!1,tokenObservers:[]},CB={initialized:!1,enabled:!1};function Lr(n){return RS.get(n)||Object.assign({},xk)}function Bx(){return CB}const kS="https://content-firebaseappcheck.googleapis.com/v1",SB="exchangeDebugToken",Ck={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class RB{constructor(e,t,r,i,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=i,i>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,be.Z)(function*(){t.stop();try{t.pending=new Yt.BH,yield function kB(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Yt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const no=new Yt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function PS(n){if(!Lr(n).activated)throw no.create("use-before-activation",{appName:n.name})}function jx(n,e){return OS.apply(this,arguments)}function OS(){return OS=(0,be.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const R=yield i.getHeartbeatsHeader();R&&(r["X-Firebase-Client"]=R)}const a={method:"POST",body:JSON.stringify(e),headers:r};let l,f;try{l=yield fetch(n,a)}catch(R){throw no.create("fetch-network-error",{originalErrorMessage:R?.message})}if(200!==l.status)throw no.create("fetch-status-error",{httpStatus:l.status});try{f=yield l.json()}catch(R){throw no.create("fetch-parse-error",{originalErrorMessage:R?.message})}const _=f.ttl.match(/^([\d.]+)(s)$/);if(!_||!_[2]||isNaN(Number(_[1])))throw no.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const w=1e3*Number(_[1]),T=Date.now();return{token:f.token,expireTimeMillis:T+w,issuedAtTimeMillis:T}}),OS.apply(this,arguments)}function Tk(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${kS}/projects/${t}/apps/${r}:${SB}?key=${i}`,body:{debug_token:e}}}const FB="firebase-app-check-database",LB=1,nw="firebase-app-check-store";let Hx=null;function FS(){return FS=(0,be.Z)(function*(n,e){const r=(yield function Ak(){return Hx||(Hx=new Promise((n,e)=>{try{const t=indexedDB.open(FB,LB);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(no.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(nw,{keyPath:"compositeKey"})}}catch(t){e(no.create("storage-open",{originalErrorMessage:t?.message}))}}),Hx)}()).transaction(nw,"readwrite"),a=r.objectStore(nw).put({compositeKey:n,value:e});return new Promise((l,f)=>{a.onsuccess=_=>{l()},r.onerror=_=>{var w;f(no.create("storage-set",{originalErrorMessage:null===(w=_.target.error)||void 0===w?void 0:w.message}))}})}),FS.apply(this,arguments)}const rw=new zc.Yd("@firebase/app-check");function VS(n,e){return(0,Yt.hl)()?function VB(n,e){return function Sk(n,e){return FS.apply(this,arguments)}(function Rk(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{rw.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function jS(){return Bx().enabled}function HS(){return $S.apply(this,arguments)}function $S(){return $S=(0,be.Z)(function*(){const n=Bx();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),$S.apply(this,arguments)}const GB={error:"UNKNOWN_ERROR"};function qB(n){return Yt.US.encodeString(JSON.stringify(n),!1)}function $x(n){return zS.apply(this,arguments)}function zS(){return zS=(0,be.Z)(function*(n,e=!1){const t=n.app;PS(t);const r=Lr(t);let a,i=r.token;if(i&&!jy(i)&&(r.token=void 0,i=void 0),!i){const _=yield r.cachedTokenPromise;_&&(jy(_)?i=_:yield VS(t,void 0))}if(!e&&i&&jy(i))return{token:i.token};let f,l=!1;if(jS()){r.exchangeTokenPromise||(r.exchangeTokenPromise=jx(Tk(t,yield HS()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),l=!0);const _=yield r.exchangeTokenPromise;return yield VS(t,_),r.token=_,{token:_.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),l=!0),i=yield Lr(t).exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?rw.warn(_.message):rw.error(_),a=_}return i?a?f=jy(i)?{token:i.token,internalError:a}:Ok(a):(f={token:i.token},r.token=i,yield VS(t,i)):f=Ok(a),l&&function Nk(n,e){const t=Lr(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,f),f}),zS.apply(this,arguments)}function GS(){return GS=(0,be.Z)(function*(n){const e=n.app;PS(e);const{provider:t}=Lr(e);if(jS()){const r=yield HS(),{token:i}=yield jx(Tk(e,r),n.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield t.getToken();return{token:r}}}),GS.apply(this,arguments)}function WS(n,e){const t=Lr(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function Pk(n){const{app:e}=n,t=Lr(e);let r=t.tokenRefresher;r||(r=function WB(n){const{app:e}=n;return new RB((0,be.Z)(function*(){let r;if(r=Lr(e).token?yield $x(n,!0):yield $x(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Lr(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},Ck.RETRIAL_MIN_WAIT,Ck.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function jy(n){return n.expireTimeMillis-Date.now()>0}function Ok(n){return{token:qB(GB),error:n}}class ZB{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Lr(this.app);for(const t of e)WS(this.app,t.next);return Promise.resolve()}}const $k="app-check-internal";!function cV(){(0,ia._registerComponent)(new mf.wA("app-check",n=>function KB(n,e){return new ZB(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider($k).initialize()})),(0,ia._registerComponent)(new mf.wA($k,n=>function YB(n){return{getToken:e=>$x(n,e),getLimitedUseToken:()=>function kk(n){return GS.apply(this,arguments)}(n),addTokenListener:e=>function qS(n,e,t,r){const{app:i}=n,a=Lr(i);if(a.tokenObservers=[...a.tokenObservers,{next:t,error:r,type:e}],a.token&&jy(a.token)){const f=a.token;Promise.resolve().then(()=>{t({token:f.token}),Pk(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>Pk(n))}(n,"INTERNAL",e),removeTokenListener:e=>WS(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ia.registerVersion)("@firebase/app-check","0.8.0")}();class Gx{constructor(){return(0,zn.vb)("app-check")}}typeof window<"u"&&window;const Gk=new u.OlP("angularfire2.auth.use-emulator"),qk=new u.OlP("angularfire2.auth.settings"),Wk=new u.OlP("angularfire2.auth.tenant-id"),Zk=new u.OlP("angularfire2.auth.langugage-code"),Kk=new u.OlP("angularfire2.auth.use-device-language"),Yk=new u.OlP("angularfire.auth.persistence"),Qk=(n,e,t,r,i,a,l,f)=>(0,bi.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),r&&(_.tenantId=r),_.languageCode=i,a&&_.useDeviceLanguage(),l)for(const[w,T]of Object.entries(l))_.settings[w]=T;return f&&_.setPersistence(f),_},[t,r,i,a,l,f]);let Xk=(()=>{class n{constructor(t,r,i,a,l,f,_,w,T,R,F,U){const q=new kn.x,J=rt(void 0).pipe((0,Fx.Q)(l.outsideAngular),$n(()=>a.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,2644)))),(0,ct.U)(()=>(0,bi.on)(t,a,r)),(0,ct.U)(ce=>Qk(ce,a,f,w,T,R,_,F)),wk({bufferSize:1,refCount:!1}));if(So(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=rt(null);else{J.pipe(Wi()).subscribe();const je=J.pipe($n(Qe=>Qe.getRedirectResult().then(St=>St,()=>null)),zn.iC,wk({bufferSize:1,refCount:!1})),Ye=J.pipe($n(Qe=>new $r.y(St=>({unsubscribe:a.runOutsideAngular(()=>Qe.onAuthStateChanged(Ft=>St.next(Ft),Ft=>St.error(Ft),()=>St.complete()))})))),ze=J.pipe($n(Qe=>new $r.y(St=>({unsubscribe:a.runOutsideAngular(()=>Qe.onIdTokenChanged(Ft=>St.next(Ft),Ft=>St.error(Ft),()=>St.complete()))}))));this.authState=je.pipe(Ek(Ye),(0,SS.R)(l.outsideAngular),(0,Fx.Q)(l.insideAngular)),this.user=je.pipe(Ek(ze),(0,SS.R)(l.outsideAngular),(0,Fx.Q)(l.insideAngular)),this.idToken=this.user.pipe($n(Qe=>Qe?(0,on.D)(Qe.getIdToken()):rt(null))),this.idTokenResult=this.user.pipe($n(Qe=>Qe?(0,on.D)(Qe.getIdTokenResult()):rt(null))),this.credential=(0,vk.T)(je,q,this.authState.pipe(zr(Qe=>!Qe))).pipe((0,ct.U)(Qe=>Qe?.user?Qe:null),(0,SS.R)(l.outsideAngular),(0,Fx.Q)(l.insideAngular))}return(0,bi.pX)(this,J,a,{spy:{apply:(ce,je,Ye)=>{(ce.startsWith("signIn")||ce.startsWith("createUser"))&&Ye.then(ze=>q.next(ze))}}})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(bi.Dh),u.LFG(bi.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(zn.HU),u.LFG(Gk,8),u.LFG(qk,8),u.LFG(Wk,8),u.LFG(Zk,8),u.LFG(Kk,8),u.LFG(Yk,8),u.LFG(Gx,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function Jk(n,e){return function pV(n,e=ff.z){return new $r.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function XS(n,e){return Jk(n,e).pipe((0,ct.U)(t=>({payload:t,type:"query"})))}function qx(n,e){return XS(n,e).pipe(ls(void 0),pf(),(0,ct.U)(([t,r])=>{const i=r.payload.docChanges(),a=i.map(l=>({type:l.type,payload:l}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((l,f)=>{const _=i.find(T=>T.doc.ref.isEqual(l.ref)),w=t?.payload.docs.find(T=>T.ref.isEqual(l.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(l.metadata)||!_&&w&&JSON.stringify(w.metadata)===JSON.stringify(l.metadata)||a.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:l}})}),a}))}function eP(n,e,t){return qx(n,t).pipe($l((r,i)=>function gV(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function _V(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return JS(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return JS(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return JS(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(a=>a.payload),e),[]),$v(),(0,ct.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function JS(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function tP(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class nP{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=qx(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,ct.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(ls(void 0),pf(),zr(([r,i])=>i.length>0||!r),(0,ct.U)(([r,i])=>i),zn.iC)}auditTrail(e){return this.stateChanges(e).pipe($l((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=tP(e);return eP(this.query,t,this.afs.schedulers.outsideAngular).pipe(zn.iC)}valueChanges(e={}){return XS(this.query,this.afs.schedulers.outsideAngular).pipe((0,ct.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),zn.iC)}get(e){return(0,on.D)(this.query.get(e)).pipe(zn.iC)}add(e){return this.ref.add(e)}doc(e){return new rP(this.ref.doc(e),this.afs)}}class rP{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:a}=sP(r,t);return new nP(i,a,this.afs)}snapshotChanges(){return function mV(n,e){return Jk(n,e).pipe(ls(void 0),pf(),(0,ct.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(zn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,ct.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,on.D)(this.ref.get(e)).pipe(zn.iC)}}class yV{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?qx(this.query,this.afs.schedulers.outsideAngular).pipe((0,ct.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),zr(t=>t.length>0),zn.iC):qx(this.query,this.afs.schedulers.outsideAngular).pipe(zn.iC)}auditTrail(e){return this.stateChanges(e).pipe($l((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=tP(e);return eP(this.query,t,this.afs.schedulers.outsideAngular).pipe(zn.iC)}valueChanges(e={}){return XS(this.query,this.afs.schedulers.outsideAngular).pipe((0,ct.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),zn.iC)}get(e){return(0,on.D)(this.query.get(e)).pipe(zn.iC)}}const iP=new u.OlP("angularfire2.enableFirestorePersistence"),oP=new u.OlP("angularfire2.firestore.persistenceSettings"),vV=new u.OlP("angularfire2.firestore.settings"),bV=new u.OlP("angularfire2.firestore.use-emulator");function sP(n,e=(t=>t)){return{query:e(n),ref:n}}let nM,eM=(()=>{class n{constructor(t,r,i,a,l,f,_,w,T,R,F,U,q,J,ce,je,Ye){this.schedulers=_;const ze=(0,bi.on)(t,f,r),Qe=T;R&&Qk(ze,f,F,q,J,ce,U,je),[this.firestore,this.persistenceEnabled$]=(0,bi.cc)(`${ze.name}.firestore`,"AngularFirestore",ze.name,()=>{const St=f.runOutsideAngular(()=>ze.firestore());if(a&&St.settings(a),Qe&&St.useEmulator(...Qe),i&&!So(l)){const Ft=()=>{try{return(0,on.D)(St.enablePersistence(w||void 0).then(()=>!0,()=>!1))}catch(fn){return typeof console<"u"&&console.warn(fn),rt(!1)}};return[St,f.runOutsideAngular(Ft)]}return[St,rt(!1)]},[a,Qe,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:l}=sP(i,r),f=this.schedulers.ngZone.run(()=>a);return new nP(f,l,this)}collectionGroup(t,r){const i=r||(l=>l),a=this.firestore.collectionGroup(t);return new yV(i(a),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new rP(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(bi.Dh),u.LFG(bi.xv,8),u.LFG(iP,8),u.LFG(vV,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(zn.HU),u.LFG(oP,8),u.LFG(bV,8),u.LFG(Xk,8),u.LFG(Gk,8),u.LFG(qk,8),u.LFG(Wk,8),u.LFG(Zk,8),u.LFG(Kk,8),u.LFG(Yk,8),u.LFG(Gx,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),wV=(()=>{class n{constructor(){pm.Z.registerVersion("angularfire",zn.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:iP,useValue:!0},{provide:oP,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[eM]}),n})(),tM=(()=>{class n{constructor(t){this.store=t}loadFeatured(){return this.store.collection("posts",t=>t.where("isFeatured","==",!0).limit(4)).snapshotChanges().pipe((0,ct.U)(t=>t.map(r=>({data:r.payload.doc.data(),id:r.payload.doc.id}))))}loadLatest(){return this.store.collection("posts",t=>t.orderBy("createAt")).snapshotChanges().pipe((0,ct.U)(t=>t.map(r=>({data:r.payload.doc.data(),id:r.payload.doc.id}))))}loadCategoryPosts(t){return this.store.collection("posts",r=>r.where("category.categoryId","==",t)).snapshotChanges().pipe((0,ct.U)(r=>r.map(i=>({data:i.payload.doc.data(),id:i.payload.doc.id}))))}loadSinglePost(t){return this.store.doc(`posts/${t}`).valueChanges()}countViews(t){const r={views:pm.Z.firestore.FieldValue.increment(1)};this.store.doc(`posts/${t}`).update(r).then(()=>{})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(eM))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();try{nM=typeof Intl<"u"&&Intl.v8BreakIterator}catch{nM=!1}let Hy,rh=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function mh(n){return n===Cp}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!nM)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.Lbi))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const aP=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function cP(){if(Hy)return Hy;if("object"!=typeof document||!document)return Hy=new Set(aP),Hy;let n=document.createElement("input");return Hy=new Set(aP.filter(e=>(n.setAttribute("type",e),n.type===e))),Hy}let iw,rM;function $y(n){return function EV(){if(null==iw&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>iw=!0}))}finally{iw=iw||!1}return iw}()?n:!!n.capture}function zy(n){return n.composedPath?n.composedPath()[0]:n.target}function lP(n){return zr((e,t)=>n<=t)}var RV=L(5032);function ow(n){return(0,Cr.e)((e,t)=>{(0,Qs.Xf)(n).subscribe((0,gr.x)(t,()=>t.complete(),RV.Z)),!t.closed&&e.subscribe(t)})}function fp(n){return null!=n&&"false"!=`${n}`}function uP(n){return Array.isArray(n)?n:[n]}function pp(n){return n instanceof u.SBq?n.nativeElement:n}function iM(n,e=ff.z){return(0,Cr.e)((t,r)=>{let i=null,a=null,l=null;const f=()=>{if(i){i.unsubscribe(),i=null;const w=a;a=null,r.next(w)}};function _(){const w=l+n,T=e.now();if(T<w)return i=this.schedule(void 0,w-T),void r.add(i);f()}t.subscribe((0,gr.x)(r,w=>{a=w,l=e.now(),i||(i=e.schedule(_,n),r.add(i))},()=>{f(),r.complete()},void 0,()=>{a=i=null}))})}let dP=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),NV=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,r)=>this._cleanupObserver(r))}observe(t){const r=pp(t);return new $r.y(i=>{const l=this._observeElement(r).subscribe(i);return()=>{l.unsubscribe(),this._unobserveElement(r)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const r=new kn.x,i=this._mutationObserverFactory.create(a=>r.next(a));i&&i.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:i,stream:r,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:r,stream:i}=this._observedElements.get(t);r&&r.disconnect(),i.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(dP))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),OV=(()=>{class n{get disabled(){return this._disabled}set disabled(t){this._disabled=fp(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=function kV(n,e=0){return function PV(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}(t),this._subscribe()}constructor(t,r,i){this._contentObserver=t,this._elementRef=r,this._ngZone=i,this.event=new u.vpe,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(iM(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(NV),u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275dir=u.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),oM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[dP]}),n})();const hP=new Set;let Gy,FV=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):BV}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function LV(n){if(!hP.has(n))try{Gy||(Gy=document.createElement("style"),Gy.setAttribute("type","text/css"),document.head.appendChild(Gy)),Gy.sheet&&(Gy.sheet.insertRule(`@media ${n} {body{ }}`,0),hP.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(rh))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function BV(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let VV=(()=>{class n{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new kn.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return fP(uP(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let a=jl(fP(uP(t)).map(l=>this._registerQuery(l).observable));return a=Sc(a.pipe(po(1)),a.pipe(lP(1),iM(0))),a.pipe((0,ct.U)(l=>{const f={matches:!1,breakpoints:{}};return l.forEach(({matches:_,query:w})=>{f.matches=f.matches||_,f.breakpoints[w]=_}),f}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),a={observable:new $r.y(l=>{const f=_=>this._zone.run(()=>l.next(_));return r.addListener(f),()=>{r.removeListener(f)}}).pipe(ls(r),(0,ct.U)(({matches:l})=>({query:t,matches:l})),ow(this._destroySubject)),mql:r};return this._queries.set(t,a),a}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(FV),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function fP(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function _P(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function yP(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const WV=new u.OlP("cdk-input-modality-detector-options"),ZV={ignoreKeys:[18,17,224,91,16]},qy=$y({passive:!0,capture:!0});let KV=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,r,i,a){this._platform=t,this._mostRecentTarget=null,this._modality=new Pn(null),this._lastTouchMs=0,this._onKeydown=l=>{this._options?.ignoreKeys?.some(f=>f===l.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=zy(l))},this._onMousedown=l=>{Date.now()-this._lastTouchMs<650||(this._modality.next(_P(l)?"keyboard":"mouse"),this._mostRecentTarget=zy(l))},this._onTouchstart=l=>{yP(l)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=zy(l))},this._options={...ZV,...a},this.modalityDetected=this._modality.pipe(lP(1)),this.modalityChanged=this.modalityDetected.pipe($v()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,qy),i.addEventListener("mousedown",this._onMousedown,qy),i.addEventListener("touchstart",this._onTouchstart,qy)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,qy),document.removeEventListener("mousedown",this._onMousedown,qy),document.removeEventListener("touchstart",this._onTouchstart,qy))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(rh),u.LFG(u.R0b),u.LFG(re),u.LFG(WV,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const QV=new u.OlP("cdk-focus-monitor-default-options"),Zx=$y({passive:!0,capture:!0});let XV=(()=>{class n{constructor(t,r,i,a,l){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new kn.x,this._rootNodeFocusAndBlurListener=f=>{for(let w=zy(f);w;w=w.parentElement)"focus"===f.type?this._onFocus(f,w):this._onBlur(f,w)},this._document=a,this._detectionMode=l?.detectionMode||0}monitor(t,r=!1){const i=pp(t);if(!this._platform.isBrowser||1!==i.nodeType)return rt(null);const a=function xV(n){if(function IV(){if(null==rM){const n=typeof document<"u"?document.head:null;rM=!(!n||!n.createShadowRoot&&!n.attachShadow)}return rM}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(i)||this._getDocument(),l=this._elementInfo.get(i);if(l)return r&&(l.checkChildren=!0),l.subject;const f={checkChildren:r,subject:new kn.x,rootNode:a};return this._elementInfo.set(i,f),this._registerGlobalListeners(f),f.subject}stopMonitoring(t){const r=pp(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const a=pp(t);a===this._getDocument().activeElement?this._getClosestElementsInfo(a).forEach(([f,_])=>this._originChanged(f,r,_)):(this._setOrigin(r),"function"==typeof a.focus&&a.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),a=zy(t);!i||!i.checkChildren&&r!==a||this._originChanged(r,this._getFocusOrigin(a),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(t,r){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,Zx),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,Zx)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(ow(this._stopInputModalityDetector)).subscribe(a=>{this._setOrigin(a,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Zx),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Zx),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,a)=>{(a===t||i.checkChildren&&a.contains(t))&&r.push([a,i])}),r}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if("mouse"!==i||!r||r===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const a=t.labels;if(a)for(let l=0;l<a.length;l++)if(a[l].contains(r))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.R0b),u.LFG(rh),u.LFG(KV),u.LFG(re,8),u.LFG(QV,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const bP="cdk-high-contrast-black-on-white",wP="cdk-high-contrast-white-on-black",sM="cdk-high-contrast-active";let EP=(()=>{class n{constructor(t,r){this._platform=t,this._document=r,this._breakpointSubscription=(0,u.f3M)(VV).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,a=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),a){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(sM,bP,wP),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?t.add(sM,bP):2===r&&t.add(sM,wP)}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(rh),u.LFG(re))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),JV=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(EP))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[oM]}),n})();const eU=new u.OlP("cdk-dir-doc",{providedIn:"root",factory:function tU(){return(0,u.f3M)(re)}}),nU=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let iU=(()=>{class n{constructor(t){this.value="ltr",this.change=new u.vpe,t&&(this.value=function rU(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?nU.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(eU,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),IP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const sU=new u.OlP("mat-sanity-checks",{providedIn:"root",factory:function oU(){return!0}});let Ts=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!function CV(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(EP),u.LFG(sU,8),u.LFG(re))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[IP,IP]}),n})();function aU(n){return class extends n{get disabled(){return this._disabled}set disabled(e){this._disabled=fp(e)}constructor(...e){super(...e),this._disabled=!1}}}function TP(n,e){return class extends n{get color(){return this._color}set color(t){const r=t||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}constructor(...t){super(...t),this.defaultColor=e,this.color=e}}}function cU(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=fp(e)}constructor(...e){super(...e),this._disableRipple=!1}}}function lU(n){return class extends n{updateErrorState(){const e=this.errorState,a=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);a!==e&&(this.errorState=a,this.stateChanges.next())}constructor(...e){super(...e),this.errorState=!1}}}let dU=(()=>{class n{isErrorState(t,r){return!!(t&&t.invalid&&(t.touched||r&&r.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class hU{constructor(e,t,r,i=!1){this._renderer=e,this.element=t,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const DP=$y({passive:!0,capture:!0});class fU{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=zy(e);t&&this._events.get(e.type)?.forEach((r,i)=>{(i===t||i.contains(t))&&r.forEach(a=>a.handleEvent(e))})}}addHandler(e,t,r,i){const a=this._events.get(t);if(a){const l=a.get(r);l?l.add(i):a.set(r,new Set([i]))}else this._events.set(t,new Map([[r,new Set([i])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,DP)})}removeHandler(e,t,r){const i=this._events.get(e);if(!i)return;const a=i.get(t);a&&(a.delete(r),0===a.size&&i.delete(t),0===i.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,DP)))}}const AP={enterDuration:225,exitDuration:150},SP=$y({passive:!0,capture:!0}),MP=["mousedown","touchstart"],RP=["mouseup","mouseleave","touchend","touchcancel"];class aw{constructor(e,t,r,i){this._target=e,this._ngZone=t,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=pp(r))}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a={...AP,...r.animation};r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const l=r.radius||function mU(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),f=e-i.left,_=t-i.top,w=a.enterDuration,T=document.createElement("div");T.classList.add("mat-ripple-element"),T.style.left=f-l+"px",T.style.top=_-l+"px",T.style.height=2*l+"px",T.style.width=2*l+"px",null!=r.color&&(T.style.backgroundColor=r.color),T.style.transitionDuration=`${w}ms`,this._containerElement.appendChild(T);const R=window.getComputedStyle(T),U=R.transitionDuration,q="none"===R.transitionProperty||"0s"===U||"0s, 0s"===U||0===i.width&&0===i.height,J=new hU(this,T,r,q);T.style.transform="scale3d(1, 1, 1)",J.state=0,r.persistent||(this._mostRecentTransientRipple=J);let ce=null;return!q&&(w||a.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const je=()=>this._finishRippleTransition(J),Ye=()=>this._destroyRipple(J);T.addEventListener("transitionend",je),T.addEventListener("transitioncancel",Ye),ce={onTransitionEnd:je,onTransitionCancel:Ye}}),this._activeRipples.set(J,ce),(q||!w)&&this._finishRippleTransition(J),J}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,r={...AP,...e.config.animation};t.style.transitionDuration=`${r.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=pp(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,MP.forEach(r=>{aw._eventManager.addHandler(this._ngZone,r,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{RP.forEach(t=>{this._triggerElement.addEventListener(t,this,SP)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=1,!r&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=_P(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!yP(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(MP.forEach(t=>aw._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&RP.forEach(t=>e.removeEventListener(t,this,SP)))}}aw._eventManager=new fU;const gU=new u.OlP("mat-ripple-global-options");let kP=(()=>{class n{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,r,i,a,l){this._elementRef=t,this._animationMode=l,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=a||{},this._rippleRenderer=new aw(this,r,t,i)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,i){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,r,{...this.rippleConfig,...i}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.R0b),u.Y36(rh),u.Y36(gU,8),u.Y36(u.QbO,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,r){2&t&&u.ekj("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),PP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Ts,Ts]}),n})();const _U=["*"],bU=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],wU=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],EU=new u.OlP("MAT_CARD_CONFIG");let Au=(()=>{class n{constructor(t){this.appearance=t?.appearance||"raised"}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(EU,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(t,r){2&t&&u.ekj("mat-mdc-card-outlined","outlined"===r.appearance)("mdc-card--outlined","outlined"===r.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:_U,decls:1,vars:0,template:function(t,r){1&t&&(u.F$t(),u.Hsn(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mat-mdc-card{position:relative;border-radius:var(--mdc-elevated-card-container-shape, var(--mdc-shape-medium, 4px));background-color:var(--mdc-elevated-card-container-color, transparent);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color, transparent)}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape, var(--mdc-shape-medium, 4px))}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width, 1px);border-style:solid;border-color:var(--mdc-outlined-card-outline-color, transparent)}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0}),n})(),Wy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]}),n})(),Ag=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]}),n})(),aM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-mdc-card-subtitle"]}),n})(),Zy=(()=>{class n{constructor(){this.align="start"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-mdc-card-actions","mdc-card__actions"],hostVars:2,hostBindings:function(t,r){2&t&&u.ekj("mat-mdc-card-actions-align-end","end"===r.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),n})(),Sg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],ngContentSelectors:wU,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(t,r){1&t&&(u.F$t(bU),u.Hsn(0),u.TgZ(1,"div",0),u.Hsn(2,1),u.qZA(),u.Hsn(3,2))},encapsulation:2,changeDetection:0}),n})(),NP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-mdc-card-image","mdc-card__media"]}),n})(),MU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Ts,Ur,Ts]}),n})();function RU(n,e){1&n&&(u.TgZ(0,"small",8),u._uU(1,"Featured"),u.qZA())}const kU=function(n,e){return["/post",n,e]};function PU(n,e){if(1&n&&(u.TgZ(0,"mat-card",1)(1,"div",2),u._UZ(2,"img",3),u.qZA(),u.TgZ(3,"mat-card-header")(4,"mat-card-title"),u._uU(5),u.qZA()(),u.TgZ(6,"mat-card-content")(7,"small",4),u._uU(8),u.qZA(),u.YNc(9,RU,2,0,"small",5),u.TgZ(10,"small",6),u._uU(11),u.qZA(),u.TgZ(12,"p"),u._uU(13),u.qZA(),u.TgZ(14,"small",7),u._uU(15),u.ALo(16,"date"),u.qZA()()()),2&n){const t=u.oxw();u.Q6J("routerLink",u.WLB(10,kU,t.postData.data.title,t.postData.id)),u.xp6(2),u.s9C("src",t.postData.data.postImgPath,u.LSH),u.xp6(3),u.Oqu(t.postData.data.title),u.xp6(3),u.Oqu(t.postData.data.category.category),u.xp6(1),u.Q6J("ngIf",t.postData.data.isFeatured),u.xp6(2),u.hij("Views - ",t.postData.data.views,""),u.xp6(2),u.hij(" ",t.postData.data.excerpt," "),u.xp6(2),u.hij("LAST UPDATED - ",u.lcZ(16,8,t.postData.data.createAt.toMillis()),"")}}let cM=(()=>{class n{constructor(){}ngOnInit(){console.log("card data",this.postData)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-post-card"]],inputs:{postData:"postData"},decls:1,vars:1,consts:[["class","example-card ","fxFlexAlign","stretch",3,"routerLink",4,"ngIf"],["fxFlexAlign","stretch",1,"example-card",3,"routerLink"],[1,"card-image-container"],["mat-card-image","","alt","post-image",3,"src"],[1,"bg-light","text-danger","text-center"],["class","bg-light text-success text-center",4,"ngIf"],[1,"bg-light","text-info","text-center"],[1,"bg-light","text-warning","text-center"],[1,"bg-light","text-success","text-center"]],template:function(t,r){1&t&&u.YNc(0,PU,17,13,"mat-card",0),2&t&&u.Q6J("ngIf",r.postData)},dependencies:[co,lm,Au,Ag,Sg,NP,Wy,ei],styles:[".example-card[_ngcontent-%COMP%]{max-width:340px;min-height:340px;max-height:340px;border:2px solid #ccc;border-radius:10px}.example-header-image[_ngcontent-%COMP%]{background-size:cover}.card-image-container[_ngcontent-%COMP%]{height:200px;overflow:hidden}"]}),n})();function NU(n,e){if(1&n&&(u.TgZ(0,"div",10),u._UZ(1,"app-post-card",11),u.qZA()),2&n){const t=e.$implicit;u.xp6(1),u.Q6J("postData",t)}}function OU(n,e){if(1&n&&(u.TgZ(0,"div",10),u._UZ(1,"app-post-card",11),u.qZA()),2&n){const t=e.$implicit;u.xp6(1),u.Q6J("postData",t)}}let FU=(()=>{class n{constructor(t){this.postService=t,this.featuredPosts=[],this.latestPosts=[],this.postService.loadFeatured().subscribe(r=>{this.featuredPosts=r}),this.postService.loadFeatured().subscribe(r=>{this.latestPosts=r})}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(tM))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-home"]],decls:24,vars:2,consts:[[1,"postscard"],[1,"featured-section"],[1,"container-fluid"],[1,"row"],[1,"col-md-12","text-center","mt-5"],[1,"text-black"],["class","col-lg-3",4,"ngFor","ngForOf"],[1,"latest-section"],[1,"container"],[1,"col-md-12","text-center"],[1,"col-lg-3"],[3,"postData"]],template:function(t,r){1&t&&(u.TgZ(0,"mat-card",0)(1,"section",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h2",5),u._uU(6,"Featured posts"),u.qZA()()(),u.TgZ(7,"div",3),u.YNc(8,NU,2,1,"div",6),u.qZA()()()(),u.TgZ(9,"mat-card",0)(10,"section",7)(11,"div",8)(12,"div",3)(13,"div",9)(14,"h2",5),u._uU(15,"Latest posts"),u.qZA()()(),u.TgZ(16,"div",3),u.YNc(17,OU,2,1,"div",6),u.TgZ(18,"div",10),u._UZ(19,"app-post-card"),u.qZA(),u.TgZ(20,"div",10),u._UZ(21,"app-post-card"),u.qZA(),u.TgZ(22,"div",10),u._UZ(23,"app-post-card"),u.qZA()()()()()),2&t&&(u.xp6(8),u.Q6J("ngForOf",r.featuredPosts),u.xp6(9),u.Q6J("ngForOf",r.latestPosts))},dependencies:[To,Au,cM],styles:[".postscard[_ngcontent-%COMP%]{margin:25px;border:2px solid #ccc;border-radius:10px;padding:20px}"]}),n})();const LU=["mat-button",""],BU=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],VU=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],UU=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],jU=TP(aU(cU(class{constructor(n){this._elementRef=n}})));let HU=(()=>{class n extends jU{constructor(t,r,i,a){super(t),this._platform=r,this._ngZone=i,this._animationMode=a,this._focusMonitor=(0,u.f3M)(XV),this._isFab=!1;const l=t.nativeElement.classList;for(const f of UU)this._hasHostAttributes(f.selector)&&f.mdcClasses.forEach(_=>{l.add(_)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",r){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,r):this._elementRef.nativeElement.focus(r)}_hasHostAttributes(...t){return t.some(r=>this._elementRef.nativeElement.hasAttribute(r))}_isRippleDisabled(){return this.disableRipple||this.disabled}}return n.\u0275fac=function(t){u.$Z()},n.\u0275dir=u.lG2({type:n,viewQuery:function(t,r){if(1&t&&u.Gf(kP,5),2&t){let i;u.iGM(i=u.CRH())&&(r.ripple=i.first)}},features:[u.qOj]}),n})(),lM=(()=>{class n extends HU{constructor(t,r,i,a){super(t,r,i,a)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(rh),u.Y36(u.R0b),u.Y36(u.QbO,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(t,r){2&t&&(u.uIk("disabled",r.disabled||null),u.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[u.qOj],attrs:LU,ngContentSelectors:VU,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(t,r){1&t&&(u.F$t(BU),u._UZ(0,"span",0),u.Hsn(1),u.TgZ(2,"span",1),u.Hsn(3,1),u.qZA(),u.Hsn(4,2),u._UZ(5,"span",2)(6,"span",3)(7,"span",4)),2&t&&(u.ekj("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab),u.xp6(6),u.Q6J("matRippleDisabled",r._isRippleDisabled())("matRippleTrigger",r._elementRef.nativeElement))},dependencies:[kP],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),GU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Ts,PP,Ts]}),n})(),qU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-comments-list"]],decls:46,vars:0,consts:[[1,"card","mb-5","mt-5","pb-5","shadow-effect"],[1,"card-body"],[1,"mt-3","mb-3"],[1,"example-card","mt-2","ml-5","shadow-effect"],["mat-button",""]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"div",1)(2,"h4",2),u._uU(3,"Comments (15,250)"),u.qZA(),u.TgZ(4,"mat-card",3)(5,"mat-card-header")(6,"mat-card-title"),u._uU(7,"Shiba Inu"),u.qZA(),u.TgZ(8,"mat-card-subtitle"),u._uU(9,"Dog Breed"),u.qZA()(),u.TgZ(10,"mat-card-content")(11,"p"),u._uU(12,"This card indeterminates progress bar."),u.qZA()(),u.TgZ(13,"mat-card-actions")(14,"button",4),u._uU(15,"LIKE"),u.qZA(),u.TgZ(16,"button",4),u._uU(17,"SHARE"),u.qZA()()(),u.TgZ(18,"mat-card",3)(19,"mat-card-header")(20,"mat-card-title"),u._uU(21,"Shiba Inu"),u.qZA(),u.TgZ(22,"mat-card-subtitle"),u._uU(23,"Dog Breed"),u.qZA()(),u.TgZ(24,"mat-card-content")(25,"p"),u._uU(26,"This card indeterminates progress bar."),u.qZA()(),u.TgZ(27,"mat-card-actions")(28,"button",4),u._uU(29,"REPLY"),u.qZA(),u.TgZ(30,"button",4),u._uU(31,"VIEW REPLY"),u.qZA()()(),u.TgZ(32,"mat-card",3)(33,"mat-card-header")(34,"mat-card-title"),u._uU(35,"Shiba Inu"),u.qZA(),u.TgZ(36,"mat-card-subtitle"),u._uU(37,"Dog Breed"),u.qZA()(),u.TgZ(38,"mat-card-content")(39,"p"),u._uU(40,"This card indeterminates progress bar."),u.qZA()(),u.TgZ(41,"mat-card-actions")(42,"button",4),u._uU(43,"REPLY"),u.qZA(),u.TgZ(44,"button",4),u._uU(45,"VIEW REPLY"),u.qZA()()()()())},dependencies:[Au,Zy,Ag,Sg,aM,Wy,lM],styles:[".example-card[_ngcontent-%COMP%]{max-width:700px;background-color:#f0f0f0;padding:15px 35px}"]}),n})();const OP=$y({passive:!0});let WU=(()=>{class n{constructor(t,r){this._platform=t,this._ngZone=r,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Pi.E;const r=pp(t),i=this._monitoredElements.get(r);if(i)return i.subject;const a=new kn.x,l="cdk-text-field-autofilled",f=_=>{"cdk-text-field-autofill-start"!==_.animationName||r.classList.contains(l)?"cdk-text-field-autofill-end"===_.animationName&&r.classList.contains(l)&&(r.classList.remove(l),this._ngZone.run(()=>a.next({target:_.target,isAutofilled:!1}))):(r.classList.add(l),this._ngZone.run(()=>a.next({target:_.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",f,OP),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:a,unlisten:()=>{r.removeEventListener("animationstart",f,OP)}}),a}stopMonitoring(t){const r=pp(t),i=this._monitoredElements.get(r);i&&(i.unlisten(),i.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((t,r)=>this.stopMonitoring(r))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(rh),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ZU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();function FP(...n){const e=(0,yi.jO)(n),{args:t,keys:r}=Dc(n),i=new $r.y(a=>{const{length:l}=t;if(!l)return void a.complete();const f=new Array(l);let _=l,w=l;for(let T=0;T<l;T++){let R=!1;(0,Qs.Xf)(t[T]).subscribe((0,gr.x)(a,F=>{R||(R=!0,w--),f[T]=F},()=>_--,void 0,()=>{(!_||!R)&&(w||a.next(r?cs(r,f):f),a.complete())}))}});return e?i.pipe(as(e)):i}const JU=!1;function mp(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function VP(n){return null!=n&&"number"==typeof n.length}const Eo=new u.OlP("NgValidators"),gp=new u.OlP("NgAsyncValidators"),ej=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class tj{static min(e){return function UP(n){return e=>{if(mp(e.value)||mp(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function jP(n){return e=>{if(mp(e.value)||mp(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function HP(n){return mp(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function $P(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function zP(n){return mp(n.value)||ej.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function GP(n){return e=>mp(e.value)||!VP(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function qP(n){return e=>VP(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function WP(n){if(!n)return Kx;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(mp(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return JP(e)}static composeAsync(e){return eN(e)}}function Kx(n){return null}function ZP(n){return null!=n}function KP(n){const e=(0,u.QGY)(n)?(0,on.D)(n):n;if(JU&&!(0,u.CqO)(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new u.vHH(-1101,t)}return e}function YP(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function QP(n,e){return e.map(t=>t(n))}function XP(n){return n.map(e=>function nj(n){return!n.validate}(e)?e:t=>e.validate(t))}function JP(n){if(!n)return null;const e=n.filter(ZP);return 0==e.length?null:function(t){return YP(QP(t,e))}}function dM(n){return null!=n?JP(XP(n)):null}function eN(n){if(!n)return null;const e=n.filter(ZP);return 0==e.length?null:function(t){return FP(QP(t,e).map(KP)).pipe((0,ct.U)(YP))}}function hM(n){return null!=n?eN(XP(n)):null}function tN(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function nN(n){return n._rawValidators}function rN(n){return n._rawAsyncValidators}function fM(n){return n?Array.isArray(n)?n:[n]:[]}function Yx(n,e){return Array.isArray(n)?n.includes(e):n===e}function iN(n,e){const t=fM(e);return fM(n).forEach(i=>{Yx(t,i)||t.push(i)}),t}function oN(n,e){return fM(e).filter(t=>!Yx(n,t))}class sN{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=dM(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=hM(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Zo extends sN{get formDirective(){return null}get path(){return null}}class ih extends sN{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class aN{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let cN=(()=>{class n extends aN{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Zo,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&u.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[u.qOj]}),n})();function lN(n,e){return n?`with name: '${e}'`:`at index: ${e}`}const gM=!1,cw="VALID",Xx="INVALID",Ky="PENDING",lw="DISABLED";function _M(n){return(Jx(n)?n.validators:n)||null}function yM(n,e){return(Jx(e)?e.asyncValidators:n)||null}function Jx(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class hN{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===cw}get invalid(){return this.status===Xx}get pending(){return this.status==Ky}get disabled(){return this.status===lw}get enabled(){return this.status!==lw}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(iN(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(iN(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(oN(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(oN(e,this._rawAsyncValidators))}hasValidator(e){return Yx(this._rawValidators,e)}hasAsyncValidator(e){return Yx(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ky,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=lw,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=cw,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===cw||this.status===Ky)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?lw:cw}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ky,this._hasOwnPendingAsyncValidator=!0;const t=KP(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?lw:this.errors?Xx:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ky)?Ky:this._anyControlsHaveStatus(Xx)?Xx:cw}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Jx(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function uj(n){return Array.isArray(n)?dM(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function dj(n){return Array.isArray(n)?hM(n):n||null}(this._rawAsyncValidators)}}class vM extends hN{constructor(e,t,r){super(_M(t),yM(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function dN(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new u.vHH(1002,gM?function lj(n,e){return`Must supply a value for form control ${lN(n,e)}`}(e,i):"")})})(this,!0,e),Object.keys(e).forEach(r=>{(function uN(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new u.vHH(1e3,gM?function aj(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(e):"");if(!r[t])throw new u.vHH(1001,gM?function cj(n,e){return`Cannot find form control ${lN(n,e)}`}(e,t):"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,a)=>{r=t(r,i,a)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const Yy=new u.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>eC}),eC="always";function uw(n,e,t=eC){bM(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function pj(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&fN(n,e)})}(n,e),function gj(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function mj(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&fN(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function fj(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function nC(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),iC(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function rC(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function bM(n,e){const t=nN(n);null!==e.validator?n.setValidators(tN(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=rN(n);null!==e.asyncValidator?n.setAsyncValidators(tN(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();rC(e._rawValidators,i),rC(e._rawAsyncValidators,i)}function iC(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=nN(n);if(Array.isArray(i)&&i.length>0){const a=i.filter(l=>l!==e.validator);a.length!==i.length&&(t=!0,n.setValidators(a))}}if(null!==e.asyncValidator){const i=rN(n);if(Array.isArray(i)&&i.length>0){const a=i.filter(l=>l!==e.asyncValidator);a.length!==i.length&&(t=!0,n.setAsyncValidators(a))}}}const r=()=>{};return rC(e._rawValidators,r),rC(e._rawAsyncValidators,r),t}function fN(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function pN(n,e){bM(n,e)}function mN(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}const wj={provide:Zo,useExisting:(0,u.Gpc)(()=>hw)},dw=(()=>Promise.resolve())();let hw=(()=>{class n extends Zo{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new u.vpe,this.form=new vM({},dM(t),hM(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){dw.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),uw(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){dw.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){dw.then(()=>{const r=this._findContainer(t.path),i=new vM({});pN(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){dw.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){dw.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,mN(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Eo,10),u.Y36(gp,10),u.Y36(Yy,8))},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&u.NdJ("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([wj]),u.qOj]}),n})();function gN(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function _N(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const yN=class extends hN{constructor(e=null,t,r){super(_M(t),yM(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Jx(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=_N(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){gN(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){gN(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){_N(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let IN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),CN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const Mj={provide:Zo,useExisting:(0,u.Gpc)(()=>oC)};let oC=(()=>{class n extends Zo{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new u.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(iC(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return uw(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){nC(t.control||null,t,!1),function bj(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,mN(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(nC(r||null,t),(n=>n instanceof yN)(i)&&(uw(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);pN(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function _j(n,e){return iC(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){bM(this.form,this),this._oldForm&&iC(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Eo,10),u.Y36(gp,10),u.Y36(Yy,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&u.NdJ("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([Mj]),u.qOj,u.TTD]}),n})(),Zj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[CN]}),n})(),Yj=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Yy,useValue:t.callSetDisabledState??eC}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Zj]}),n})();class $N{}class Qj{}const oh="*";function zN(n,e){return{type:7,name:n,definitions:e,options:{}}}function sC(n,e=null){return{type:4,styles:e,timings:n}}function GN(n,e=null){return{type:2,steps:n,options:e}}function sh(n){return{type:6,styles:n,offset:null}}function aC(n,e,t){return{type:0,name:n,styles:e,options:t}}function cC(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function qN(n){Promise.resolve().then(n)}class fw{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){qN(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class WN{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const a=this.players.length;0==a?qN(()=>this._onFinish()):this.players.forEach(l=>{l.onDone(()=>{++t==a&&this._onFinish()}),l.onDestroy(()=>{++r==a&&this._onDestroy()}),l.onStart(()=>{++i==a&&this._onStart()})}),this.totalTime=this.players.reduce((l,f)=>Math.max(l,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const SM="!",Xj=["matFormFieldNotchedOutline",""],Jj=["*"],eH=["textField"],tH=["iconPrefixContainer"],nH=["textPrefixContainer"];function rH(n,e){1&n&&u._UZ(0,"span",19)}function iH(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"label",17),u.NdJ("cdkObserveContent",function(){u.CHM(t);const i=u.oxw(2);return u.KtG(i._refreshOutlineNotchWidth())}),u.Hsn(1,1),u.YNc(2,rH,1,0,"span",18),u.qZA()}if(2&n){const t=u.oxw(2);u.Q6J("floating",t._shouldLabelFloat())("cdkObserveContentDisabled",!t._hasOutline())("id",t._labelId),u.uIk("for",t._control.id)("aria-owns",t._control.id),u.xp6(2),u.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required)}}function oH(n,e){if(1&n&&u.YNc(0,iH,3,6,"label",16),2&n){const t=u.oxw();u.Q6J("ngIf",t._hasFloatingLabel())}}function sH(n,e){1&n&&u._UZ(0,"div",20)}function aH(n,e){}function cH(n,e){if(1&n&&u.YNc(0,aH,0,0,"ng-template",22),2&n){u.oxw(2);const t=u.MAs(1);u.Q6J("ngTemplateOutlet",t)}}function lH(n,e){if(1&n&&(u.TgZ(0,"div",21),u.YNc(1,cH,1,1,"ng-template",9),u.qZA()),2&n){const t=u.oxw();u.Q6J("matFormFieldNotchedOutlineOpen",t._shouldLabelFloat())("matFormFieldNotchedOutlineLabelWidth",t._labelWidth),u.xp6(1),u.Q6J("ngIf",!t._forceDisplayInfixLabel())}}function uH(n,e){1&n&&(u.TgZ(0,"div",23,24),u.Hsn(2,2),u.qZA())}function dH(n,e){1&n&&(u.TgZ(0,"div",25,26),u.Hsn(2,3),u.qZA())}function hH(n,e){}function fH(n,e){if(1&n&&u.YNc(0,hH,0,0,"ng-template",22),2&n){u.oxw();const t=u.MAs(1);u.Q6J("ngTemplateOutlet",t)}}function pH(n,e){1&n&&(u.TgZ(0,"div",27),u.Hsn(1,4),u.qZA())}function mH(n,e){1&n&&(u.TgZ(0,"div",28),u.Hsn(1,5),u.qZA())}function gH(n,e){1&n&&u._UZ(0,"div",29)}function _H(n,e){if(1&n&&(u.TgZ(0,"div",30),u.Hsn(1,6),u.qZA()),2&n){const t=u.oxw();u.Q6J("@transitionMessages",t._subscriptAnimationState)}}function yH(n,e){if(1&n&&(u.TgZ(0,"mat-hint",34),u._uU(1),u.qZA()),2&n){const t=u.oxw(2);u.Q6J("id",t._hintLabelId),u.xp6(1),u.Oqu(t.hintLabel)}}function vH(n,e){if(1&n&&(u.TgZ(0,"div",31),u.YNc(1,yH,2,2,"mat-hint",32),u.Hsn(2,7),u._UZ(3,"div",33),u.Hsn(4,8),u.qZA()),2&n){const t=u.oxw();u.Q6J("@transitionMessages",t._subscriptAnimationState),u.xp6(1),u.Q6J("ngIf",t.hintLabel)}}const bH=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],wH=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let lC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["mat-label"]]}),n})();const EH=new u.OlP("MatError");let IH=0,ZN=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+IH++}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(t,r){2&t&&(u.Ikx("id",r.id),u.uIk("align",null),u.ekj("mat-mdc-form-field-hint-end","end"===r.align))},inputs:{align:"align",id:"id"}}),n})();const xH=new u.OlP("MatPrefix"),CH=new u.OlP("MatSuffix");let KN=(()=>{class n{constructor(t){this._elementRef=t,this.floating=!1}getWidth(){return function TH(n){if(null!==n.offsetParent)return n.scrollWidth;const t=n.cloneNode(!0);t.style.setProperty("position","absolute"),t.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(t);const r=t.scrollWidth;return t.remove(),r}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(t,r){2&t&&u.ekj("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating"}}),n})();const YN="mdc-line-ripple--active",uC="mdc-line-ripple--deactivating";let QN=(()=>{class n{constructor(t,r){this._elementRef=t,this._handleTransitionEnd=i=>{const a=this._elementRef.nativeElement.classList,l=a.contains(uC);"opacity"===i.propertyName&&l&&a.remove(YN,uC)},r.runOutsideAngular(()=>{t.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const t=this._elementRef.nativeElement.classList;t.remove(uC),t.add(YN)}deactivate(){this._elementRef.nativeElement.classList.add(uC)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275dir=u.lG2({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]}),n})(),XN=(()=>{class n{constructor(t,r){this._elementRef=t,this._ngZone=r,this.labelWidth=0,this.open=!1}ngAfterViewInit(){const t=this._elementRef.nativeElement.querySelector(".mdc-floating-label");t?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(t.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>t.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_getNotchWidth(){return this.open?this.labelWidth>0?`calc(${this.labelWidth}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:"0px":null}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275cmp=u.Xpm({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(t,r){2&t&&u.ekj("mdc-notched-outline--notched",r.open)},inputs:{labelWidth:["matFormFieldNotchedOutlineLabelWidth","labelWidth"],open:["matFormFieldNotchedOutlineOpen","open"]},attrs:Xj,ngContentSelectors:Jj,decls:4,vars:2,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],[1,"mdc-notched-outline__trailing"]],template:function(t,r){1&t&&(u.F$t(),u._UZ(0,"div",0),u.TgZ(1,"div",1),u.Hsn(2),u.qZA(),u._UZ(3,"div",2)),2&t&&(u.xp6(1),u.Udp("width",r._getNotchWidth()))},encapsulation:2,changeDetection:0}),n})();const DH={transitionMessages:zN("transitionMessages",[aC("enter",sh({opacity:1,transform:"translateY(0%)"})),cC("void => enter",[sh({opacity:0,transform:"translateY(-5px)"}),sC("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let JN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n}),n})();const eO=new u.OlP("MatFormField"),AH=new u.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let tO=0,iO=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=fp(t)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(t){const r=this._appearance;this._appearance=t||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==r&&(this._refreshOutlineNotchWidth(),this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(t){this._subscriptSizing=t||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(t){this._explicitFormFieldControl=t}constructor(t,r,i,a,l,f,_,w){this._elementRef=t,this._changeDetectorRef=r,this._ngZone=i,this._dir=a,this._platform=l,this._defaults=f,this._animationMode=_,this._document=w,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+tO++,this._hintLabelId="mat-mdc-hint-"+tO++,this._subscriptAnimationState="",this._labelWidth=0,this._destroyed=new kn.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,f&&(f.appearance&&(this.appearance=f.appearance),this._hideRequiredMarker=Boolean(f?.hideRequiredMarker),f.color&&(this.color=f.color))}ngAfterViewInit(){this._updateFocusState(),this._refreshOutlineNotchWidth(),this._document?.fonts?.ready?this._document.fonts.ready.then(()=>{this._refreshOutlineNotchWidth(),this._changeDetectorRef.markForCheck()}):setTimeout(()=>this._refreshOutlineNotchWidth(),100),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${t.controlType}`),t.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(ow(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(t=>!t._isText),this._hasTextPrefix=!!this._prefixChildren.find(t=>t._isText),this._hasIconSuffix=!!this._suffixChildren.find(t=>!t._isText),this._hasTextSuffix=!!this._suffixChildren.find(t=>t._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,vk.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(ow(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(ow(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(t){const r=this._control?this._control.ngControl:null;return r&&r[t]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||(this._labelWidth=this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const r=this._hintChildren?this._hintChildren.find(a=>"start"===a.align):null,i=this._hintChildren?this._hintChildren.find(a=>"end"===a.align):null;r?t.push(r.id):this._hintLabel&&t.push(this._hintLabelId),i&&t.push(i.id)}else this._errorChildren&&t.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(t)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const t=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(t.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const r=this._iconPrefixContainer?.nativeElement,i=this._textPrefixContainer?.nativeElement,a=r?.getBoundingClientRect().width??0,l=i?.getBoundingClientRect().width??0;t.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${a+l}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const t=this._elementRef.nativeElement;if(t.getRootNode){const r=t.getRootNode();return r&&r!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.sBO),u.Y36(u.R0b),u.Y36(iU),u.Y36(rh),u.Y36(AH,8),u.Y36(u.QbO,8),u.Y36(re))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,r,i){if(1&t&&(u.Suo(i,lC,5),u.Suo(i,lC,7),u.Suo(i,JN,5),u.Suo(i,xH,5),u.Suo(i,CH,5),u.Suo(i,EH,5),u.Suo(i,ZN,5)),2&t){let a;u.iGM(a=u.CRH())&&(r._labelChildNonStatic=a.first),u.iGM(a=u.CRH())&&(r._labelChildStatic=a.first),u.iGM(a=u.CRH())&&(r._formFieldControl=a.first),u.iGM(a=u.CRH())&&(r._prefixChildren=a),u.iGM(a=u.CRH())&&(r._suffixChildren=a),u.iGM(a=u.CRH())&&(r._errorChildren=a),u.iGM(a=u.CRH())&&(r._hintChildren=a)}},viewQuery:function(t,r){if(1&t&&(u.Gf(eH,5),u.Gf(tH,5),u.Gf(nH,5),u.Gf(KN,5),u.Gf(XN,5),u.Gf(QN,5)),2&t){let i;u.iGM(i=u.CRH())&&(r._textField=i.first),u.iGM(i=u.CRH())&&(r._iconPrefixContainer=i.first),u.iGM(i=u.CRH())&&(r._textPrefixContainer=i.first),u.iGM(i=u.CRH())&&(r._floatingLabel=i.first),u.iGM(i=u.CRH())&&(r._notchedOutline=i.first),u.iGM(i=u.CRH())&&(r._lineRipple=i.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(t,r){2&t&&u.ekj("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===r._animationMode)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary","accent"!==r.color&&"warn"!==r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[u._Bn([{provide:eO,useExisting:n}])],ngContentSelectors:wH,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(t,r){1&t&&(u.F$t(bH),u.YNc(0,oH,1,1,"ng-template",null,0,u.W1O),u.TgZ(2,"div",1,2),u.NdJ("click",function(a){return r._control.onContainerClick&&r._control.onContainerClick(a)}),u.YNc(4,sH,1,0,"div",3),u.TgZ(5,"div",4),u.YNc(6,lH,2,3,"div",5),u.YNc(7,uH,3,0,"div",6),u.YNc(8,dH,3,0,"div",7),u.TgZ(9,"div",8),u.YNc(10,fH,1,1,"ng-template",9),u.Hsn(11),u.qZA(),u.YNc(12,pH,2,0,"div",10),u.YNc(13,mH,2,0,"div",11),u.qZA(),u.YNc(14,gH,1,0,"div",12),u.qZA(),u.TgZ(15,"div",13),u.YNc(16,_H,2,1,"div",14),u.YNc(17,vH,5,2,"div",15),u.qZA()),2&t&&(u.xp6(2),u.ekj("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),u.xp6(2),u.Q6J("ngIf",!r._hasOutline()&&!r._control.disabled),u.xp6(2),u.Q6J("ngIf",r._hasOutline()),u.xp6(1),u.Q6J("ngIf",r._hasIconPrefix),u.xp6(1),u.Q6J("ngIf",r._hasTextPrefix),u.xp6(2),u.Q6J("ngIf",!r._hasOutline()||r._forceDisplayInfixLabel()),u.xp6(2),u.Q6J("ngIf",r._hasTextSuffix),u.xp6(1),u.Q6J("ngIf",r._hasIconSuffix),u.xp6(1),u.Q6J("ngIf",!r._hasOutline()),u.xp6(1),u.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===r.subscriptSizing),u.Q6J("ngSwitch",r._getDisplayedMessages()),u.xp6(1),u.Q6J("ngSwitchCase","error"),u.xp6(1),u.Q6J("ngSwitchCase","hint"))},dependencies:[co,dr,lo,Jo,OV,ZN,KN,XN,QN],styles:['.mdc-text-field{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;border-top:1px solid;border-bottom:1px solid;pointer-events:none}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid;flex-grow:1}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 12px * 2)}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-10.25px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-10.25px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-24.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-24.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-106%) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-106%) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}'],encapsulation:2,data:{animation:[DH.transitionMessages]},changeDetection:0}),n})(),MM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Ts,Ur,oM,Ts]}),n})();const RH=new u.OlP("MAT_INPUT_VALUE_ACCESSOR"),kH=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let PH=0;const NH=lU(class{constructor(n,e,t,r){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=r,this.stateChanges=new kn.x}});let oO=(()=>{class n extends NH{get disabled(){return this._disabled}set disabled(t){this._disabled=fp(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(tj.required)??!1}set required(t){this._required=fp(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&cP().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=fp(t)}constructor(t,r,i,a,l,f,_,w,T,R){super(f,a,l,i),this._elementRef=t,this._platform=r,this._autofillMonitor=w,this._formField=R,this._uid="mat-input-"+PH++,this.focused=!1,this.stateChanges=new kn.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(q=>cP().has(q)),this._iOSKeyupListener=q=>{const J=q.target;!J.value&&0===J.selectionStart&&0===J.selectionEnd&&(J.setSelectionRange(1,1),J.setSelectionRange(0,0))};const F=this._elementRef.nativeElement,U=F.nodeName.toLowerCase();this._inputValueAccessor=_||F,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&T.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===U,this._isTextarea="textarea"===U,this._isInFormField=!!R,this._isNativeSelect&&(this.controlType=F.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_dirtyCheckPlaceholder(){const t=this._getPlaceholder();if(t!==this._previousPlaceholder){const r=this._elementRef.nativeElement;this._previousPlaceholder=t,t?r.setAttribute("placeholder",t):r.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){kH.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,r=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&r&&r.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(rh),u.Y36(ih,10),u.Y36(hw,8),u.Y36(oC,8),u.Y36(dU),u.Y36(RH,10),u.Y36(WU),u.Y36(u.R0b),u.Y36(eO,8))},n.\u0275dir=u.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(t,r){1&t&&u.NdJ("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&t&&(u.Ikx("id",r.id)("disabled",r.disabled)("required",r.required),u.uIk("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),u.ekj("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[u._Bn([{provide:JN,useExisting:n}]),u.qOj,u.TTD]}),n})(),OH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Ts,MM,MM,ZU,Ts]}),n})(),FH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-comments-form"]],decls:19,vars:0,consts:[[1,"example-card","shadow-effect"],[1,"example-form"],[1,"example-full-width"],["matInput","","placeholder","Enter your name here"],["matInput","","placeholder","Ex. It makes me feel..."],["mat-button","",1,"btn","btn-info","btn-sub"]],template:function(t,r){1&t&&(u.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title"),u._uU(3,"Leave a Comment"),u.qZA(),u.TgZ(4,"mat-card-subtitle"),u._uU(5,"You cab leave a comment using this comment form"),u.qZA()(),u.TgZ(6,"mat-card-content")(7,"form",1)(8,"mat-form-field",2)(9,"mat-label"),u._uU(10,"Name"),u.qZA(),u._UZ(11,"input",3),u.qZA(),u.TgZ(12,"mat-form-field",2)(13,"mat-label"),u._uU(14,"Comment"),u.qZA(),u._UZ(15,"textarea",4),u.qZA()()(),u.TgZ(16,"mat-card-actions")(17,"button",5),u._uU(18,"ADD A COMMENT"),u.qZA()()())},dependencies:[Au,Zy,Ag,Sg,aM,Wy,lM,oO,iO,lC,IN,cN,hw],styles:[".example-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%}.example-full-width[_ngcontent-%COMP%]{width:100%}"]}),n})();function LH(n,e){1&n&&(u.TgZ(0,"small",16),u._uU(1,"Featured"),u.qZA())}function BH(n,e){if(1&n&&(u.TgZ(0,"div",7)(1,"div",8),u._UZ(2,"img",9),u.qZA(),u.TgZ(3,"div",10)(4,"small",11),u._uU(5),u.qZA(),u.YNc(6,LH,2,0,"small",12),u.TgZ(7,"small",13),u._uU(8),u.qZA(),u.TgZ(9,"small",14),u._uU(10),u.ALo(11,"date"),u.qZA(),u.TgZ(12,"h1",15),u._uU(13),u.qZA(),u.TgZ(14,"P"),u._uU(15),u.qZA()()()),2&n){const t=u.oxw();u.xp6(2),u.s9C("src",t.singlePost.postImgPath,u.LSH),u.xp6(3),u.Oqu(t.singlePost.category.category),u.xp6(1),u.Q6J("ngIf",t.singlePost.isFeatured),u.xp6(2),u.hij("Views - ",t.singlePost.views,""),u.xp6(2),u.hij("Last updated - ",u.lcZ(11,7,t.singlePost.createAt.toMillis()),""),u.xp6(3),u.hij(" ",t.singlePost.title,""),u.xp6(2),u.Oqu(t.singlePost.content)}}function VH(n,e){if(1&n&&u._UZ(0,"app-post-card",21),2&n){const t=u.oxw().$implicit;u.Q6J("postData",t)}}function UH(n,e){if(1&n&&(u.TgZ(0,"div"),u.YNc(1,VH,1,1,"app-post-card",20),u.qZA()),2&n){const t=e.$implicit,r=u.oxw(2);u.xp6(1),u.Q6J("ngIf",t.id!=r.singlePostId)}}function jH(n,e){if(1&n&&(u.TgZ(0,"div",17)(1,"mat-card",18)(2,"mat-card-header")(3,"mat-card-title"),u._uU(4,"Similar Posts"),u.qZA()(),u.YNc(5,UH,2,1,"div",19),u.qZA()()),2&n){const t=u.oxw();u.xp6(5),u.Q6J("ngForOf",t.sameCategoryPosts)}}let HH=(()=>{class n{constructor(t,r){this.postService=t,this.route=r,this.sameCategoryPosts=[]}ngOnInit(){this.route.params.subscribe(t=>{this.singlePostId=t.id,this.postService.countViews(this.singlePostId),this.postService.loadSinglePost(t.id).subscribe(r=>{this.singlePost=r,console.log("single",this.singlePost),this.postService.loadCategoryPosts(this.singlePost.category.categoryId).subscribe(i=>{this.sameCategoryPosts=i,console.log("similar",this.sameCategoryPosts)})})})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(tM),u.Y36(sr))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-single-post"]],decls:9,vars:2,consts:[[1,"singlePostCard"],[1,"container","mt-2"],[1,"row"],[1,"col-md-9"],["class","card shadow-effect",4,"ngIf"],[1,"mt-5"],["class","col-md-3",4,"ngIf"],[1,"card","shadow-effect"],[1,"card-image-container"],["alt","",3,"src"],[1,"caard-body","mt-2"],[1,"bg-ligh","text-danger","text-center"],["class","bg-ligh text-success text-center ml-2",4,"ngIf"],[1,"bg-ligh","text-info","text-center","ml-2"],[1,"bg-ligh","text-warning","text-center","ml-2"],[1,"mt-3","mb-3"],[1,"bg-ligh","text-success","text-center","ml-2"],[1,"col-md-3"],[1,"p-2"],[4,"ngFor","ngForOf"],[3,"postData",4,"ngIf"],[3,"postData"]],template:function(t,r){1&t&&(u.TgZ(0,"mat-card",0)(1,"div",1)(2,"div",2)(3,"div",3),u.YNc(4,BH,16,9,"div",4),u.TgZ(5,"div",5),u._UZ(6,"app-comments-form"),u.qZA(),u._UZ(7,"app-comments-list"),u.qZA(),u.YNc(8,jH,6,1,"div",6),u.qZA()()()),2&t&&(u.xp6(4),u.Q6J("ngIf",r.singlePost),u.xp6(4),u.Q6J("ngIf",r.sameCategoryPosts.length>1))},dependencies:[To,co,Au,Sg,Wy,qU,FH,cM,ei],styles:[".example-header-image[_ngcontent-%COMP%]{background-size:cover}.card-image-container[_ngcontent-%COMP%]{height:220px;overflow:hidden}.singlePostCard[_ngcontent-%COMP%]{margin:15px;border:2px solid #ccc;border-radius:10px}"]}),n})();function $H(n,e){if(1&n&&(u.TgZ(0,"div",5),u._UZ(1,"app-post-card",6),u.qZA()),2&n){const t=e.$implicit;u.xp6(1),u.Q6J("postData",t)}}const zH=[{path:"",component:FU},{path:"category/:category/:id",component:(()=>{class n{constructor(t,r){this.postService=t,this.route=r,this.categoryPosts=[],this.categoryName=""}ngOnInit(){this.route.params.subscribe(t=>{this.categoryName=t.category,this.categoryId=t.id,this.postService.loadCategoryPosts(this.categoryId).subscribe(r=>{this.categoryPosts=r})})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(tM),u.Y36(sr))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-single-category"]],decls:11,vars:3,consts:[[1,"container"],[1,"text-black"],[1,"container","mt-5","mb-5"],[1,"row"],["class","col-md-4 mb-3",4,"ngFor","ngForOf"],[1,"col-md-4","mb-3"],[3,"postData"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"mat-card")(2,"mat-card-header")(3,"h2",1),u._uU(4),u.qZA()(),u.TgZ(5,"mat-card-content")(6,"p",1),u._uU(7),u.qZA()()()(),u.TgZ(8,"div",2)(9,"div",3),u.YNc(10,$H,2,1,"div",4),u.qZA()()),2&t&&(u.xp6(4),u.hij("",r.categoryName," posts"),u.xp6(3),u.hij("",r.categoryName," Related posts are here "),u.xp6(3),u.Q6J("ngForOf",r.categoryPosts))},dependencies:[To,Au,Ag,Sg,cM]}),n})()},{path:"post/:title/:id",component:HH},{path:"about",component:(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-about-us"]],decls:12,vars:0,consts:[[1,"card","mt-5","shadow-effect"],[1,"container","mt-5","mb-5","p-5"],[1,"card-body","p-5","mt-4","bg-theme"],[1,"text-white","text-center"],[1,"example-card","mt-2","ml-5","shadow-effect"],[1,"btn","btn-info","btn-sm","mt-4"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),u._uU(4,"About Us"),u.qZA(),u.TgZ(5,"mat-card",4)(6,"mat-card-content")(7,"p"),u._uU(8,"This card indeterminates progress bar."),u.qZA()(),u.TgZ(9,"mat-card-actions")(10,"button",5),u._uU(11,"BACK TO GOME"),u.qZA()()()()()())},dependencies:[Au,Zy,Ag]}),n})()},{path:"term-con",component:(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-terms-and-conds"]],decls:12,vars:0,consts:[[1,"card","mt-5","shadow-effect"],[1,"container","mt-5","mb-5","p-5"],[1,"card-body","p-5","mt-4","bg-theme"],[1,"text-white","text-center"],[1,"example-card","mt-2","ml-5","shadow-effect"],[1,"btn","btn-info","btn-sm","mt-4"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),u._uU(4,"Terms & Conditions"),u.qZA(),u.TgZ(5,"mat-card",4)(6,"mat-card-content")(7,"p"),u._uU(8,"This card indeterminates progress bar."),u.qZA()(),u.TgZ(9,"mat-card-actions")(10,"button",5),u._uU(11,"BACK TO GOME"),u.qZA()()()()()())},dependencies:[Au,Zy,Ag]}),n})()},{path:"contact",component:(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-contact-us"]],decls:2,vars:0,template:function(t,r){1&t&&(u.TgZ(0,"p"),u._uU(1,"contact-us works!"),u.qZA())}}),n})()}];let GH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[vT.forRoot(zH),vT]}),n})(),qH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-header"]],decls:4,vars:0,consts:[[1,"navbar","navbar-expand-lg","fixed-top","bg-white"],[1,"container","justify-content-center"],[1,"logo"]],template:function(t,r){1&t&&(u.TgZ(0,"header",0)(1,"div",1)(2,"h3",2),u._uU(3," Code Blog "),u.qZA()()())},styles:["header[_ngcontent-%COMP%]{height:100px;position:absolute;top:0}.logo[_ngcontent-%COMP%]{padding:5px 20px;border-radius:20px;background-color:#9e9ec0;color:#000;font-size:1.5em;font-weight:bolder}"]}),n})(),WH=(()=>{class n{constructor(t){this.store=t}loadData(){return this.store.collection("catergories").snapshotChanges().pipe((0,ct.U)(t=>t.map(r=>({data:r.payload.doc.data(),id:r.payload.doc.id}))))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(eM))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class RM{}class _p{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),a=i.toLowerCase(),l=t.slice(r+1).trim();this.maybeSetNormalizedName(i,a),this.headers.has(a)?this.headers.get(a).push(l):this.headers.set(a,[l])}})}:()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{let i;if(i="string"==typeof r?[r]:"number"==typeof r?[r.toString()]:r.map(a=>a.toString()),i.length>0){const a=t.toLowerCase();this.headers.set(a,i),this.maybeSetNormalizedName(t,a)}})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof _p?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new _p;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof _p?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const a=e.value;if(a){let l=this.headers.get(t);if(!l)return;l=l.filter(f=>-1===a.indexOf(f)),0===l.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,l)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class ZH{encodeKey(e){return aO(e)}encodeValue(e){return aO(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const YH=/%(\d[a-f0-9])/gi,QH={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function aO(n){return encodeURIComponent(n).replace(YH,(e,t)=>QH[t]??e)}function dC(n){return`${n}`}class yp{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new ZH,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function KH(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const a=i.indexOf("="),[l,f]=-1==a?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,a)),e.decodeValue(i.slice(a+1))],_=t.get(l)||[];_.push(f),t.set(l,_)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(dC):[dC(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(a=>{t.push({param:r,value:a,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new yp({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(dC(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(dC(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class XH{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function cO(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function lO(n){return typeof Blob<"u"&&n instanceof Blob}function uO(n){return typeof FormData<"u"&&n instanceof FormData}class pw{constructor(e,t,r,i){let a;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function JH(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,a=i):a=r,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new _p),this.context||(this.context=new XH),this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=t;else{const f=t.indexOf("?");this.urlWithParams=t+(-1===f?"?":f<t.length-1?"&":"")+l}}else this.params=new yp,this.urlWithParams=t}serializeBody(){return null===this.body?null:cO(this.body)||lO(this.body)||uO(this.body)||function e$(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof yp?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||uO(this.body)?null:lO(this.body)?this.body.type||null:cO(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof yp?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,a=void 0!==e.body?e.body:this.body,l=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,f=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let _=e.headers||this.headers,w=e.params||this.params;const T=e.context??this.context;return void 0!==e.setHeaders&&(_=Object.keys(e.setHeaders).reduce((R,F)=>R.set(F,e.setHeaders[F]),_)),e.setParams&&(w=Object.keys(e.setParams).reduce((R,F)=>R.set(F,e.setParams[F]),w)),new pw(t,r,a,{params:w,headers:_,context:T,reportProgress:f,responseType:i,withCredentials:l})}}var ro=(()=>((ro=ro||{})[ro.Sent=0]="Sent",ro[ro.UploadProgress=1]="UploadProgress",ro[ro.ResponseHeader=2]="ResponseHeader",ro[ro.DownloadProgress=3]="DownloadProgress",ro[ro.Response=4]="Response",ro[ro.User=5]="User",ro))();class t${constructor(e,t=200,r="OK"){this.headers=e.headers||new _p,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class kM extends t${constructor(e={}){super(e),this.type=ro.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new kM({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function PM(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let NM=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let a;if(t instanceof pw)a=t;else{let _,w;_=i.headers instanceof _p?i.headers:new _p(i.headers),i.params&&(w=i.params instanceof yp?i.params:new yp({fromObject:i.params})),a=new pw(t,r,void 0!==i.body?i.body:null,{headers:_,context:i.context,params:w,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const l=rt(a).pipe(mo(_=>this.handler.handle(_)));if(t instanceof pw||"events"===i.observe)return l;const f=l.pipe(zr(_=>_ instanceof kM));switch(i.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return f.pipe((0,ct.U)(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return f.pipe((0,ct.U)(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return f.pipe((0,ct.U)(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return f.pipe((0,ct.U)(_=>_.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new yp).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,PM(i,r))}post(t,r,i={}){return this.request("POST",t,PM(i,r))}put(t,r,i={}){return this.request("PUT",t,PM(i,r))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(RM))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const p$=["*"];let fC;function mw(n){return function m$(){if(void 0===fC&&(fC=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(fC=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return fC}()?.createHTML(n)||n}function yO(n){return Error(`Unable to find icon with the name "${n}"`)}function vO(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function bO(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class kg{constructor(e,t,r){this.url=e,this.svgText=t,this.options=r}}let pC=(()=>{class n{constructor(t,r,i,a){this._httpClient=t,this._sanitizer=r,this._errorHandler=a,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=i}addSvgIcon(t,r,i){return this.addSvgIconInNamespace("",t,r,i)}addSvgIconLiteral(t,r,i){return this.addSvgIconLiteralInNamespace("",t,r,i)}addSvgIconInNamespace(t,r,i,a){return this._addSvgIconConfig(t,r,new kg(i,null,a))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,r,i,a){const l=this._sanitizer.sanitize(u.q3G.HTML,i);if(!l)throw bO(i);const f=mw(l);return this._addSvgIconConfig(t,r,new kg("",f,a))}addSvgIconSet(t,r){return this.addSvgIconSetInNamespace("",t,r)}addSvgIconSetLiteral(t,r){return this.addSvgIconSetLiteralInNamespace("",t,r)}addSvgIconSetInNamespace(t,r,i){return this._addSvgIconSetConfig(t,new kg(r,null,i))}addSvgIconSetLiteralInNamespace(t,r,i){const a=this._sanitizer.sanitize(u.q3G.HTML,r);if(!a)throw bO(r);const l=mw(a);return this._addSvgIconSetConfig(t,new kg("",l,i))}registerFontClassAlias(t,r=t){return this._fontCssClassesByAlias.set(t,r),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const r=this._sanitizer.sanitize(u.q3G.RESOURCE_URL,t);if(!r)throw vO(t);const i=this._cachedIconsByUrl.get(r);return i?rt(mC(i)):this._loadSvgIconFromConfig(new kg(t,null)).pipe((0,Qn.b)(a=>this._cachedIconsByUrl.set(r,a)),(0,ct.U)(a=>mC(a)))}getNamedSvgIcon(t,r=""){const i=wO(r,t);let a=this._svgIconConfigs.get(i);if(a)return this._getSvgFromConfig(a);if(a=this._getIconConfigFromResolvers(r,t),a)return this._svgIconConfigs.set(i,a),this._getSvgFromConfig(a);const l=this._iconSetConfigs.get(r);return l?this._getSvgFromIconSetConfigs(t,l):ka(yO(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?rt(mC(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,ct.U)(r=>mC(r)))}_getSvgFromIconSetConfigs(t,r){const i=this._extractIconWithNameFromAnySet(t,r);return i?rt(i):FP(r.filter(l=>!l.svgText).map(l=>this._loadSvgIconSetFromConfig(l).pipe(us(f=>{const w=`Loading icon set URL: ${this._sanitizer.sanitize(u.q3G.RESOURCE_URL,l.url)} failed: ${f.message}`;return this._errorHandler.handleError(new Error(w)),rt(null)})))).pipe((0,ct.U)(()=>{const l=this._extractIconWithNameFromAnySet(t,r);if(!l)throw yO(t);return l}))}_extractIconWithNameFromAnySet(t,r){for(let i=r.length-1;i>=0;i--){const a=r[i];if(a.svgText&&a.svgText.toString().indexOf(t)>-1){const l=this._svgElementFromConfig(a),f=this._extractSvgIconFromSet(l,t,a.options);if(f)return f}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,Qn.b)(r=>t.svgText=r),(0,ct.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?rt(null):this._fetchIcon(t).pipe((0,Qn.b)(r=>t.svgText=r))}_extractSvgIconFromSet(t,r,i){const a=t.querySelector(`[id="${r}"]`);if(!a)return null;const l=a.cloneNode(!0);if(l.removeAttribute("id"),"svg"===l.nodeName.toLowerCase())return this._setSvgAttributes(l,i);if("symbol"===l.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(l),i);const f=this._svgElementFromString(mw("<svg></svg>"));return f.appendChild(l),this._setSvgAttributes(f,i)}_svgElementFromString(t){const r=this._document.createElement("DIV");r.innerHTML=t;const i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(t){const r=this._svgElementFromString(mw("<svg></svg>")),i=t.attributes;for(let a=0;a<i.length;a++){const{name:l,value:f}=i[a];"id"!==l&&r.setAttribute(l,f)}for(let a=0;a<t.childNodes.length;a++)t.childNodes[a].nodeType===this._document.ELEMENT_NODE&&r.appendChild(t.childNodes[a].cloneNode(!0));return r}_setSvgAttributes(t,r){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),r&&r.viewBox&&t.setAttribute("viewBox",r.viewBox),t}_fetchIcon(t){const{url:r,options:i}=t,a=i?.withCredentials??!1;if(!this._httpClient)throw function g$(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const l=this._sanitizer.sanitize(u.q3G.RESOURCE_URL,r);if(!l)throw vO(r);const f=this._inProgressUrlFetches.get(l);if(f)return f;const _=this._httpClient.get(l,{responseType:"text",withCredentials:a}).pipe((0,ct.U)(w=>mw(w)),Rc(()=>this._inProgressUrlFetches.delete(l)),(0,bk.B)());return this._inProgressUrlFetches.set(l,_),_}_addSvgIconConfig(t,r,i){return this._svgIconConfigs.set(wO(t,r),i),this}_addSvgIconSetConfig(t,r){const i=this._iconSetConfigs.get(t);return i?i.push(r):this._iconSetConfigs.set(t,[r]),this}_svgElementFromConfig(t){if(!t.svgElement){const r=this._svgElementFromString(t.svgText);this._setSvgAttributes(r,t.options),t.svgElement=r}return t.svgElement}_getIconConfigFromResolvers(t,r){for(let i=0;i<this._resolvers.length;i++){const a=this._resolvers[i](r,t);if(a)return y$(a)?new kg(a.url,null,a.options):new kg(a,null)}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(NM,8),u.LFG(Ll),u.LFG(re,8),u.LFG(u.qLn))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function mC(n){return n.cloneNode(!0)}function wO(n,e){return n+":"+e}function y$(n){return!(!n.url||!n.options)}const v$=TP(class{constructor(n){this._elementRef=n}}),b$=new u.OlP("MAT_ICON_DEFAULT_OPTIONS"),w$=new u.OlP("mat-icon-location",{providedIn:"root",factory:function E$(){const n=(0,u.f3M)(re),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),EO=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],I$=EO.map(n=>`[${n}]`).join(", "),x$=/^url\(['"]?#(.*?)['"]?\)$/;let C$=(()=>{class n extends v${get inline(){return this._inline}set inline(t){this._inline=fp(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const r=this._cleanupFontValue(t);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const r=this._cleanupFontValue(t);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}constructor(t,r,i,a,l,f){super(t),this._iconRegistry=r,this._location=a,this._errorHandler=l,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Pa.w0.EMPTY,f&&(f.color&&(this.color=this.defaultColor=f.color),f.fontSet&&(this.fontSet=f.fontSet)),i||t.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];const r=t.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let r=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const i=t.childNodes[r];(1!==i.nodeType||"svg"===i.nodeName.toLowerCase())&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(i=>i.length>0);this._previousFontSetClass.forEach(i=>t.classList.remove(i)),r.forEach(i=>t.classList.add(i)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const r=this._elementsWithExternalReferences;r&&r.forEach((i,a)=>{i.forEach(l=>{a.setAttribute(l.name,`url('${t}#${l.value}')`)})})}_cacheChildrenWithExternalReferences(t){const r=t.querySelectorAll(I$),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let a=0;a<r.length;a++)EO.forEach(l=>{const f=r[a],_=f.getAttribute(l),w=_?_.match(x$):null;if(w){let T=i.get(f);T||(T=[],i.set(f,T)),T.push({name:l,value:w[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[r,i]=this._splitIconName(t);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(po(1)).subscribe(a=>this._setSvgElement(a),a=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${i}! ${a.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(pC),u.$8M("aria-hidden"),u.Y36(w$),u.Y36(u.qLn),u.Y36(b$,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(t,r){2&t&&(u.uIk("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),u.ekj("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[u.qOj],ngContentSelectors:p$,decls:1,vars:0,template:function(t,r){1&t&&(u.F$t(),u.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),T$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Ts,Ts]}),n})();const D$=function(n,e){return["/category",n,e]};function A$(n,e){if(1&n&&(u.TgZ(0,"li",7)(1,"a",8),u._uU(2),u.qZA()()),2&n){const t=e.$implicit;u.xp6(1),u.Q6J("routerLink",u.WLB(2,D$,t.data.category,t.id)),u.xp6(1),u.Oqu(t.data.category)}}let S$=(()=>{class n{constructor(t){this.categoryService=t,this.categoryArray=[]}ngOnInit(){this.categoryService.loadData().subscribe(t=>{this.categoryArray=t})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(WH))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-category-navbar"]],decls:8,vars:1,consts:[[1,"navigation"],[1,"navbar","navbar-expand-lg","bg-body-tertiary"],[1,"container-fluid"],[1,"collapse","navbar-collapse","justify-content-center"],[1,"navbar-nav",2,"--bs-scroll-height","100px"],["aria-hidden","false","aria-label","Example home icon","fontIcon","home","routerLink",""],["class","nav-item",4,"ngFor","ngForOf"],[1,"nav-item"],["aria-current","page","href","#",1,"nav-link","active",3,"routerLink"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"nav",1)(2,"div",2)(3,"div",3)(4,"ul",4)(5,"li"),u._UZ(6,"mat-icon",5),u.qZA(),u.YNc(7,A$,3,5,"li",6),u.qZA()()()()()),2&t&&(u.xp6(7),u.Q6J("ngForOf",r.categoryArray))},dependencies:[To,lm,C$],styles:[".navigation[_ngcontent-%COMP%]{padding-top:100px}"]}),n})(),M$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-subscription-form"]],decls:18,vars:0,consts:[[1,"subscription","shadow-effect",2,"text-align","center"],[2,"text-align","center"],[1,"example-full-width","col-md-5"],["type","text","matInput","","placeholder","Your Name"],["type","email","matInput","","placeholder","Ex. pat@example.com"],[1,"col-md-2"],["mat-button","",1,"btn","btn-info","btn-sub"]],template:function(t,r){1&t&&(u.TgZ(0,"mat-card",0)(1,"div")(2,"mat-card-header")(3,"mat-card-title",1),u._uU(4,"Subscription Form"),u.qZA()(),u.TgZ(5,"p"),u._uU(6,"You can make your subscription hare.."),u.qZA(),u.TgZ(7,"mat-form-field",2)(8,"mat-label"),u._uU(9,"Name"),u.qZA(),u._UZ(10,"input",3),u.qZA(),u.TgZ(11,"mat-form-field",2)(12,"mat-label"),u._uU(13,"Email"),u.qZA(),u._UZ(14,"input",4),u.qZA(),u.TgZ(15,"mat-card-actions",5)(16,"button",6),u._uU(17,"SUBSCRIBE"),u.qZA()()()())},dependencies:[Au,Zy,Sg,Wy,lM,oO,iO,lC],styles:[".subscription[_ngcontent-%COMP%]{max-width:75%;margin-left:10%;margin-top:10px}.example-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%}.example-full-width[_ngcontent-%COMP%]{width:50%;margin-right:5px}"]}),n})(),R$=(()=>{class n{constructor(){this.title="blog-app"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-root"]],decls:5,vars:0,consts:[[1,"app-body"]],template:function(t,r){1&t&&(u._UZ(0,"app-header")(1,"app-category-navbar"),u.TgZ(2,"div",0),u._UZ(3,"router-outlet")(4,"app-subscription-form"),u.qZA())},dependencies:[X,qH,S$,M$],styles:[".app-body[_ngcontent-%COMP%]{min-height:85vh}"]}),n})();function IO(n){return new u.vHH(3e3,!1)}function f4(){return typeof window<"u"&&typeof window.document<"u"}function FM(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function vp(n){switch(n.length){case 0:return new fw;case 1:return n[0];default:return new WN(n)}}function xO(n,e,t,r,i=new Map,a=new Map){const l=[],f=[];let _=-1,w=null;if(r.forEach(T=>{const R=T.get("offset"),F=R==_,U=F&&w||new Map;T.forEach((q,J)=>{let ce=J,je=q;if("offset"!==J)switch(ce=e.normalizePropertyName(ce,l),je){case SM:je=i.get(J);break;case oh:je=a.get(J);break;default:je=e.normalizeStyleValue(J,ce,je,l)}U.set(ce,je)}),F||f.push(U),w=U,_=R}),l.length)throw function e4(n){return new u.vHH(3502,!1)}();return f}function LM(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&BM(t,"start",n)));break;case"done":n.onDone(()=>r(t&&BM(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&BM(t,"destroy",n)))}}function BM(n,e,t){const a=VM(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),l=n._data;return null!=l&&(a._data=l),a}function VM(n,e,t,r,i="",a=0,l){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:a,disabled:!!l}}function fa(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function CO(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let UM=(n,e)=>!1,TO=(n,e,t)=>[],DO=null;function jM(n){const e=n.parentNode||n.host;return e===DO?null:e}(FM()||typeof Element<"u")&&(f4()?(DO=(()=>document.documentElement)(),UM=(n,e)=>{for(;e;){if(e===n)return!0;e=jM(e)}return!1}):UM=(n,e)=>n.contains(e),TO=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Pg=null,AO=!1;const SO=UM,MO=TO;let RO=(()=>{class n{validateStyleProperty(t){return function m4(n){Pg||(Pg=function g4(){return typeof document<"u"?document.body:null}()||{},AO=!!Pg.style&&"WebkitAppearance"in Pg.style);let e=!0;return Pg.style&&!function p4(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Pg.style,!e&&AO&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Pg.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return SO(t,r)}getParentElement(t){return jM(t)}query(t,r,i){return MO(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,a,l,f=[],_){return new fw(i,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),HM=(()=>{class n{}return n.NOOP=new RO,n})();const _4=1e3,$M="ng-enter",gC="ng-leave",_C="ng-trigger",yC=".ng-trigger",PO="ng-animating",zM=".ng-animating";function ah(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:GM(parseFloat(e[1]),e[2])}function GM(n,e){return"s"===e?n*_4:n}function vC(n,e,t){return n.hasOwnProperty("duration")?n:function v4(n,e,t){let i,a=0,l="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(IO()),{duration:0,delay:0,easing:""};i=GM(parseFloat(f[1]),f[2]);const _=f[3];null!=_&&(a=GM(parseFloat(_),f[4]));const w=f[5];w&&(l=w)}else i=n;if(!t){let f=!1,_=e.length;i<0&&(e.push(function k$(){return new u.vHH(3100,!1)}()),f=!0),a<0&&(e.push(function P$(){return new u.vHH(3101,!1)}()),f=!0),f&&e.splice(_,0,IO())}return{duration:i,delay:a,easing:l}}(n,e,t)}function gw(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function NO(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function bp(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function FO(n,e,t){return t?e+":"+t+";":""}function LO(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=FO(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=FO(0,I4(t),n.style[t]));n.setAttribute("style",e)}function Mu(n,e,t){n.style&&(e.forEach((r,i)=>{const a=WM(i);t&&!t.has(i)&&t.set(i,n.style[a]),n.style[a]=r}),FM()&&LO(n))}function Ng(n,e){n.style&&(e.forEach((t,r)=>{const i=WM(r);n.style[i]=""}),FM()&&LO(n))}function _w(n){return Array.isArray(n)?1==n.length?n[0]:GN(n):n}const qM=new RegExp("{{\\s*(.+?)\\s*}}","g");function BO(n){let e=[];if("string"==typeof n){let t;for(;t=qM.exec(n);)e.push(t[1]);qM.lastIndex=0}return e}function yw(n,e,t){const r=n.toString(),i=r.replace(qM,(a,l)=>{let f=e[l];return null==f&&(t.push(function O$(n){return new u.vHH(3003,!1)}()),f=""),f.toString()});return i==r?n:i}function bC(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const E4=/-+([a-z0-9])/g;function WM(n){return n.replace(E4,(...e)=>e[1].toUpperCase())}function I4(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function pa(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function F$(n){return new u.vHH(3004,!1)}()}}function VO(n,e){return window.getComputedStyle(n)[e]}const IC="*";function S4(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function M4(n,e,t){if(":"==n[0]){const _=function R4(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function Y$(n){return new u.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof _)return void e.push(_);n=_}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function K$(n){return new u.vHH(3015,!1)}()),e;const i=r[1],a=r[2],l=r[3];e.push(UO(i,l));"<"==a[0]&&!(i==IC&&l==IC)&&e.push(UO(l,i))}(r,t,e)):t.push(n),t}const xC=new Set(["true","1"]),CC=new Set(["false","0"]);function UO(n,e){const t=xC.has(n)||CC.has(n),r=xC.has(e)||CC.has(e);return(i,a)=>{let l=n==IC||n==i,f=e==IC||e==a;return!l&&t&&"boolean"==typeof i&&(l=i?xC.has(n):CC.has(n)),!f&&r&&"boolean"==typeof a&&(f=a?xC.has(e):CC.has(e)),l&&f}}const k4=new RegExp("s*:selfs*,?","g");function ZM(n,e,t,r){return new P4(n).build(e,t,r)}class P4{constructor(e){this._driver=e}build(e,t,r){const i=new F4(t);return this._resetContextStyleTimingState(i),pa(this,_w(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const a=[],l=[];return"@"==e.name.charAt(0)&&t.errors.push(function B$(){return new u.vHH(3006,!1)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const _=f,w=_.name;w.toString().split(/\s*,\s*/).forEach(T=>{_.name=T,a.push(this.visitState(_,t))}),_.name=w}else if(1==f.type){const _=this.visitTransition(f,t);r+=_.queryCount,i+=_.depCount,l.push(_)}else t.errors.push(function V$(){return new u.vHH(3007,!1)}())}),{type:7,name:e.name,states:a,transitions:l,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const a=new Set,l=i||{};r.styles.forEach(f=>{f instanceof Map&&f.forEach(_=>{BO(_).forEach(w=>{l.hasOwnProperty(w)||a.add(w)})})}),a.size&&(bC(a.values()),t.errors.push(function U$(n,e){return new u.vHH(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=pa(this,_w(e.animation),t);return{type:1,matchers:S4(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Og(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>pa(this,r,t)),options:Og(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const a=e.steps.map(l=>{t.currentTime=r;const f=pa(this,l,t);return i=Math.max(i,t.currentTime),f});return t.currentTime=i,{type:3,steps:a,options:Og(e.options)}}visitAnimate(e,t){const r=function B4(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return KM(vC(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=KM(0,0,"");return a.dynamic=!0,a.strValue=t,a}const i=vC(t,e);return KM(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,a=e.styles?e.styles:sh({});if(5==a.type)i=this.visitKeyframes(a,t);else{let l=e.styles,f=!1;if(!l){f=!0;const w={};r.easing&&(w.easing=r.easing),l=sh(w)}t.currentTime+=r.duration+r.delay;const _=this.visitStyle(l,t);_.isEmptyStep=f,i=_}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let f of i)"string"==typeof f?f===oh?r.push(f):t.errors.push(new u.vHH(3002,!1)):r.push(NO(f));let a=!1,l=null;return r.forEach(f=>{if(f instanceof Map&&(f.has("easing")&&(l=f.get("easing"),f.delete("easing")),!a))for(let _ of f.values())if(_.toString().indexOf("{{")>=0){a=!0;break}}),{type:6,styles:r,easing:l,offset:e.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,a=t.currentTime;r&&a>0&&(a-=r.duration+r.delay),e.styles.forEach(l=>{"string"!=typeof l&&l.forEach((f,_)=>{const w=t.collectedStyles.get(t.currentQuerySelector),T=w.get(_);let R=!0;T&&(a!=i&&a>=T.startTime&&i<=T.endTime&&(t.errors.push(function H$(n,e,t,r,i){return new u.vHH(3010,!1)}()),R=!1),a=T.startTime),R&&w.set(_,{startTime:a,endTime:i}),t.options&&function w4(n,e,t){const r=e.params||{},i=BO(n);i.length&&i.forEach(a=>{r.hasOwnProperty(a)||t.push(function N$(n){return new u.vHH(3001,!1)}())})}(f,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function $$(){return new u.vHH(3011,!1)}()),r;let a=0;const l=[];let f=!1,_=!1,w=0;const T=e.steps.map(je=>{const Ye=this._makeStyleAst(je,t);let ze=null!=Ye.offset?Ye.offset:function L4(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(Ye.styles),Qe=0;return null!=ze&&(a++,Qe=Ye.offset=ze),_=_||Qe<0||Qe>1,f=f||Qe<w,w=Qe,l.push(Qe),Ye});_&&t.errors.push(function z$(){return new u.vHH(3012,!1)}()),f&&t.errors.push(function G$(){return new u.vHH(3200,!1)}());const R=e.steps.length;let F=0;a>0&&a<R?t.errors.push(function q$(){return new u.vHH(3202,!1)}()):0==a&&(F=1/(R-1));const U=R-1,q=t.currentTime,J=t.currentAnimateTimings,ce=J.duration;return T.forEach((je,Ye)=>{const ze=F>0?Ye==U?1:F*Ye:l[Ye],Qe=ze*ce;t.currentTime=q+J.delay+Qe,J.duration=Qe,this._validateStyleAst(je,t),je.offset=ze,r.styles.push(je)}),r}visitReference(e,t){return{type:8,animation:pa(this,_w(e.animation),t),options:Og(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Og(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Og(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[a,l]=function N4(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(k4,"")),n=n.replace(/@\*/g,yC).replace(/@\w+/g,t=>yC+"-"+t.slice(1)).replace(/:animating/g,zM),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+a:a,fa(t.collectedStyles,t.currentQuerySelector,new Map);const f=pa(this,_w(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:a,limit:i.limit||0,optional:!!i.optional,includeSelf:l,animation:f,originalSelector:e.selector,options:Og(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function W$(){return new u.vHH(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:vC(e.timings,t.errors,!0);return{type:12,animation:pa(this,_w(e.animation),t),timings:r,options:null}}}class F4{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Og(n){return n?(n=gw(n)).params&&(n.params=function O4(n){return n?gw(n):null}(n.params)):n={},n}function KM(n,e,t){return{duration:n,delay:e,easing:t}}function YM(n,e,t,r,i,a,l=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:a,totalTime:i+a,easing:l,subTimeline:f}}class TC{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const j4=new RegExp(":enter","g"),$4=new RegExp(":leave","g");function QM(n,e,t,r,i,a=new Map,l=new Map,f,_,w=[]){return(new z4).buildKeyframes(n,e,t,r,i,a,l,f,_,w)}class z4{buildKeyframes(e,t,r,i,a,l,f,_,w,T=[]){w=w||new TC;const R=new XM(e,t,w,i,a,T,[]);R.options=_;const F=_.delay?ah(_.delay):0;R.currentTimeline.delayNextStep(F),R.currentTimeline.setStyles([l],null,R.errors,_),pa(this,r,R);const U=R.timelines.filter(q=>q.containsAnimation());if(U.length&&f.size){let q;for(let J=U.length-1;J>=0;J--){const ce=U[J];if(ce.element===t){q=ce;break}}q&&!q.allowOnlyTimelineStyles()&&q.setStyles([f],null,R.errors,_)}return U.length?U.map(q=>q.buildKeyframes()):[YM(t,[],[],[],0,F,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),a=t.currentTimeline.currentTime,l=this._visitSubInstructions(r,i,i.options);a!=l&&t.transformIntoNewTimeline(l)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const a=i?.delay;if(a){const l="number"==typeof a?a:ah(yw(a,i?.params??{},t.errors));r.delayNextStep(l)}}}_visitSubInstructions(e,t,r){let a=t.currentTimeline.currentTime;const l=null!=r.duration?ah(r.duration):null,f=null!=r.delay?ah(r.delay):null;return 0!==l&&e.forEach(_=>{const w=t.appendInstructionToTimeline(_,l,f);a=Math.max(a,w.duration+w.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),pa(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const a=e.options;if(a&&(a.params||a.delay)&&(i=t.createSubContext(a),i.transformIntoNewTimeline(),null!=a.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=DC);const l=ah(a.delay);i.delayNextStep(l)}e.steps.length&&(e.steps.forEach(l=>pa(this,l,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?ah(e.options.delay):0;e.steps.forEach(l=>{const f=t.createSubContext(e.options);a&&f.delayNextStep(a),pa(this,l,f),i=Math.max(i,f.currentTimeline.currentTime),r.push(f.currentTimeline)}),r.forEach(l=>t.currentTimeline.mergeTimelineCollectedStyles(l)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return vC(t.params?yw(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(r.duration),this.visitStyle(a,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const a=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(a):r.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,a=r.duration,f=t.createSubContext().currentTimeline;f.easing=r.easing,e.styles.forEach(_=>{f.forwardTime((_.offset||0)*a),f.setStyles(_.styles,_.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(i+a),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},a=i.delay?ah(i.delay):0;a&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=DC);let l=r;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=f.length;let _=null;f.forEach((w,T)=>{t.currentQueryIndex=T;const R=t.createSubContext(e.options,w);a&&R.delayNextStep(a),w===t.element&&(_=R.currentTimeline),pa(this,e.animation,R),R.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,R.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(l),_&&(t.currentTimeline.mergeTimelineCollectedStyles(_),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,a=e.timings,l=Math.abs(a.duration),f=l*(t.currentQueryTotal-1);let _=l*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":_=f-_;break;case"full":_=r.currentStaggerTime}const T=t.currentTimeline;_&&T.delayNextStep(_);const R=T.currentTime;pa(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-R+(i.startTime-r.currentTimeline.startTime)}}const DC={};class XM{constructor(e,t,r,i,a,l,f,_){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=a,this.errors=l,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=DC,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new AC(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=ah(r.duration)),null!=r.delay&&(i.delay=ah(r.delay));const a=r.params;if(a){let l=i.params;l||(l=this.options.params={}),Object.keys(a).forEach(f=>{(!t||!l.hasOwnProperty(f))&&(l[f]=yw(a[f],l,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,a=new XM(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=DC,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},a=new G4(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(a),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,a,l){let f=[];if(i&&f.push(this.element),e.length>0){e=(e=e.replace(j4,"."+this._enterClassName)).replace($4,"."+this._leaveClassName);let w=this._driver.query(this.element,e,1!=r);0!==r&&(w=r<0?w.slice(w.length+r,w.length):w.slice(0,r)),f.push(...w)}return!a&&0==f.length&&l.push(function Z$(n){return new u.vHH(3014,!1)}()),f}}class AC{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new AC(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||oh),this._currentKeyframe.set(t,oh);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const a=i&&i.params||{},l=function q4(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let a of r)t.set(a,oh)}else bp(i,t)}),t}(e,this._globalTimelineStyles);for(let[f,_]of l){const w=yw(_,a,r);this._pendingStyles.set(f,w),this._localTimelineStyles.has(f)||this._backFill.set(f,this._globalTimelineStyles.get(f)??oh),this._updateStyle(f,w)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((f,_)=>{const w=bp(f,new Map,this._backFill);w.forEach((T,R)=>{T===SM?e.add(R):T===oh&&t.add(R)}),r||w.set("offset",_/this.duration),i.push(w)});const a=e.size?bC(e.values()):[],l=t.size?bC(t.values()):[];if(r){const f=i[0],_=new Map(f);f.set("offset",0),_.set("offset",1),i=[f,_]}return YM(this.element,i,a,l,this.duration,this.startTime,this.easing,!1)}}class G4 extends AC{constructor(e,t,r,i,a,l,f=!1){super(e,t,l.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=a,this._stretchStartingKeyframe=f,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],l=r+t,f=t/l,_=bp(e[0]);_.set("offset",0),a.push(_);const w=bp(e[0]);w.set("offset",$O(f)),a.push(w);const T=e.length-1;for(let R=1;R<=T;R++){let F=bp(e[R]);const U=F.get("offset");F.set("offset",$O((t+U*r)/l)),a.push(F)}r=l,t=0,i="",e=a}return YM(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function $O(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class JM{}const W4=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Z4 extends JM{normalizePropertyName(e,t){return WM(e)}normalizeStyleValue(e,t,r,i){let a="";const l=r.toString().trim();if(W4.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)a="px";else{const f=r.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&i.push(function L$(n,e){return new u.vHH(3005,!1)}())}return l+a}}function zO(n,e,t,r,i,a,l,f,_,w,T,R,F){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:a,toState:r,toStyles:l,timelines:f,queriedElements:_,preStyleProps:w,postStyleProps:T,totalTime:R,errors:F}}const eR={};class GO{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function K4(n,e,t,r,i){return n.some(a=>a(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,a,l,f,_,w,T){const R=[],F=this.ast.options&&this.ast.options.params||eR,q=this.buildStyles(r,f&&f.params||eR,R),J=_&&_.params||eR,ce=this.buildStyles(i,J,R),je=new Set,Ye=new Map,ze=new Map,Qe="void"===i,St={params:Y4(J,F),delay:this.ast.options?.delay},Ft=T?[]:QM(e,t,this.ast.animation,a,l,q,ce,St,w,R);let fn=0;if(Ft.forEach(xo=>{fn=Math.max(xo.duration+xo.delay,fn)}),R.length)return zO(t,this._triggerName,r,i,Qe,q,ce,[],[],Ye,ze,fn,R);Ft.forEach(xo=>{const uh=xo.element,WF=fa(Ye,uh,new Set);xo.preStyleProps.forEach(Lg=>WF.add(Lg));const xw=fa(ze,uh,new Set);xo.postStyleProps.forEach(Lg=>xw.add(Lg)),uh!==t&&je.add(uh)});const Sr=bC(je.values());return zO(t,this._triggerName,r,i,Qe,q,ce,Ft,Sr,Ye,ze,fn)}}function Y4(n,e){const t=gw(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class Q4{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=gw(this.defaultParams);return Object.keys(e).forEach(a=>{const l=e[a];null!==l&&(i[a]=l)}),this.styles.styles.forEach(a=>{"string"!=typeof a&&a.forEach((l,f)=>{l&&(l=yw(l,i,t));const _=this.normalizer.normalizePropertyName(f,t);l=this.normalizer.normalizeStyleValue(f,_,l,t),r.set(f,l)})}),r}}class J4{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new Q4(i.style,i.options&&i.options.params||{},r))}),qO(this.states,"true","1"),qO(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new GO(e,i,this.states))}),this.fallbackTransition=function e3(n,e,t){return new GO(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(l,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(l=>l.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function qO(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const t3=new TC;class n3{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],i=[],a=ZM(this._driver,t,r,i);if(r.length)throw function t4(n){return new u.vHH(3503,!1)}();this._animations.set(e,a)}_buildPlayer(e,t,r){const i=e.element,a=xO(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],a=this._animations.get(e);let l;const f=new Map;if(a?(l=QM(this._driver,t,a,$M,gC,new Map,new Map,r,t3,i),l.forEach(T=>{const R=fa(f,T.element,new Map);T.postStyleProps.forEach(F=>R.set(F,null))})):(i.push(function n4(){return new u.vHH(3300,!1)}()),l=[]),i.length)throw function r4(n){return new u.vHH(3504,!1)}();f.forEach((T,R)=>{T.forEach((F,U)=>{T.set(U,this._driver.computeStyle(R,U,oh))})});const w=vp(l.map(T=>{const R=f.get(T.element);return this._buildPlayer(T,new Map,R)}));return this._playersById.set(e,w),w.onDestroy(()=>this.destroy(e)),this.players.push(w),w}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function o4(n){return new u.vHH(3301,!1)}();return t}listen(e,t,r,i){const a=VM(t,"","","");return LM(this._getPlayer(e),r,a,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const a=this._getPlayer(e);switch(r){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const WO="ng-animate-queued",tR="ng-animate-disabled",c3=[],ZO={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},l3={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ja="__ng_removed";class nR{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function f3(n){return n??null}(r?e.value:e),r){const a=gw(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const vw="void",rR=new nR(vw);class u3{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,ec(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function s4(n,e){return new u.vHH(3302,!1)}();if(null==r||0==r.length)throw function a4(n){return new u.vHH(3303,!1)}();if(!function p3(n){return"start"==n||"done"==n}(r))throw function c4(n,e){return new u.vHH(3400,!1)}();const a=fa(this._elementListeners,e,[]),l={name:t,phase:r,callback:i};a.push(l);const f=fa(this._engine.statesByElement,e,new Map);return f.has(t)||(ec(e,_C),ec(e,_C+"-"+t),f.set(t,rR)),()=>{this._engine.afterFlush(()=>{const _=a.indexOf(l);_>=0&&a.splice(_,1),this._triggers.has(t)||f.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function l4(n){return new u.vHH(3401,!1)}();return t}trigger(e,t,r,i=!0){const a=this._getTrigger(t),l=new iR(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(ec(e,_C),ec(e,_C+"-"+t),this._engine.statesByElement.set(e,f=new Map));let _=f.get(t);const w=new nR(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&_&&w.absorbOptions(_.options),f.set(t,w),_||(_=rR),w.value!==vw&&_.value===w.value){if(!function _3(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const a=t[i];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(_.params,w.params)){const J=[],ce=a.matchStyles(_.value,_.params,J),je=a.matchStyles(w.value,w.params,J);J.length?this._engine.reportError(J):this._engine.afterFlush(()=>{Ng(e,ce),Mu(e,je)})}return}const F=fa(this._engine.playersByElement,e,[]);F.forEach(J=>{J.namespaceId==this.id&&J.triggerName==t&&J.queued&&J.destroy()});let U=a.matchTransition(_.value,w.value,e,w.params),q=!1;if(!U){if(!i)return;U=a.fallbackTransition,q=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:U,fromState:_,toState:w,player:l,isFallbackTransition:q}),q||(ec(e,WO),l.onStart(()=>{Jy(e,WO)})),l.onDone(()=>{let J=this.players.indexOf(l);J>=0&&this.players.splice(J,1);const ce=this._engine.playersByElement.get(e);if(ce){let je=ce.indexOf(l);je>=0&&ce.splice(je,1)}}),this.players.push(l),F.push(l),l}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,yC,!0);r.forEach(i=>{if(i[Ja])return;const a=this._engine.fetchNamespacesByElement(i);a.size?a.forEach(l=>l.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const a=this._engine.statesByElement.get(e),l=new Map;if(a){const f=[];if(a.forEach((_,w)=>{if(l.set(w,_.value),this._triggers.has(w)){const T=this.trigger(e,w,vw,i);T&&f.push(T)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,l),r&&vp(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(a=>{const l=a.name;if(i.has(l))return;i.add(l);const _=this._triggers.get(l).fallbackTransition,w=r.get(l)||rR,T=new nR(vw),R=new iR(this.id,l,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:l,transition:_,fromState:w,toState:T,player:R,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const a=r.players.length?r.playersByQueriedElement.get(e):[];if(a&&a.length)i=!0;else{let l=e;for(;l=l.parentNode;)if(r.statesByElement.get(l)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const a=e[Ja];(!a||a===ZO)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){ec(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const a=r.element,l=this._elementListeners.get(a);l&&l.forEach(f=>{if(f.name==r.triggerName){const _=VM(a,r.triggerName,r.fromState.value,r.toState.value);_._data=e,LM(r.player,f.phase,_,f.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const a=r.transition.ast.depCount,l=i.transition.ast.depCount;return 0==a||0==l?a-l:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class d3{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,a)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new u3(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let l=!1,f=this.driver.getParentElement(t);for(;f;){const _=i.get(f);if(_){const w=r.indexOf(_);r.splice(w+1,0,e),l=!0;break}f=this.driver.getParentElement(f)}l||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const a=this._fetchNamespace(i.namespaceId);a&&t.add(a)}return t}trigger(e,t,r,i){if(SC(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!SC(t))return;const a=t[Ja];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const l=this.collectedLeaveElements.indexOf(t);l>=0&&this.collectedLeaveElements.splice(l,1)}if(e){const l=this._fetchNamespace(e);l&&l.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),ec(e,tR)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Jy(e,tR))}removeNode(e,t,r,i){if(SC(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const l=this.namespacesByHostElement.get(t);l&&l.id!==e&&l.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,a){this.collectedLeaveElements.push(t),t[Ja]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,r,i,a){return SC(t)?this._fetchNamespace(e).listen(t,r,i,a):()=>{}}_buildInstruction(e,t,r,i,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,yC,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,zM,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return vp(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Ja];if(t&&t.setForRemoval){if(e[Ja]=ZO,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(tR)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)ec(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?vp(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function u4(n){return new u.vHH(3402,!1)}()}_flushAnimations(e,t){const r=new TC,i=[],a=new Map,l=[],f=new Map,_=new Map,w=new Map,T=new Set;this.disabledNodes.forEach(Ct=>{T.add(Ct);const Lt=this.driver.query(Ct,".ng-animate-queued",!0);for(let Gt=0;Gt<Lt.length;Gt++)T.add(Lt[Gt])});const R=this.bodyNode,F=Array.from(this.statesByElement.keys()),U=QO(F,this.collectedEnterElements),q=new Map;let J=0;U.forEach((Ct,Lt)=>{const Gt=$M+J++;q.set(Lt,Gt),Ct.forEach(En=>ec(En,Gt))});const ce=[],je=new Set,Ye=new Set;for(let Ct=0;Ct<this.collectedLeaveElements.length;Ct++){const Lt=this.collectedLeaveElements[Ct],Gt=Lt[Ja];Gt&&Gt.setForRemoval&&(ce.push(Lt),je.add(Lt),Gt.hasAnimation?this.driver.query(Lt,".ng-star-inserted",!0).forEach(En=>je.add(En)):Ye.add(Lt))}const ze=new Map,Qe=QO(F,Array.from(je));Qe.forEach((Ct,Lt)=>{const Gt=gC+J++;ze.set(Lt,Gt),Ct.forEach(En=>ec(En,Gt))}),e.push(()=>{U.forEach((Ct,Lt)=>{const Gt=q.get(Lt);Ct.forEach(En=>Jy(En,Gt))}),Qe.forEach((Ct,Lt)=>{const Gt=ze.get(Lt);Ct.forEach(En=>Jy(En,Gt))}),ce.forEach(Ct=>{this.processLeaveNode(Ct)})});const St=[],Ft=[];for(let Ct=this._namespaceList.length-1;Ct>=0;Ct--)this._namespaceList[Ct].drainQueuedTransitions(t).forEach(Gt=>{const En=Gt.player,Ui=Gt.element;if(St.push(En),this.collectedEnterElements.length){const Co=Ui[Ja];if(Co&&Co.setForMove){if(Co.previousTriggersValues&&Co.previousTriggersValues.has(Gt.triggerName)){const Bg=Co.previousTriggersValues.get(Gt.triggerName),tc=this.statesByElement.get(Gt.element);if(tc&&tc.has(Gt.triggerName)){const VC=tc.get(Gt.triggerName);VC.value=Bg,tc.set(Gt.triggerName,VC)}}return void En.destroy()}}const Nu=!R||!this.driver.containsElement(R,Ui),ga=ze.get(Ui),Ep=q.get(Ui),Mr=this._buildInstruction(Gt,r,Ep,ga,Nu);if(Mr.errors&&Mr.errors.length)return void Ft.push(Mr);if(Nu)return En.onStart(()=>Ng(Ui,Mr.fromStyles)),En.onDestroy(()=>Mu(Ui,Mr.toStyles)),void i.push(En);if(Gt.isFallbackTransition)return En.onStart(()=>Ng(Ui,Mr.fromStyles)),En.onDestroy(()=>Mu(Ui,Mr.toStyles)),void i.push(En);const YF=[];Mr.timelines.forEach(Co=>{Co.stretchStartingKeyframe=!0,this.disabledNodes.has(Co.element)||YF.push(Co)}),Mr.timelines=YF,r.append(Ui,Mr.timelines),l.push({instruction:Mr,player:En,element:Ui}),Mr.queriedElements.forEach(Co=>fa(f,Co,[]).push(En)),Mr.preStyleProps.forEach((Co,Bg)=>{if(Co.size){let tc=_.get(Bg);tc||_.set(Bg,tc=new Set),Co.forEach((VC,bR)=>tc.add(bR))}}),Mr.postStyleProps.forEach((Co,Bg)=>{let tc=w.get(Bg);tc||w.set(Bg,tc=new Set),Co.forEach((VC,bR)=>tc.add(bR))})});if(Ft.length){const Ct=[];Ft.forEach(Lt=>{Ct.push(function d4(n,e){return new u.vHH(3505,!1)}())}),St.forEach(Lt=>Lt.destroy()),this.reportError(Ct)}const fn=new Map,Sr=new Map;l.forEach(Ct=>{const Lt=Ct.element;r.has(Lt)&&(Sr.set(Lt,Lt),this._beforeAnimationBuild(Ct.player.namespaceId,Ct.instruction,fn))}),i.forEach(Ct=>{const Lt=Ct.element;this._getPreviousPlayers(Lt,!1,Ct.namespaceId,Ct.triggerName,null).forEach(En=>{fa(fn,Lt,[]).push(En),En.destroy()})});const xo=ce.filter(Ct=>JO(Ct,_,w)),uh=new Map;YO(uh,this.driver,Ye,w,oh).forEach(Ct=>{JO(Ct,_,w)&&xo.push(Ct)});const xw=new Map;U.forEach((Ct,Lt)=>{YO(xw,this.driver,new Set(Ct),_,SM)}),xo.forEach(Ct=>{const Lt=uh.get(Ct),Gt=xw.get(Ct);uh.set(Ct,new Map([...Array.from(Lt?.entries()??[]),...Array.from(Gt?.entries()??[])]))});const Lg=[],ZF=[],KF={};l.forEach(Ct=>{const{element:Lt,player:Gt,instruction:En}=Ct;if(r.has(Lt)){if(T.has(Lt))return Gt.onDestroy(()=>Mu(Lt,En.toStyles)),Gt.disabled=!0,Gt.overrideTotalTime(En.totalTime),void i.push(Gt);let Ui=KF;if(Sr.size>1){let ga=Lt;const Ep=[];for(;ga=ga.parentNode;){const Mr=Sr.get(ga);if(Mr){Ui=Mr;break}Ep.push(ga)}Ep.forEach(Mr=>Sr.set(Mr,Ui))}const Nu=this._buildAnimation(Gt.namespaceId,En,fn,a,xw,uh);if(Gt.setRealPlayer(Nu),Ui===KF)Lg.push(Gt);else{const ga=this.playersByElement.get(Ui);ga&&ga.length&&(Gt.parentPlayer=vp(ga)),i.push(Gt)}}else Ng(Lt,En.fromStyles),Gt.onDestroy(()=>Mu(Lt,En.toStyles)),ZF.push(Gt),T.has(Lt)&&i.push(Gt)}),ZF.forEach(Ct=>{const Lt=a.get(Ct.element);if(Lt&&Lt.length){const Gt=vp(Lt);Ct.setRealPlayer(Gt)}}),i.forEach(Ct=>{Ct.parentPlayer?Ct.syncPlayerEvents(Ct.parentPlayer):Ct.destroy()});for(let Ct=0;Ct<ce.length;Ct++){const Lt=ce[Ct],Gt=Lt[Ja];if(Jy(Lt,gC),Gt&&Gt.hasAnimation)continue;let En=[];if(f.size){let Nu=f.get(Lt);Nu&&Nu.length&&En.push(...Nu);let ga=this.driver.query(Lt,zM,!0);for(let Ep=0;Ep<ga.length;Ep++){let Mr=f.get(ga[Ep]);Mr&&Mr.length&&En.push(...Mr)}}const Ui=En.filter(Nu=>!Nu.destroyed);Ui.length?m3(this,Lt,Ui):this.processLeaveNode(Lt)}return ce.length=0,Lg.forEach(Ct=>{this.players.push(Ct),Ct.onDone(()=>{Ct.destroy();const Lt=this.players.indexOf(Ct);this.players.splice(Lt,1)}),Ct.play()}),Lg}elementContainsData(e,t){let r=!1;const i=t[Ja];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,a){let l=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(l=f)}else{const f=this.playersByElement.get(e);if(f){const _=!a||a==vw;f.forEach(w=>{w.queued||!_&&w.triggerName!=i||l.push(w)})}}return(r||i)&&(l=l.filter(f=>!(r&&r!=f.namespaceId||i&&i!=f.triggerName))),l}_beforeAnimationBuild(e,t,r){const a=t.element,l=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const _ of t.timelines){const w=_.element,T=w!==a,R=fa(r,w,[]);this._getPreviousPlayers(w,T,l,f,t.toState).forEach(U=>{const q=U.getRealPlayer();q.beforeDestroy&&q.beforeDestroy(),U.destroy(),R.push(U)})}Ng(a,t.fromStyles)}_buildAnimation(e,t,r,i,a,l){const f=t.triggerName,_=t.element,w=[],T=new Set,R=new Set,F=t.timelines.map(q=>{const J=q.element;T.add(J);const ce=J[Ja];if(ce&&ce.removedBeforeQueried)return new fw(q.duration,q.delay);const je=J!==_,Ye=function g3(n){const e=[];return XO(n,e),e}((r.get(J)||c3).map(fn=>fn.getRealPlayer())).filter(fn=>!!fn.element&&fn.element===J),ze=a.get(J),Qe=l.get(J),St=xO(0,this._normalizer,0,q.keyframes,ze,Qe),Ft=this._buildPlayer(q,St,Ye);if(q.subTimeline&&i&&R.add(J),je){const fn=new iR(e,f,J);fn.setRealPlayer(Ft),w.push(fn)}return Ft});w.forEach(q=>{fa(this.playersByQueriedElement,q.element,[]).push(q),q.onDone(()=>function h3(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,q.element,q))}),T.forEach(q=>ec(q,PO));const U=vp(F);return U.onDestroy(()=>{T.forEach(q=>Jy(q,PO)),Mu(_,t.toStyles)}),R.forEach(q=>{fa(i,q,[]).push(U)}),U}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new fw(e.duration,e.delay)}}class iR{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new fw,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>LM(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){fa(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function SC(n){return n&&1===n.nodeType}function KO(n,e){const t=n.style.display;return n.style.display=e??"none",t}function YO(n,e,t,r,i){const a=[];t.forEach(_=>a.push(KO(_)));const l=[];r.forEach((_,w)=>{const T=new Map;_.forEach(R=>{const F=e.computeStyle(w,R,i);T.set(R,F),(!F||0==F.length)&&(w[Ja]=l3,l.push(w))}),n.set(w,T)});let f=0;return t.forEach(_=>KO(_,a[f++])),l}function QO(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const r=1,i=new Set(e),a=new Map;function l(f){if(!f)return r;let _=a.get(f);if(_)return _;const w=f.parentNode;return _=t.has(w)?w:i.has(w)?r:l(w),a.set(f,_),_}return e.forEach(f=>{const _=l(f);_!==r&&t.get(_).push(f)}),t}function ec(n,e){n.classList?.add(e)}function Jy(n,e){n.classList?.remove(e)}function m3(n,e,t){vp(t).onDone(()=>n.processLeaveNode(e))}function XO(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof WN?XO(r.players,e):e.push(r)}}function JO(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(a=>i.add(a)):e.set(n,r),t.delete(n),!0}class MC{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,a)=>{},this._transitionEngine=new d3(e,t,r),this._timelineEngine=new n3(e,t,r),this._transitionEngine.onRemovalComplete=(i,a)=>this.onRemovalComplete(i,a)}registerTrigger(e,t,r,i,a){const l=e+"-"+i;let f=this._triggerCache[l];if(!f){const _=[],w=[],T=ZM(this._driver,a,_,w);if(_.length)throw function J$(n,e){return new u.vHH(3404,!1)}();f=function X4(n,e,t){return new J4(n,e,t)}(i,T,this._normalizer),this._triggerCache[l]=f}this._transitionEngine.registerTrigger(t,i,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[a,l]=CO(r);this._timelineEngine.command(a,t,l,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,a){if("@"==r.charAt(0)){const[l,f]=CO(r);return this._timelineEngine.listen(l,t,f,a)}return this._transitionEngine.listen(e,t,r,i,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let v3=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a=new Map),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&Mu(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Mu(this._element,this._initialStyles),this._endStyles&&(Mu(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Ng(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ng(this._element,this._endStyles),this._endStyles=null),Mu(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function oR(n){let e=null;return n.forEach((t,r)=>{(function b3(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class eF{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:VO(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class w3{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return SO(e,t)}getParentElement(e){return jM(e)}query(e,t,r){return MO(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,a,l=[]){const _={duration:r,delay:i,fill:0==i?"both":"forwards"};a&&(_.easing=a);const w=new Map,T=l.filter(U=>U instanceof eF);(function x4(n,e){return 0===n||0===e})(r,i)&&T.forEach(U=>{U.currentSnapshot.forEach((q,J)=>w.set(J,q))});let R=function b4(n){return n.length?n[0]instanceof Map?n:n.map(e=>NO(e)):[]}(t).map(U=>bp(U));R=function C4(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((a,l)=>{r.has(l)||i.push(l),r.set(l,a)}),i.length)for(let a=1;a<e.length;a++){let l=e[a];i.forEach(f=>l.set(f,VO(n,f)))}}return e}(e,R,w);const F=function y3(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=oR(e[0]),e.length>1&&(r=oR(e[e.length-1]))):e instanceof Map&&(t=oR(e)),t||r?new v3(n,t,r):null}(e,R);return new eF(e,R,_,F)}}let E3=(()=>{class n extends $N{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:u.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?GN(t):t;return tF(this._renderer,null,r,"register",[i]),new I3(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.FYo),u.LFG(re))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class I3 extends Qj{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new x3(this._id,e,t||{},this._renderer)}}class x3{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return tF(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function tF(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const nF="@.disabled";let C3=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(a,l)=>{const f=l?.parentNode(a);f&&l.removeChild(f,a)}}createRenderer(t,r){const a=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let T=this._rendererCache.get(a);return T||(T=new rF("",a,this.engine,()=>this._rendererCache.delete(a)),this._rendererCache.set(a,T)),T}const l=r.id,f=r.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const _=T=>{Array.isArray(T)?T.forEach(_):this.engine.registerTrigger(l,f,t,T.name,T)};return r.data.animation.forEach(_),new T3(this,f,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[l,f]=a;l(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.FYo),u.LFG(MC),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class rF{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?a=>t.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==nF?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class T3 extends rF{constructor(e,t,r,i,a){super(t,r,i,a),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==nF?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function D3(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.slice(1),l="";return"@"!=a.charAt(0)&&([a,l]=function A3(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(a)),this.engine.listen(this.namespaceId,i,a,l,f=>{this.factory.scheduleListenerCallback(f._data||-1,r,f)})}return this.delegate.listen(e,t,r)}}let S3=(()=>{class n extends MC{constructor(t,r,i,a){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(re),u.LFG(HM),u.LFG(JM),u.LFG(u.z2F))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const iF=[{provide:$N,useClass:E3},{provide:JM,useFactory:function M3(){return new Z4}},{provide:MC,useClass:S3},{provide:u.FYo,useFactory:function R3(n,e,t){return new C3(n,e,t)},deps:[Ri,MC,u.R0b]}],sR=[{provide:HM,useFactory:()=>new w3},{provide:u.QbO,useValue:"BrowserAnimations"},...iF],oF=[{provide:HM,useClass:RO},{provide:u.QbO,useValue:"NoopAnimations"},...iF];let k3=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?oF:sR}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:sR,imports:[zs]}),n})(),F3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),j3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Ur,Ts,F3,PP,oM,JV,Ts]}),n})(),H3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[MU,GU,OH,MM,Yj,j3,T$]}),n})();const aF="firebasestorage.googleapis.com",cF="storageBucket";class Ar extends Yt.ZR{constructor(e,t,r=0){super(cR(e),`Firebase Storage: ${t} (${cR(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ar.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return cR(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var er=(()=>(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(er||(er={})),er))();function cR(n){return"storage/"+n}function lR(){return new Ar(er.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function lF(){return new Ar(er.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function uF(){return new Ar(er.CANCELED,"User canceled the upload/download.")}function dF(){return new Ar(er.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function ev(n){return new Ar(er.INVALID_ARGUMENT,n)}function hF(){return new Ar(er.APP_DELETED,"The Firebase app was deleted.")}function fF(n){return new Ar(er.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function bw(n,e){return new Ar(er.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function ww(n){throw new Ar(er.INTERNAL_ERROR,"Internal error: "+n)}class Io{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Io.makeFromUrl(e,t)}catch{return new Io(e,"")}if(""===r.path)return r;throw function X3(n){return new Ar(er.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)",f=new RegExp("^gs://"+i+"(/(.*))?$","i");function w(Qe){Qe.path_=decodeURIComponent(Qe.path)}const R=t.replace(/[.]/g,"\\."),ze=[{regex:f,indices:{bucket:1,path:3},postModify:function a(Qe){"/"===Qe.path.charAt(Qe.path.length-1)&&(Qe.path_=Qe.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${R}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:w},{regex:new RegExp(`^https?://${t===aF?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:w}];for(let Qe=0;Qe<ze.length;Qe++){const St=ze[Qe],Ft=St.regex.exec(e);if(Ft){let Sr=Ft[St.indices.path];Sr||(Sr=""),r=new Io(Ft[St.indices.bucket],Sr),St.postModify(r);break}}if(null==r)throw function Q3(n){return new Ar(er.INVALID_URL,"Invalid URL '"+n+"'.")}(e);return r}}class rz{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function kC(n){return"string"==typeof n||n instanceof String}function pF(n){return uR()&&n instanceof Blob}function uR(){return typeof Blob<"u"&&!(0,Yt.UG)()}function dR(n,e,t,r){if(r<e)throw ev(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw ev(`Invalid value for '${n}'. Expected ${t} or less.`)}function ch(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function mF(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var wp=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(wp||(wp={})),wp))();function gF(n,e){const t=n>=500&&n<600,i=-1!==[408,429].indexOf(n),a=-1!==e.indexOf(n);return t||i||a}class lz{constructor(e,t,r,i,a,l,f,_,w,T,R,F=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=l,this.callback_=f,this.errorCallback_=_,this.timeout_=w,this.progressCallback_=T,this.connectionFactory_=R,this.retry=F,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((U,q)=>{this.resolve_=U,this.reject_=q,this.start_()})}start_(){const t=(r,i)=>{const a=this.resolve_,l=this.reject_,f=i.connection;if(i.wasSuccessCode)try{const _=this.callback_(f,f.getResponse());!function sz(n){return void 0!==n}(_)?a():a(_)}catch(_){l(_)}else if(null!==f){const _=lR();_.serverResponse=f.getErrorText(),l(this.errorCallback_?this.errorCallback_(f,_):_)}else l(i.canceled?this.appDelete_?hF():uF():lF())};this.canceled_?t(0,new PC(!1,null,!0)):this.backoffId_=function iz(n,e,t){let r=1,i=null,a=null,l=!1,f=0;function _(){return 2===f}let w=!1;function T(...ce){w||(w=!0,e.apply(null,ce))}function R(ce){i=setTimeout(()=>{i=null,n(U,_())},ce)}function F(){a&&clearTimeout(a)}function U(ce,...je){if(w)return void F();if(ce)return F(),void T.call(null,ce,...je);if(_()||l)return F(),void T.call(null,ce,...je);let ze;r<64&&(r*=2),1===f?(f=2,ze=0):ze=1e3*(r+Math.random()),R(ze)}let q=!1;function J(ce){q||(q=!0,F(),!w&&(null!==i?(ce||(f=2),clearTimeout(i),R(0)):ce||(f=1)))}return R(0),a=setTimeout(()=>{l=!0,J(!0)},t),J}((r,i)=>{if(i)return void r(!1,new PC(!1,null,!0));const a=this.connectionFactory_();this.pendingConnection_=a;const l=f=>{null!==this.progressCallback_&&this.progressCallback_(f.loaded,f.lengthComputable?f.total:-1)};null!==this.progressCallback_&&a.addUploadProgressListener(l),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&a.removeUploadProgressListener(l),this.pendingConnection_=null;const f=a.getErrorCode()===wp.NO_ERROR,_=a.getStatus();if(!f||gF(_,this.additionalRetryCodes_)&&this.retry){const T=a.getErrorCode()===wp.ABORT;return void r(!1,new PC(!1,null,T))}const w=-1!==this.successCodes_.indexOf(_);r(!0,new PC(w,a))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function oz(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class PC{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function gz(...n){const e=function mz(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(uR())return new Blob(n);throw new Ar(er.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const ma={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class hR{constructor(e,t){this.data=e,this.contentType=t||null}}function fR(n,e){switch(n){case ma.RAW:return new hR(_F(e));case ma.BASE64:case ma.BASE64URL:return new hR(yF(n,e));case ma.DATA_URL:return new hR(function bz(n){const e=new vF(n);return e.base64?yF(ma.BASE64,e.rest):function vz(n){let e;try{e=decodeURIComponent(n)}catch{throw bw(ma.DATA_URL,"Malformed data URL.")}return _F(e)}(e.rest)}(e),function wz(n){return new vF(n).contentType}(e))}throw lR()}function _F(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function yF(n,e){switch(n){case ma.BASE64:{const i=-1!==e.indexOf("-"),a=-1!==e.indexOf("_");if(i||a)throw bw(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case ma.BASE64URL:{const i=-1!==e.indexOf("+"),a=-1!==e.indexOf("/");if(i||a)throw bw(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function yz(n){if(typeof atob>"u")throw function nz(n){return new Ar(er.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(i){throw i.message.includes("polyfill")?i:bw(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class vF{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw bw(ma.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function Ez(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class Ru{constructor(e,t){let r=0,i="";pF(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(pF(this.data_)){const i=function _z(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===i?null:new Ru(i)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Ru(r,!0)}}static getBlob(...e){if(uR()){const t=e.map(r=>r instanceof Ru?r.data_:r);return new Ru(gz.apply(null,t))}{const t=e.map(l=>kC(l)?fR(ma.RAW,l).data:l.data_);let r=0;t.forEach(l=>{r+=l.byteLength});const i=new Uint8Array(r);let a=0;return t.forEach(l=>{for(let f=0;f<l.length;f++)i[a++]=l[f]}),new Ru(i,!0)}}uploadData(){return this.data_}}function pR(n){let e;try{e=JSON.parse(n)}catch{return null}return function cz(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function bF(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function Cz(n,e){return e}class Ko{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||Cz}}let NC=null;function Ew(){if(NC)return NC;const n=[];n.push(new Ko("bucket")),n.push(new Ko("generation")),n.push(new Ko("metageneration")),n.push(new Ko("name","fullPath",!0));const t=new Ko("name");t.xform=function e(a,l){return function Tz(n){return!kC(n)||n.length<2?n:bF(n)}(l)},n.push(t);const i=new Ko("size");return i.xform=function r(a,l){return void 0!==l?Number(l):l},n.push(i),n.push(new Ko("timeCreated")),n.push(new Ko("updated")),n.push(new Ko("md5Hash",null,!0)),n.push(new Ko("cacheControl",null,!0)),n.push(new Ko("contentDisposition",null,!0)),n.push(new Ko("contentEncoding",null,!0)),n.push(new Ko("contentLanguage",null,!0)),n.push(new Ko("contentType",null,!0)),n.push(new Ko("metadata","customMetadata",!0)),NC=n,NC}function wF(n,e,t){const r=pR(e);return null===r?null:function Az(n,e,t){const r={type:"file"},i=t.length;for(let a=0;a<i;a++){const l=t[a];r[l.local]=l.xform(r,e[l.server])}return function Dz(n,e){Object.defineProperty(n,"ref",{get:function t(){const a=new Io(n.bucket,n.fullPath);return e._makeStorageReference(a)}})}(r,n),r}(n,r,t)}function mR(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const a=e[i];a.writable&&(t[a.server]=n[a.local])}return JSON.stringify(t)}const EF="prefixes",IF="items";class ku{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Pu(n){if(!n)throw lR()}function OC(n,e){return function t(r,i){const a=wF(n,i,e);return Pu(null!==a),a}}function tv(n){return function e(t,r){let i;return i=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function K3(){return new Ar(er.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function Z3(){return new Ar(er.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function W3(n){return new Ar(er.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function Y3(n){return new Ar(er.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}}function Iw(n){const e=tv(n);return function t(r,i){let a=e(r,i);return 404===r.getStatus()&&(a=function q3(n){return new Ar(er.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),a.serverResponse=i.serverResponse,a}}function xF(n,e,t){const i=ch(e.fullServerUrl(),n.host,n._protocol),l=n.maxOperationRetryTime,f=new ku(i,"GET",OC(n,t),l);return f.errorHandler=Iw(e),f}function Nz(n,e,t,r,i){const a={};a.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(a.delimiter=t),r&&(a.pageToken=r),i&&(a.maxResults=i);const f=ch(e.bucketOnlyServerUrl(),n.host,n._protocol),w=n.maxOperationRetryTime,T=new ku(f,"GET",function kz(n,e){return function t(r,i){const a=function Rz(n,e,t){const r=pR(t);return null===r?null:function Mz(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[EF])for(const i of t[EF]){const a=i.replace(/\/$/,""),l=n._makeStorageReference(new Io(e,a));r.prefixes.push(l)}if(t[IF])for(const i of t[IF]){const a=n._makeStorageReference(new Io(e,i.name));r.items.push(a)}return r}(n,e,r)}(n,e,i);return Pu(null!==a),a}}(n,e.bucket),w);return T.urlParams=a,T.errorHandler=tv(e),T}function TF(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function Bz(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class FC{constructor(e,t,r,i){this.current=e,this.total=t,this.finalized=!!r,this.metadata=i||null}}function gR(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{Pu(!1)}return Pu(!!t&&-1!==(e||["active"]).indexOf(t)),t}const Hz={STATE_CHANGED:"state_changed"},Yo={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function _R(n){switch(n){case"running":case"pausing":case"canceling":return Yo.RUNNING;case"paused":return Yo.PAUSED;case"success":return Yo.SUCCESS;case"canceled":return Yo.CANCELED;default:return Yo.ERROR}}class $z{constructor(e,t,r){if(function az(n){return"function"==typeof n}(e)||null!=t||null!=r)this.next=e,this.error=t??void 0,this.complete=r??void 0;else{const a=e;this.next=a.next,this.error=a.error,this.complete=a.complete}}}function nv(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}let SF=null;class zz{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=wp.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=wp.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=wp.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw ww("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==i)for(const a in i)i.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,i[a].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ww("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ww("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ww("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ww("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class Gz extends zz{initXhr(){this.xhr_.responseType="text"}}function il(){return SF?SF():new Gz}class MF{constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=Ew(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(er.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const a=this.isExponentialBackoffExpired();if(gF(i.status,[])){if(!a)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();i=lF()}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(er.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,a)=>{this._resolve=i,this._reject=a,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const r=function Vz(n,e,t,r,i){const a=e.bucketOnlyServerUrl(),l=TF(e,r,i),f={name:l.fullPath},_=ch(a,n.host,n._protocol),T={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":l.contentType,"Content-Type":"application/json; charset=utf-8"},R=mR(l,t),q=new ku(_,"POST",function U(J){let ce;gR(J);try{ce=J.getResponseHeader("X-Goog-Upload-URL")}catch{Pu(!1)}return Pu(kC(ce)),ce},n.maxUploadRetryTime);return q.urlParams=f,q.headers=T,q.body=R,q.errorHandler=tv(e),q}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,il,e,t);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._uploadUrl=a,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const i=function Uz(n,e,t,r){const _=new ku(t,"POST",function a(w){const T=gR(w,["active","final"]);let R=null;try{R=w.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Pu(!1)}R||Pu(!1);const F=Number(R);return Pu(!isNaN(F)),new FC(F,r.size(),"final"===T)},n.maxUploadRetryTime);return _.headers={"X-Goog-Upload-Command":"query"},_.errorHandler=tv(e),_}(this._ref.storage,this._ref._location,e,this._blob),a=this._ref.storage._makeRequest(i,il,t,r);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._updateProgress(l.current),this._needToFetchStatus=!1,l.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new FC(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,a)=>{let l;try{l=function jz(n,e,t,r,i,a,l,f){const _=new FC(0,0);if(l?(_.current=l.current,_.total=l.total):(_.current=0,_.total=r.size()),r.size()!==_.total)throw function ez(){return new Ar(er.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const w=_.total-_.current;let T=w;i>0&&(T=Math.min(T,i));const R=_.current;let U="";U=0===T?"finalize":w===T?"upload, finalize":"upload";const q={"X-Goog-Upload-Command":U,"X-Goog-Upload-Offset":`${_.current}`},J=r.slice(R,R+T);if(null===J)throw dF();const ze=new ku(t,"POST",function ce(Qe,St){const Ft=gR(Qe,["active","final"]),fn=_.current+T,Sr=r.size();let xo;return xo="final"===Ft?OC(e,a)(Qe,St):null,new FC(fn,Sr,"final"===Ft,xo)},e.maxUploadRetryTime);return ze.headers=q,ze.body=J.uploadData(),ze.progressCallback=f||null,ze.errorHandler=tv(n),ze}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(_){return this._error=_,void this._transition("error")}const f=this._ref.storage._makeRequest(l,il,i,a,!1);this._request=f,f.getPromise().then(_=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(_.current),_.finalized?(this._metadata=_.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=xF(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,il,e,t);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=function DF(n,e,t,r,i){const a=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"},_=function f(){let ze="";for(let Qe=0;Qe<2;Qe++)ze+=Math.random().toString().slice(2);return ze}();l["Content-Type"]="multipart/related; boundary="+_;const w=TF(e,r,i),T=mR(w,t),U=Ru.getBlob("--"+_+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+T+"\r\n--"+_+"\r\nContent-Type: "+w.contentType+"\r\n\r\n",r,"\r\n--"+_+"--");if(null===U)throw dF();const q={name:w.fullPath},J=ch(a,n.host,n._protocol),je=n.maxUploadRetryTime,Ye=new ku(J,"POST",OC(n,t),je);return Ye.urlParams=q,Ye.headers=l,Ye.body=U.uploadData(),Ye.errorHandler=tv(e),Ye}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,il,e,t);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=uF(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=_R(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,i){const a=new $z(t||void 0,r||void 0,i||void 0);return this._addObserver(a),()=>{this._removeObserver(a)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(_R(this._state)){case Yo.SUCCESS:nv(this._resolve.bind(null,this.snapshot))();break;case Yo.CANCELED:case Yo.ERROR:nv(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(_R(this._state)){case Yo.RUNNING:case Yo.PAUSED:e.next&&nv(e.next.bind(e,this.snapshot))();break;case Yo.SUCCESS:e.complete&&nv(e.complete.bind(e))();break;default:e.error&&nv(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Fg{constructor(e,t){this._service=e,this._location=t instanceof Io?t:Io.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Fg(e,t)}get root(){const e=new Io(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return bF(this._location.path)}get storage(){return this._service}get parent(){const e=function Iz(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new Io(this._location.bucket,e);return new Fg(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw fF(e)}}function kF(n,e,t){return yR.apply(this,arguments)}function yR(){return yR=(0,be.Z)(function*(n,e,t){const i=yield PF(n,{pageToken:t});e.prefixes.push(...i.prefixes),e.items.push(...i.items),null!=i.nextPageToken&&(yield kF(n,e,i.nextPageToken))}),yR.apply(this,arguments)}function PF(n,e){null!=e&&"number"==typeof e.maxResults&&dR("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=Nz(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,il)}function r6(n){n._throwIfRoot("getDownloadURL");const e=function Oz(n,e,t){const i=ch(e.fullServerUrl(),n.host,n._protocol),l=n.maxOperationRetryTime,f=new ku(i,"GET",function Pz(n,e){return function t(r,i){const a=wF(n,i,e);return Pu(null!==a),function Sz(n,e,t,r){const i=pR(e);if(null===i||!kC(i.downloadTokens))return null;const a=i.downloadTokens;if(0===a.length)return null;const l=encodeURIComponent;return a.split(",").map(w=>{const R=n.fullPath;return ch("/b/"+l(n.bucket)+"/o/"+l(R),t,r)+mF({alt:"media",token:w})})[0]}(a,i,n.host,n._protocol)}}(n,t),l);return f.errorHandler=Iw(e),f}(n.storage,n._location,Ew());return n.storage.makeRequestWithTokens(e,il).then(t=>{if(null===t)throw function tz(){return new Ar(er.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return t})}function NF(n,e){const t=function xz(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new Io(n._location.bucket,t);return new Fg(n.storage,r)}function OF(n,e){if(n instanceof vR){const t=n;if(null==t._bucket)throw function J3(){return new Ar(er.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+cF+"' property when initializing the app?")}();const r=new Fg(t,t._bucket);return null!=e?OF(r,e):r}return void 0!==e?NF(n,e):n}function a6(n,e){if(e&&function o6(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof vR)return function s6(n,e){return new Fg(n,e)}(n,e);throw ev("To use ref(service, url), the first argument must be a Storage instance.")}return OF(n,e)}function FF(n,e){const t=e?.[cF];return null==t?null:Io.makeFromBucketSpec(t,n)}class vR{constructor(e,t,r,i,a){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=aF,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Io.makeFromBucketSpec(i,this._host):FF(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Io.makeFromBucketSpec(this._url,e):FF(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){dR("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){dR("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,be.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,be.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Fg(this,e)}_makeRequest(e,t,r,i,a=!0){if(this._deleted)return new rz(hF());{const l=function pz(n,e,t,r,i,a,l=!0){const f=mF(n.urlParams),_=n.url+f,w=Object.assign({},n.headers);return function hz(n,e){e&&(n["X-Firebase-GMPID"]=e)}(w,e),function uz(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(w,t),function dz(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(w,a),function fz(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(w,r),new lz(_,n.method,w,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,l)}(e,this._appId,r,i,t,this._firebaseVersion,a);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}makeRequestWithTokens(e,t){var r=this;return(0,be.Z)(function*(){const[i,a]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,i,a).getPromise()})()}}const LF="@firebase/storage";function UF(n,e){return a6(n=(0,Yt.m9)(n),e)}function _6(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new vR(t,r,i,e,ia.SDK_VERSION)}!function y6(){(0,ia._registerComponent)(new mf.wA("storage",_6,"PUBLIC").setMultipleInstances(!0)),(0,ia.registerVersion)(LF,"0.11.2",""),(0,ia.registerVersion)(LF,"0.11.2","esm2017")}();class LC{constructor(e,t,r){this._delegate=e,this.task=t,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class HF{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new LC(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(r=>{if(e)return e(new LC(r,this,this._ref))},t)}on(e,t,r,i){let a;return t&&(a="function"==typeof t?l=>t(new LC(l,this,this._ref)):{next:t.next?l=>t.next(new LC(l,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,r||void 0,i||void 0)}}class $F{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new lh(e,this._service))}get items(){return this._delegate.items.map(e=>new lh(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class lh{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function g6(n,e){return NF(n,e)}(this._delegate,e);return new lh(t,this.storage)}get root(){return new lh(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new lh(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new HF(function l6(n,e,t){return function Xz(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new MF(n,new Ru(e),t)}(n=(0,Yt.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=ma.RAW,r){this._throwIfRoot("putString");const i=fR(t,e),a=Object.assign({},r);return null==a.contentType&&null!=i.contentType&&(a.contentType=i.contentType),new HF(new MF(this._delegate,new Ru(i.data,!0),a),this)}listAll(){return function f6(n){return function e6(n){const e={prefixes:[],items:[]};return kF(n,e).then(()=>e)}(n=(0,Yt.m9)(n))}(this._delegate).then(e=>new $F(e,this.storage))}list(e){return function h6(n,e){return PF(n=(0,Yt.m9)(n),e)}(this._delegate,e||void 0).then(t=>new $F(t,this.storage))}getMetadata(){return function u6(n){return function t6(n){n._throwIfRoot("getMetadata");const e=xF(n.storage,n._location,Ew());return n.storage.makeRequestWithTokens(e,il)}(n=(0,Yt.m9)(n))}(this._delegate)}updateMetadata(e){return function d6(n,e){return function n6(n,e){n._throwIfRoot("updateMetadata");const t=function Fz(n,e,t,r){const a=ch(e.fullServerUrl(),n.host,n._protocol),f=mR(t,r),w=n.maxOperationRetryTime,T=new ku(a,"PATCH",OC(n,r),w);return T.headers={"Content-Type":"application/json; charset=utf-8"},T.body=f,T.errorHandler=Iw(e),T}(n.storage,n._location,e,Ew());return n.storage.makeRequestWithTokens(t,il)}(n=(0,Yt.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function p6(n){return r6(n=(0,Yt.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function m6(n){return function i6(n){n._throwIfRoot("deleteObject");const e=function Lz(n,e){const r=ch(e.fullServerUrl(),n.host,n._protocol),f=new ku(r,"DELETE",function l(_,w){},n.maxOperationRetryTime);return f.successCodes=[200,204],f.errorHandler=Iw(e),f}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,il)}(n=(0,Yt.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw fF(e)}}class zF{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(GF(e))throw ev("ref() expected a child path but got a URL, use refFromURL instead.");return new lh(UF(this._delegate,e),this)}refFromURL(e){if(!GF(e))throw ev("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Io.makeFromUrl(e,this._delegate.host)}catch{throw ev("refFromUrl() expected a valid full URL but got an invalid one.")}return new lh(UF(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,r={}){!function jF(n,e,t,r={}){!function c6(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken="string"==typeof i?i:(0,Yt.Sg)(i,n.app.options.projectId))}(n,e,t,r)}(this._delegate,e,t,r)}}function GF(n){return/^[A-Za-z]+:\/\//.test(n)}function E6(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:e});return new zF(t,r)}function qF(n){const e=function x6(n){return new $r.y(e=>{const t=l=>e.next(l);t(n.snapshot);const a=n.on("state_changed",t);return n.then(l=>{t(l),e.complete()},l=>{t(n.snapshot),(l=>{e.error(l)})(l)}),function(){a()}}).pipe(iM(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,ct.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function BC(n){return{getDownloadURL:()=>rt(void 0).pipe(zn.fc,$n(()=>n.getDownloadURL()),zn.iC),getMetadata:()=>rt(void 0).pipe(zn.fc,$n(()=>n.getMetadata()),zn.iC),delete:()=>(0,on.D)(n.delete()),child:e=>BC(n.child(e)),updateMetadata:e=>(0,on.D)(n.updateMetadata(e)),put:(e,t)=>qF(n.put(e,t)),putString:(e,t,r)=>qF(n.putString(e,t,r)),list:e=>(0,on.D)(n.list(e)),listAll:()=>(0,on.D)(n.listAll())}}!function I6(n){const e={TaskState:Yo,TaskEvent:Hz,StringFormat:ma,Storage:zF,Reference:lh};n.INTERNAL.registerComponent(new mf.wA("storage-compat",E6,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.3.2")}(Gv.Z);const C6=new u.OlP("angularfire2.storageBucket"),T6=new u.OlP("angularfire2.storage.maxUploadRetryTime"),D6=new u.OlP("angularfire2.storage.maxOperationRetryTime"),A6=new u.OlP("angularfire2.storage.use-emulator");let S6=(()=>{class n{constructor(t,r,i,a,l,f,_,w,T,R){const F=(0,bi.on)(t,l,r);this.storage=(0,bi.cc)(`${F.name}.storage.${i}`,"AngularFireStorage",F.name,()=>{const U=l.runOutsideAngular(()=>F.storage(i||void 0)),q=T;return q&&U.useEmulator(...q),_&&U.setMaxUploadRetryTime(_),w&&U.setMaxOperationRetryTime(w),U},[_,w])}ref(t){return BC(this.storage.ref(t))}refFromURL(t){return BC(this.storage.refFromURL(t))}upload(t,r,i){return BC(this.storage.ref(t)).put(r,i)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(bi.Dh),u.LFG(bi.xv,8),u.LFG(C6,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(zn.HU),u.LFG(T6,8),u.LFG(D6,8),u.LFG(A6,8),u.LFG(Gx,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),M6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),R6=(()=>{class n{constructor(){pm.Z.registerVersion("angularfire",zn.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[S6],imports:[M6]}),n})();const k6_firebaseConfig={apiKey:"AIzaSyDUXyLHnC320xnl7j-x8J6x7t0wjy0T8x4",authDomain:"dev-pro-blog.firebaseapp.com",projectId:"dev-pro-blog",storageBucket:"dev-pro-blog.appspot.com",messagingSenderId:"493505552364",appId:"1:493505552364:web:eeb9d8658fbc49144caac9"};let P6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n,bootstrap:[R$]}),n.\u0275inj=u.cJS({imports:[zs,GH,k3,H3,bi.hO.initializeApp(k6_firebaseConfig),wV,R6]}),n})();Qu().bootstrapModule(P6).catch(n=>console.error(n))},9751:(It,ke,L)=>{L.d(ke,{y:()=>xe});var u=L(930),te=L(727),O=L(8822),le=L(9635),ue=L(2416),re=L(576),we=L(2806);let xe=(()=>{class Y{constructor(Se){Se&&(this._subscribe=Se)}lift(Se){const Xe=new Y;return Xe.source=this,Xe.operator=Se,Xe}subscribe(Se,Xe,ht){const ye=function $(Y){return Y&&Y instanceof u.Lv||function z(Y){return Y&&(0,re.m)(Y.next)&&(0,re.m)(Y.error)&&(0,re.m)(Y.complete)}(Y)&&(0,te.Nn)(Y)}(Se)?Se:new u.Hp(Se,Xe,ht);return(0,we.x)(()=>{const{operator:Oe,source:Fe}=this;ye.add(Oe?Oe.call(ye,Fe):Fe?this._subscribe(ye):this._trySubscribe(ye))}),ye}_trySubscribe(Se){try{return this._subscribe(Se)}catch(Xe){Se.error(Xe)}}forEach(Se,Xe){return new(Xe=_e(Xe))((ht,ye)=>{const Oe=new u.Hp({next:Fe=>{try{Se(Fe)}catch($e){ye($e),Oe.unsubscribe()}},error:ye,complete:ht});this.subscribe(Oe)})}_subscribe(Se){var Xe;return null===(Xe=this.source)||void 0===Xe?void 0:Xe.subscribe(Se)}[O.L](){return this}pipe(...Se){return(0,le.U)(Se)(this)}toPromise(Se){return new(Se=_e(Se))((Xe,ht)=>{let ye;this.subscribe(Oe=>ye=Oe,Oe=>ht(Oe),()=>Xe(ye))})}}return Y.create=Ge=>new Y(Ge),Y})();function _e(Y){var Ge;return null!==(Ge=Y??ue.v.Promise)&&void 0!==Ge?Ge:Promise}},7579:(It,ke,L)=>{L.d(ke,{x:()=>we});var u=L(9751),te=L(727);const le=(0,L(3888).d)(_e=>function(){_e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ue=L(8737),re=L(2806);let we=(()=>{class _e extends u.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift($){const Y=new xe(this,this);return Y.operator=$,Y}_throwIfClosed(){if(this.closed)throw new le}next($){(0,re.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Y of this.currentObservers)Y.next($)}})}error($){(0,re.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=$;const{observers:Y}=this;for(;Y.length;)Y.shift().error($)}})}complete(){(0,re.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:$}=this;for(;$.length;)$.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var $;return(null===($=this.observers)||void 0===$?void 0:$.length)>0}_trySubscribe($){return this._throwIfClosed(),super._trySubscribe($)}_subscribe($){return this._throwIfClosed(),this._checkFinalizedStatuses($),this._innerSubscribe($)}_innerSubscribe($){const{hasError:Y,isStopped:Ge,observers:Se}=this;return Y||Ge?te.Lc:(this.currentObservers=null,Se.push($),new te.w0(()=>{this.currentObservers=null,(0,ue.P)(Se,$)}))}_checkFinalizedStatuses($){const{hasError:Y,thrownError:Ge,isStopped:Se}=this;Y?$.error(Ge):Se&&$.complete()}asObservable(){const $=new u.y;return $.source=this,$}}return _e.create=(z,$)=>new xe(z,$),_e})();class xe extends we{constructor(z,$){super(),this.destination=z,this.source=$}next(z){var $,Y;null===(Y=null===($=this.destination)||void 0===$?void 0:$.next)||void 0===Y||Y.call($,z)}error(z){var $,Y;null===(Y=null===($=this.destination)||void 0===$?void 0:$.error)||void 0===Y||Y.call($,z)}complete(){var z,$;null===($=null===(z=this.destination)||void 0===z?void 0:z.complete)||void 0===$||$.call(z)}_subscribe(z){var $,Y;return null!==(Y=null===($=this.source)||void 0===$?void 0:$.subscribe(z))&&void 0!==Y?Y:te.Lc}}},930:(It,ke,L)=>{L.d(ke,{Hp:()=>ht,Lv:()=>Y});var u=L(576),te=L(727),O=L(2416),le=L(7849),ue=L(5032);const re=_e("C",void 0,void 0);function _e(Le,Ce,Te){return{kind:Le,value:Ce,error:Te}}var z=L(3410),$=L(2806);class Y extends te.w0{constructor(Ce){super(),this.isStopped=!1,Ce?(this.destination=Ce,(0,te.Nn)(Ce)&&Ce.add(this)):this.destination=$e}static create(Ce,Te,Ze){return new ht(Ce,Te,Ze)}next(Ce){this.isStopped?Fe(function xe(Le){return _e("N",Le,void 0)}(Ce),this):this._next(Ce)}error(Ce){this.isStopped?Fe(function we(Le){return _e("E",void 0,Le)}(Ce),this):(this.isStopped=!0,this._error(Ce))}complete(){this.isStopped?Fe(re,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ce){this.destination.next(Ce)}_error(Ce){try{this.destination.error(Ce)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ge=Function.prototype.bind;function Se(Le,Ce){return Ge.call(Le,Ce)}class Xe{constructor(Ce){this.partialObserver=Ce}next(Ce){const{partialObserver:Te}=this;if(Te.next)try{Te.next(Ce)}catch(Ze){ye(Ze)}}error(Ce){const{partialObserver:Te}=this;if(Te.error)try{Te.error(Ce)}catch(Ze){ye(Ze)}else ye(Ce)}complete(){const{partialObserver:Ce}=this;if(Ce.complete)try{Ce.complete()}catch(Te){ye(Te)}}}class ht extends Y{constructor(Ce,Te,Ze){let Ve;if(super(),(0,u.m)(Ce)||!Ce)Ve={next:Ce??void 0,error:Te??void 0,complete:Ze??void 0};else{let lt;this&&O.v.useDeprecatedNextContext?(lt=Object.create(Ce),lt.unsubscribe=()=>this.unsubscribe(),Ve={next:Ce.next&&Se(Ce.next,lt),error:Ce.error&&Se(Ce.error,lt),complete:Ce.complete&&Se(Ce.complete,lt)}):Ve=Ce}this.destination=new Xe(Ve)}}function ye(Le){O.v.useDeprecatedSynchronousErrorHandling?(0,$.O)(Le):(0,le.h)(Le)}function Fe(Le,Ce){const{onStoppedNotification:Te}=O.v;Te&&z.z.setTimeout(()=>Te(Le,Ce))}const $e={closed:!0,next:ue.Z,error:function Oe(Le){throw Le},complete:ue.Z}},727:(It,ke,L)=>{L.d(ke,{Lc:()=>re,w0:()=>ue,Nn:()=>we});var u=L(576);const O=(0,L(3888).d)(_e=>function($){_e(this),this.message=$?`${$.length} errors occurred during unsubscription:\n${$.map((Y,Ge)=>`${Ge+1}) ${Y.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=$});var le=L(8737);class ue{constructor(z){this.initialTeardown=z,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let z;if(!this.closed){this.closed=!0;const{_parentage:$}=this;if($)if(this._parentage=null,Array.isArray($))for(const Se of $)Se.remove(this);else $.remove(this);const{initialTeardown:Y}=this;if((0,u.m)(Y))try{Y()}catch(Se){z=Se instanceof O?Se.errors:[Se]}const{_finalizers:Ge}=this;if(Ge){this._finalizers=null;for(const Se of Ge)try{xe(Se)}catch(Xe){z=z??[],Xe instanceof O?z=[...z,...Xe.errors]:z.push(Xe)}}if(z)throw new O(z)}}add(z){var $;if(z&&z!==this)if(this.closed)xe(z);else{if(z instanceof ue){if(z.closed||z._hasParent(this))return;z._addParent(this)}(this._finalizers=null!==($=this._finalizers)&&void 0!==$?$:[]).push(z)}}_hasParent(z){const{_parentage:$}=this;return $===z||Array.isArray($)&&$.includes(z)}_addParent(z){const{_parentage:$}=this;this._parentage=Array.isArray($)?($.push(z),$):$?[$,z]:z}_removeParent(z){const{_parentage:$}=this;$===z?this._parentage=null:Array.isArray($)&&(0,le.P)($,z)}remove(z){const{_finalizers:$}=this;$&&(0,le.P)($,z),z instanceof ue&&z._removeParent(this)}}ue.EMPTY=(()=>{const _e=new ue;return _e.closed=!0,_e})();const re=ue.EMPTY;function we(_e){return _e instanceof ue||_e&&"closed"in _e&&(0,u.m)(_e.remove)&&(0,u.m)(_e.add)&&(0,u.m)(_e.unsubscribe)}function xe(_e){(0,u.m)(_e)?_e():_e.unsubscribe()}},2416:(It,ke,L)=>{L.d(ke,{v:()=>u});const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(It,ke,L)=>{L.d(ke,{E:()=>te});const te=new(L(9751).y)(ue=>ue.complete())},8996:(It,ke,L)=>{L.d(ke,{D:()=>Ce});var u=L(8421),te=L(5363),O=L(9468),re=L(9751),xe=L(2202),_e=L(576),z=L(9672);function Y(Te,Ze){if(!Te)throw new Error("Iterable cannot be null");return new re.y(Ve=>{(0,z.f)(Ve,Ze,()=>{const lt=Te[Symbol.asyncIterator]();(0,z.f)(Ve,Ze,()=>{lt.next().then(ae=>{ae.done?Ve.complete():Ve.next(ae.value)})},0,!0)})})}var Ge=L(3670),Se=L(8239),Xe=L(1144),ht=L(6495),ye=L(2206),Oe=L(4532),Fe=L(3260);function Ce(Te,Ze){return Ze?function Le(Te,Ze){if(null!=Te){if((0,Ge.c)(Te))return function le(Te,Ze){return(0,u.Xf)(Te).pipe((0,O.R)(Ze),(0,te.Q)(Ze))}(Te,Ze);if((0,Xe.z)(Te))return function we(Te,Ze){return new re.y(Ve=>{let lt=0;return Ze.schedule(function(){lt===Te.length?Ve.complete():(Ve.next(Te[lt++]),Ve.closed||this.schedule())})})}(Te,Ze);if((0,Se.t)(Te))return function ue(Te,Ze){return(0,u.Xf)(Te).pipe((0,O.R)(Ze),(0,te.Q)(Ze))}(Te,Ze);if((0,ye.D)(Te))return Y(Te,Ze);if((0,ht.T)(Te))return function $(Te,Ze){return new re.y(Ve=>{let lt;return(0,z.f)(Ve,Ze,()=>{lt=Te[xe.h](),(0,z.f)(Ve,Ze,()=>{let ae,Mt;try{({value:ae,done:Mt}=lt.next())}catch(ot){return void Ve.error(ot)}Mt?Ve.complete():Ve.next(ae)},0,!0)}),()=>(0,_e.m)(lt?.return)&&lt.return()})}(Te,Ze);if((0,Fe.L)(Te))return function $e(Te,Ze){return Y((0,Fe.Q)(Te),Ze)}(Te,Ze)}throw(0,Oe.z)(Te)}(Te,Ze):(0,u.Xf)(Te)}},8421:(It,ke,L)=>{L.d(ke,{Xf:()=>Ge});var u=L(7582),te=L(1144),O=L(8239),le=L(9751),ue=L(3670),re=L(2206),we=L(4532),xe=L(6495),_e=L(3260),z=L(576),$=L(7849),Y=L(8822);function Ge(Le){if(Le instanceof le.y)return Le;if(null!=Le){if((0,ue.c)(Le))return function Se(Le){return new le.y(Ce=>{const Te=Le[Y.L]();if((0,z.m)(Te.subscribe))return Te.subscribe(Ce);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Le);if((0,te.z)(Le))return function Xe(Le){return new le.y(Ce=>{for(let Te=0;Te<Le.length&&!Ce.closed;Te++)Ce.next(Le[Te]);Ce.complete()})}(Le);if((0,O.t)(Le))return function ht(Le){return new le.y(Ce=>{Le.then(Te=>{Ce.closed||(Ce.next(Te),Ce.complete())},Te=>Ce.error(Te)).then(null,$.h)})}(Le);if((0,re.D)(Le))return Oe(Le);if((0,xe.T)(Le))return function ye(Le){return new le.y(Ce=>{for(const Te of Le)if(Ce.next(Te),Ce.closed)return;Ce.complete()})}(Le);if((0,_e.L)(Le))return function Fe(Le){return Oe((0,_e.Q)(Le))}(Le)}throw(0,we.z)(Le)}function Oe(Le){return new le.y(Ce=>{(function $e(Le,Ce){var Te,Ze,Ve,lt;return(0,u.mG)(this,void 0,void 0,function*(){try{for(Te=(0,u.KL)(Le);!(Ze=yield Te.next()).done;)if(Ce.next(Ze.value),Ce.closed)return}catch(ae){Ve={error:ae}}finally{try{Ze&&!Ze.done&&(lt=Te.return)&&(yield lt.call(Te))}finally{if(Ve)throw Ve.error}}Ce.complete()})})(Le,Ce).catch(Te=>Ce.error(Te))})}},6451:(It,ke,L)=>{L.d(ke,{T:()=>re});var u=L(8189),te=L(8421),O=L(515),le=L(7669),ue=L(8996);function re(...we){const xe=(0,le.yG)(we),_e=(0,le._6)(we,1/0),z=we;return z.length?1===z.length?(0,te.Xf)(z[0]):(0,u.J)(_e)((0,ue.D)(z,xe)):O.E}},5403:(It,ke,L)=>{L.d(ke,{x:()=>te});var u=L(930);function te(le,ue,re,we,xe){return new O(le,ue,re,we,xe)}class O extends u.Lv{constructor(ue,re,we,xe,_e,z){super(ue),this.onFinalize=_e,this.shouldUnsubscribe=z,this._next=re?function($){try{re($)}catch(Y){ue.error(Y)}}:super._next,this._error=xe?function($){try{xe($)}catch(Y){ue.error(Y)}finally{this.unsubscribe()}}:super._error,this._complete=we?function(){try{we()}catch($){ue.error($)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ue;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:re}=this;super.unsubscribe(),!re&&(null===(ue=this.onFinalize)||void 0===ue||ue.call(this))}}}},4004:(It,ke,L)=>{L.d(ke,{U:()=>O});var u=L(4482),te=L(5403);function O(le,ue){return(0,u.e)((re,we)=>{let xe=0;re.subscribe((0,te.x)(we,_e=>{we.next(le.call(ue,_e,xe++))}))})}},8189:(It,ke,L)=>{L.d(ke,{J:()=>O});var u=L(5577),te=L(4671);function O(le=1/0){return(0,u.z)(te.y,le)}},5577:(It,ke,L)=>{L.d(ke,{z:()=>xe});var u=L(4004),te=L(8421),O=L(4482),le=L(9672),ue=L(5403),we=L(576);function xe(_e,z,$=1/0){return(0,we.m)(z)?xe((Y,Ge)=>(0,u.U)((Se,Xe)=>z(Y,Se,Ge,Xe))((0,te.Xf)(_e(Y,Ge))),$):("number"==typeof z&&($=z),(0,O.e)((Y,Ge)=>function re(_e,z,$,Y,Ge,Se,Xe,ht){const ye=[];let Oe=0,Fe=0,$e=!1;const Le=()=>{$e&&!ye.length&&!Oe&&z.complete()},Ce=Ze=>Oe<Y?Te(Ze):ye.push(Ze),Te=Ze=>{Se&&z.next(Ze),Oe++;let Ve=!1;(0,te.Xf)($(Ze,Fe++)).subscribe((0,ue.x)(z,lt=>{Ge?.(lt),Se?Ce(lt):z.next(lt)},()=>{Ve=!0},void 0,()=>{if(Ve)try{for(Oe--;ye.length&&Oe<Y;){const lt=ye.shift();Xe?(0,le.f)(z,Xe,()=>Te(lt)):Te(lt)}Le()}catch(lt){z.error(lt)}}))};return _e.subscribe((0,ue.x)(z,Ce,()=>{$e=!0,Le()})),()=>{ht?.()}}(Y,Ge,_e,$)))}},5363:(It,ke,L)=>{L.d(ke,{Q:()=>le});var u=L(9672),te=L(4482),O=L(5403);function le(ue,re=0){return(0,te.e)((we,xe)=>{we.subscribe((0,O.x)(xe,_e=>(0,u.f)(xe,ue,()=>xe.next(_e),re),()=>(0,u.f)(xe,ue,()=>xe.complete(),re),_e=>(0,u.f)(xe,ue,()=>xe.error(_e),re)))})}},3099:(It,ke,L)=>{L.d(ke,{B:()=>ue});var u=L(8421),te=L(7579),O=L(930),le=L(4482);function ue(we={}){const{connector:xe=(()=>new te.x),resetOnError:_e=!0,resetOnComplete:z=!0,resetOnRefCountZero:$=!0}=we;return Y=>{let Ge,Se,Xe,ht=0,ye=!1,Oe=!1;const Fe=()=>{Se?.unsubscribe(),Se=void 0},$e=()=>{Fe(),Ge=Xe=void 0,ye=Oe=!1},Le=()=>{const Ce=Ge;$e(),Ce?.unsubscribe()};return(0,le.e)((Ce,Te)=>{ht++,!Oe&&!ye&&Fe();const Ze=Xe=Xe??xe();Te.add(()=>{ht--,0===ht&&!Oe&&!ye&&(Se=re(Le,$))}),Ze.subscribe(Te),!Ge&&ht>0&&(Ge=new O.Hp({next:Ve=>Ze.next(Ve),error:Ve=>{Oe=!0,Fe(),Se=re($e,_e,Ve),Ze.error(Ve)},complete:()=>{ye=!0,Fe(),Se=re($e,z),Ze.complete()}}),(0,u.Xf)(Ce).subscribe(Ge))})(Y)}}function re(we,xe,..._e){if(!0===xe)return void we();if(!1===xe)return;const z=new O.Hp({next:()=>{z.unsubscribe(),we()}});return xe(..._e).subscribe(z)}},9468:(It,ke,L)=>{L.d(ke,{R:()=>te});var u=L(4482);function te(O,le=0){return(0,u.e)((ue,re)=>{re.add(O.schedule(()=>ue.subscribe(re),le))})}},8505:(It,ke,L)=>{L.d(ke,{b:()=>ue});var u=L(576),te=L(4482),O=L(5403),le=L(4671);function ue(re,we,xe){const _e=(0,u.m)(re)||we||xe?{next:re,error:we,complete:xe}:re;return _e?(0,te.e)((z,$)=>{var Y;null===(Y=_e.subscribe)||void 0===Y||Y.call(_e);let Ge=!0;z.subscribe((0,O.x)($,Se=>{var Xe;null===(Xe=_e.next)||void 0===Xe||Xe.call(_e,Se),$.next(Se)},()=>{var Se;Ge=!1,null===(Se=_e.complete)||void 0===Se||Se.call(_e),$.complete()},Se=>{var Xe;Ge=!1,null===(Xe=_e.error)||void 0===Xe||Xe.call(_e,Se),$.error(Se)},()=>{var Se,Xe;Ge&&(null===(Se=_e.unsubscribe)||void 0===Se||Se.call(_e)),null===(Xe=_e.finalize)||void 0===Xe||Xe.call(_e)}))}):le.y}},4408:(It,ke,L)=>{L.d(ke,{o:()=>ue});var u=L(727);class te extends u.w0{constructor(we,xe){super()}schedule(we,xe=0){return this}}const O={setInterval(re,we,...xe){const{delegate:_e}=O;return _e?.setInterval?_e.setInterval(re,we,...xe):setInterval(re,we,...xe)},clearInterval(re){const{delegate:we}=O;return(we?.clearInterval||clearInterval)(re)},delegate:void 0};var le=L(8737);class ue extends te{constructor(we,xe){super(we,xe),this.scheduler=we,this.work=xe,this.pending=!1}schedule(we,xe=0){var _e;if(this.closed)return this;this.state=we;const z=this.id,$=this.scheduler;return null!=z&&(this.id=this.recycleAsyncId($,z,xe)),this.pending=!0,this.delay=xe,this.id=null!==(_e=this.id)&&void 0!==_e?_e:this.requestAsyncId($,this.id,xe),this}requestAsyncId(we,xe,_e=0){return O.setInterval(we.flush.bind(we,this),_e)}recycleAsyncId(we,xe,_e=0){if(null!=_e&&this.delay===_e&&!1===this.pending)return xe;null!=xe&&O.clearInterval(xe)}execute(we,xe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const _e=this._execute(we,xe);if(_e)return _e;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(we,xe){let z,_e=!1;try{this.work(we)}catch($){_e=!0,z=$||new Error("Scheduled action threw falsy error")}if(_e)return this.unsubscribe(),z}unsubscribe(){if(!this.closed){const{id:we,scheduler:xe}=this,{actions:_e}=xe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,le.P)(_e,this),null!=we&&(this.id=this.recycleAsyncId(xe,we,null)),this.delay=null,super.unsubscribe()}}}},7565:(It,ke,L)=>{L.d(ke,{v:()=>O});var u=L(6063);class te{constructor(ue,re=te.now){this.schedulerActionCtor=ue,this.now=re}schedule(ue,re=0,we){return new this.schedulerActionCtor(this,ue).schedule(we,re)}}te.now=u.l.now;class O extends te{constructor(ue,re=te.now){super(ue,re),this.actions=[],this._active=!1}flush(ue){const{actions:re}=this;if(this._active)return void re.push(ue);let we;this._active=!0;do{if(we=ue.execute(ue.state,ue.delay))break}while(ue=re.shift());if(this._active=!1,we){for(;ue=re.shift();)ue.unsubscribe();throw we}}}},4986:(It,ke,L)=>{L.d(ke,{z:()=>O});var u=L(4408);const O=new(L(7565).v)(u.o)},6063:(It,ke,L)=>{L.d(ke,{l:()=>u});const u={now:()=>(u.delegate||Date).now(),delegate:void 0}},3410:(It,ke,L)=>{L.d(ke,{z:()=>u});const u={setTimeout(te,O,...le){const{delegate:ue}=u;return ue?.setTimeout?ue.setTimeout(te,O,...le):setTimeout(te,O,...le)},clearTimeout(te){const{delegate:O}=u;return(O?.clearTimeout||clearTimeout)(te)},delegate:void 0}},2202:(It,ke,L)=>{L.d(ke,{h:()=>te});const te=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(It,ke,L)=>{L.d(ke,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(It,ke,L)=>{L.d(ke,{_6:()=>re,jO:()=>le,yG:()=>ue});var u=L(576);function O(we){return we[we.length-1]}function le(we){return(0,u.m)(O(we))?we.pop():void 0}function ue(we){return function te(we){return we&&(0,u.m)(we.schedule)}(O(we))?we.pop():void 0}function re(we,xe){return"number"==typeof O(we)?we.pop():xe}},8737:(It,ke,L)=>{function u(te,O){if(te){const le=te.indexOf(O);0<=le&&te.splice(le,1)}}L.d(ke,{P:()=>u})},3888:(It,ke,L)=>{function u(te){const le=te(ue=>{Error.call(ue),ue.stack=(new Error).stack});return le.prototype=Object.create(Error.prototype),le.prototype.constructor=le,le}L.d(ke,{d:()=>u})},2806:(It,ke,L)=>{L.d(ke,{O:()=>le,x:()=>O});var u=L(2416);let te=null;function O(ue){if(u.v.useDeprecatedSynchronousErrorHandling){const re=!te;if(re&&(te={errorThrown:!1,error:null}),ue(),re){const{errorThrown:we,error:xe}=te;if(te=null,we)throw xe}}else ue()}function le(ue){u.v.useDeprecatedSynchronousErrorHandling&&te&&(te.errorThrown=!0,te.error=ue)}},9672:(It,ke,L)=>{function u(te,O,le,ue=0,re=!1){const we=O.schedule(function(){le(),re?te.add(this.schedule(null,ue)):this.unsubscribe()},ue);if(te.add(we),!re)return we}L.d(ke,{f:()=>u})},4671:(It,ke,L)=>{function u(te){return te}L.d(ke,{y:()=>u})},1144:(It,ke,L)=>{L.d(ke,{z:()=>u});const u=te=>te&&"number"==typeof te.length&&"function"!=typeof te},2206:(It,ke,L)=>{L.d(ke,{D:()=>te});var u=L(576);function te(O){return Symbol.asyncIterator&&(0,u.m)(O?.[Symbol.asyncIterator])}},576:(It,ke,L)=>{function u(te){return"function"==typeof te}L.d(ke,{m:()=>u})},3670:(It,ke,L)=>{L.d(ke,{c:()=>O});var u=L(8822),te=L(576);function O(le){return(0,te.m)(le[u.L])}},6495:(It,ke,L)=>{L.d(ke,{T:()=>O});var u=L(2202),te=L(576);function O(le){return(0,te.m)(le?.[u.h])}},8239:(It,ke,L)=>{L.d(ke,{t:()=>te});var u=L(576);function te(O){return(0,u.m)(O?.then)}},3260:(It,ke,L)=>{L.d(ke,{L:()=>le,Q:()=>O});var u=L(7582),te=L(576);function O(ue){return(0,u.FC)(this,arguments,function*(){const we=ue.getReader();try{for(;;){const{value:xe,done:_e}=yield(0,u.qq)(we.read());if(_e)return yield(0,u.qq)(void 0);yield yield(0,u.qq)(xe)}}finally{we.releaseLock()}})}function le(ue){return(0,te.m)(ue?.getReader)}},4482:(It,ke,L)=>{L.d(ke,{A:()=>te,e:()=>O});var u=L(576);function te(le){return(0,u.m)(le?.lift)}function O(le){return ue=>{if(te(ue))return ue.lift(function(re){try{return le(re,this)}catch(we){this.error(we)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(It,ke,L)=>{function u(){}L.d(ke,{Z:()=>u})},9635:(It,ke,L)=>{L.d(ke,{U:()=>O,z:()=>te});var u=L(4671);function te(...le){return O(le)}function O(le){return 0===le.length?u.y:1===le.length?le[0]:function(re){return le.reduce((we,xe)=>xe(we),re)}}},7849:(It,ke,L)=>{L.d(ke,{h:()=>O});var u=L(2416),te=L(3410);function O(le){te.z.setTimeout(()=>{const{onUnhandledError:ue}=u.v;if(!ue)throw le;ue(le)})}},4532:(It,ke,L)=>{function u(te){return new TypeError(`You provided ${null!==te&&"object"==typeof te?"an invalid object":`'${te}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}L.d(ke,{z:()=>u})},4650:(It,ke,L)=>{L.d(ke,{$8M:()=>Ma,$WT:()=>wr,$Z:()=>eE,AFp:()=>b0,ALo:()=>Bn,AaK:()=>xe,CHM:()=>dc,CRH:()=>yu,CZH:()=>my,CqO:()=>Af,D6c:()=>lx,EJc:()=>zI,EiD:()=>Uo,EpF:()=>vb,F$t:()=>bb,F4k:()=>CE,FYo:()=>Rv,FiY:()=>Ac,Gf:()=>ig,GfV:()=>Nw,Gpc:()=>$,Hsn:()=>SE,Ikx:()=>Of,JOm:()=>Tt,JVY:()=>t_,JZr:()=>ht,KtG:()=>hc,L6k:()=>n_,LAX:()=>sr,LFG:()=>un,LSH:()=>Ed,Lbi:()=>dg,Lck:()=>xi,MAs:()=>C_,MMx:()=>J_,NdJ:()=>A_,OlP:()=>tn,Oqu:()=>Ld,P3R:()=>Jh,PXZ:()=>JI,Q6J:()=>Cm,QGY:()=>D_,QbO:()=>jI,Qsj:()=>WC,R0b:()=>Vi,RDi:()=>Jg,Rgc:()=>Gf,SBq:()=>af,Sil:()=>RD,Suo:()=>ay,TTD:()=>Vu,TgZ:()=>iu,Udp:()=>Od,W1O:()=>ly,WLB:()=>gu,X6Q:()=>VD,XFs:()=>bt,Xpm:()=>$i,Xts:()=>wv,Y36:()=>hf,YKP:()=>Zm,YNc:()=>mb,Yjl:()=>Zt,Yz7:()=>gt,Z0I:()=>Sn,ZZ4:()=>Qa,_Bn:()=>Yb,_UZ:()=>gb,_Vd:()=>sf,_c5:()=>cx,_uU:()=>Mb,aQg:()=>Cy,c2e:()=>HI,cJS:()=>vt,cg1:()=>Ub,dDg:()=>YI,dqk:()=>sn,eBb:()=>r_,eFA:()=>Eu,eJc:()=>uy,ekj:()=>Fd,eoX:()=>QI,f3M:()=>jn,g9A:()=>Jf,h0i:()=>wn,hGG:()=>KD,hij:()=>Um,iGM:()=>sy,ifc:()=>Ee,ip1:()=>v0,jDz:()=>Fr,kL8:()=>ZE,lG2:()=>At,lcZ:()=>s0,lqb:()=>Cd,lri:()=>T0,mCW:()=>Uc,n5z:()=>Pl,oAB:()=>ie,oxw:()=>DE,pB0:()=>Kh,q3G:()=>On,q4F:()=>Ow,qLn:()=>sm,qOj:()=>rb,qZA:()=>Dm,qzn:()=>vi,rWj:()=>vy,s9C:()=>Wc,sBO:()=>_g,s_b:()=>iy,soG:()=>gy,tb:()=>A0,tp0:()=>ct,uIk:()=>x_,vHH:()=>ye,vpe:()=>Es,wAp:()=>kt,xp6:()=>qw,z2F:()=>gg,z3N:()=>Pr,zSh:()=>eu,zs3:()=>lf});var u=L(7579),te=L(727),O=L(9751),le=L(6451),ue=L(3099);function re(o){for(let s in o)if(o[s]===re)return s;throw Error("Could not find renamed property on target object.")}function we(o,s){for(const c in s)s.hasOwnProperty(c)&&!o.hasOwnProperty(c)&&(o[c]=s[c])}function xe(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(xe).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const s=o.toString();if(null==s)return""+s;const c=s.indexOf("\n");return-1===c?s:s.substring(0,c)}function _e(o,s){return null==o||""===o?null===s?"":s:null==s||""===s?o:o+" "+s}const z=re({__forward_ref__:re});function $(o){return o.__forward_ref__=$,o.toString=function(){return xe(this())},o}function Y(o){return Ge(o)?o():o}function Ge(o){return"function"==typeof o&&o.hasOwnProperty(z)&&o.__forward_ref__===$}function Se(o){return o&&!!o.\u0275providers}const ht="https://g.co/ng/security#xss";class ye extends Error{constructor(s,c){super(Oe(s,c)),this.code=s}}function Oe(o,s){return`NG0${Math.abs(o)}${s?": "+s.trim():""}`}function Fe(o){return"string"==typeof o?o:null==o?"":String(o)}function Ze(o,s){throw new ye(-201,!1)}function ve(o,s){null==o&&function de(o,s,c,d){throw new Error(`ASSERTION ERROR: ${o}`+(null==d?"":` [Expected=> ${c} ${d} ${s} <=Actual]`))}(s,o,null,"!=")}function gt(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function vt(o){return{providers:o.providers||[],imports:o.imports||[]}}function Jt(o){return In(o,Un)||In(o,di)}function Sn(o){return null!==Jt(o)}function In(o,s){return o.hasOwnProperty(s)?o[s]:null}function vr(o){return o&&(o.hasOwnProperty(Yr)||o.hasOwnProperty(Br))?o[Yr]:null}const Un=re({\u0275prov:re}),Yr=re({\u0275inj:re}),di=re({ngInjectableDef:re}),Br=re({ngInjectorDef:re});var bt=(()=>((bt=bt||{})[bt.Default=0]="Default",bt[bt.Host=1]="Host",bt[bt.Self=2]="Self",bt[bt.SkipSelf=4]="SkipSelf",bt[bt.Optional=8]="Optional",bt))();let hi;function Rr(o){const s=hi;return hi=o,s}function Qr(o,s,c){const d=Jt(o);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&bt.Optional?null:void 0!==s?s:void Ze(xe(o))}const sn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Ci={},fi="__NG_DI_FLAG__",br="ngTempTokenPath",Xr="ngTokenPath",Fn=/\n/gm,pi="\u0275",yn="__source";let Xo;function en(o){const s=Xo;return Xo=o,s}function so(o,s=bt.Default){if(void 0===Xo)throw new ye(-203,!1);return null===Xo?Qr(o,void 0,s):Xo.get(o,s&bt.Optional?null:void 0,s)}function un(o,s=bt.Default){return(function Ou(){return hi}()||so)(Y(o),s)}function jn(o,s=bt.Default){return un(o,tr(s))}function tr(o){return typeof o>"u"||"number"==typeof o?o:0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)}function ji(o){const s=[];for(let c=0;c<o.length;c++){const d=Y(o[c]);if(Array.isArray(d)){if(0===d.length)throw new ye(900,!1);let h,g=bt.Default;for(let v=0;v<d.length;v++){const I=d[v],C=Hi(I);"number"==typeof C?-1===C?h=I.token:g|=C:h=I}s.push(un(h,g))}else s.push(un(d))}return s}function Dn(o,s){return o[fi]=s,o.prototype[fi]=s,o}function Hi(o){return o[fi]}function V(o){return{toString:o}.toString()}var K=(()=>((K=K||{})[K.OnPush=0]="OnPush",K[K.Default=1]="Default",K))(),Ee=(()=>{return(o=Ee||(Ee={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",Ee;var o})();const ne={},Ue=[],Rt=re({\u0275cmp:re}),nn=re({\u0275dir:re}),Wn=re({\u0275pipe:re}),Mn=re({\u0275mod:re}),pn=re({\u0275fac:re}),Xt=re({__NG_ELEMENT_ID__:re});let Vr=0;function $i(o){return V(()=>{const s=ol(o),c={...s,decls:o.decls,vars:o.vars,template:o.template,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,onPush:o.changeDetection===K.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&o.dependencies||null,getStandaloneInjector:null,data:o.data||{},encapsulation:o.encapsulation||Ee.Emulated,id:"c"+Vr++,styles:o.styles||Ue,_:null,schemas:o.schemas||null,tView:null};Ip(c);const d=o.dependencies;return c.directiveDefs=_a(d,!1),c.pipeDefs=_a(d,!0),c})}function nc(o){return wt(o)||an(o)}function me(o){return null!==o}function ie(o){return V(()=>({type:o.type,bootstrap:o.bootstrap||Ue,declarations:o.declarations||Ue,imports:o.imports||Ue,exports:o.exports||Ue,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function yt(o,s){if(null==o)return ne;const c={};for(const d in o)if(o.hasOwnProperty(d)){let h=o[d],g=h;Array.isArray(h)&&(g=h[1],h=h[0]),c[h]=d,s&&(s[h]=g)}return c}function At(o){return V(()=>{const s=ol(o);return Ip(s),s})}function Zt(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function wt(o){return o[Rt]||null}function an(o){return o[nn]||null}function rn(o){return o[Wn]||null}function wr(o){const s=wt(o)||an(o)||rn(o);return null!==s&&s.standalone}function nr(o,s){const c=o[Mn]||null;if(!c&&!0===s)throw new Error(`Type ${xe(o)} does not have '\u0275mod' property.`);return c}function ol(o){const s={};return{type:o.type,providersResolver:null,factory:null,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:s,exportAs:o.exportAs||null,standalone:!0===o.standalone,selectors:o.selectors||Ue,viewQuery:o.viewQuery||null,features:o.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:yt(o.inputs,s),outputs:yt(o.outputs)}}function Ip(o){o.features?.forEach(s=>s(o))}function _a(o,s){if(!o)return null;const c=s?rn:nc;return()=>("function"==typeof o?o():o).map(d=>c(d)).filter(me)}const Di=0,Je=1,Ht=2,An=3,Ai=4,_n=5,rr=6,To=7,Hn=8,rc=9,co=10,Wt=11,ic=12,As=13,lo=14,Jo=15,Zn=16,ya=17,Do=18,zi=19,Ss=20,dr=21,xn=22,oc=1,Fu=2,va=7,es=8,Ms=9,Er=10;function gi(o){return Array.isArray(o)&&"object"==typeof o[oc]}function _i(o){return Array.isArray(o)&&!0===o[oc]}function sc(o){return 0!=(4&o.flags)}function ba(o){return o.componentOffset>-1}function Lu(o){return 1==(1&o.flags)}function ei(o){return!!o.template}function al(o){return 0!=(256&o[Ht])}function uo(o,s){return o.hasOwnProperty(pn)?o[pn]:null}class Rs{constructor(s,c,d){this.previousValue=s,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function Vu(){return ac}function ac(o){return o.type.prototype.ngOnChanges&&(o.setInput=Uu),gh}function gh(){const o=Tp(this),s=o?.current;if(s){const c=o.previous;if(c===ne)o.previous=s;else for(let d in s)c[d]=s[d];o.current=null,this.ngOnChanges(s)}}function Uu(o,s,c,d){const h=this.declaredInputs[c],g=Tp(o)||function ul(o,s){return o[ts]=s}(o,{previous:ne,current:null}),v=g.current||(g.current={}),I=g.previous,C=I[h];v[h]=new Rs(C&&C.currentValue,s,I===ne),o[d]=s}Vu.ngInherit=!0;const ts="__ngSimpleChanges__";function Tp(o){return o[ts]||null}const ti=function(o,s,c){};function Ir(o){for(;Array.isArray(o);)o=o[Di];return o}function Mo(o,s){return Ir(s[o])}function xr(o,s){return Ir(s[o.index])}function yh(o,s){return o.data[s]}function Hr(o,s){return o[s]}function hr(o,s){const c=s[o];return gi(c)?c:c[Di]}function Ro(o){return 64==(64&o[Ht])}function rs(o,s){return null==s?null:o[s]}function Ia(o){o[Do]=0}function lc(o,s){o[_n]+=s;let c=o,d=o[An];for(;null!==d&&(1===s&&1===c[_n]||-1===s&&0===c[_n]);)d[_n]+=s,c=d,d=d[An]}const Vt={lFrame:$u(null),bindingsEnabled:!0};function pl(){return Vt.bindingsEnabled}function ge(){return Vt.lFrame.lView}function $t(){return Vt.lFrame.tView}function dc(o){return Vt.lFrame.contextLView=o,o[Hn]}function hc(o){return Vt.lFrame.contextLView=null,o}function fr(){let o=ks();for(;null!==o&&64===o.type;)o=o.parent;return o}function ks(){return Vt.lFrame.currentTNode}function ni(o,s){const c=Vt.lFrame;c.currentTNode=o,c.isParent=s}function Ih(){return Vt.lFrame.isParent}function gl(){Vt.lFrame.isParent=!1}function ir(){const o=Vt.lFrame;let s=o.bindingRootIndex;return-1===s&&(s=o.bindingRootIndex=o.tView.bindingStartIndex),s}function Ps(){return Vt.lFrame.bindingIndex++}function _l(o,s){const c=Vt.lFrame;c.bindingIndex=c.bindingRootIndex=o,or(s)}function or(o){Vt.lFrame.currentDirectiveIndex=o}function Hu(){return Vt.lFrame.currentQueryIndex}function yl(o){Vt.lFrame.currentQueryIndex=o}function Ch(o){const s=o[Je];return 2===s.type?s.declTNode:1===s.type?o[rr]:null}function vl(o,s,c){if(c&bt.SkipSelf){let h=s,g=o;for(;!(h=h.parent,null!==h||c&bt.Host||(h=Ch(g),null===h||(g=g[Jo],10&h.type))););if(null===h)return!1;s=h,o=g}const d=Vt.lFrame=mc();return d.currentTNode=s,d.lView=o,!0}function bl(o){const s=mc(),c=o[Je];Vt.lFrame=s,s.currentTNode=c.firstChild,s.lView=o,s.tView=c,s.contextLView=o,s.bindingIndex=c.bindingStartIndex,s.inI18n=!1}function mc(){const o=Vt.lFrame,s=null===o?null:o.child;return null===s?$u(o):s}function $u(o){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=s),s}function gc(){const o=Vt.lFrame;return Vt.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const Th=gc;function wl(){const o=gc();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function kr(){return Vt.lFrame.selectedIndex}function Po(o){Vt.lFrame.selectedIndex=o}function Rn(){const o=Vt.lFrame;return yh(o.tView,o.selectedIndex)}function xl(o,s){for(let c=s.directiveStart,d=s.directiveEnd;c<d;c++){const g=o.data[c].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:I,ngAfterViewInit:C,ngAfterViewChecked:M,ngOnDestroy:P}=g;v&&(o.contentHooks??(o.contentHooks=[])).push(-c,v),I&&((o.contentHooks??(o.contentHooks=[])).push(c,I),(o.contentCheckHooks??(o.contentCheckHooks=[])).push(c,I)),C&&(o.viewHooks??(o.viewHooks=[])).push(-c,C),M&&((o.viewHooks??(o.viewHooks=[])).push(c,M),(o.viewCheckHooks??(o.viewCheckHooks=[])).push(c,M)),null!=P&&(o.destroyHooks??(o.destroyHooks=[])).push(c,P)}}function zu(o,s,c){qu(o,s,3,c)}function Gu(o,s,c,d){(3&o[Ht])===c&&qu(o,s,c,d)}function Ah(o,s){let c=o[Ht];(3&c)===s&&(c&=2047,c+=1,o[Ht]=c)}function qu(o,s,c,d){const g=d??-1,v=s.length-1;let I=0;for(let C=void 0!==d?65535&o[Do]:0;C<v;C++)if("number"==typeof s[C+1]){if(I=s[C],null!=d&&I>=d)break}else s[C]<0&&(o[Do]+=65536),(I<g||-1==g)&&(Ca(o,c,s,C),o[Do]=(4294901760&o[Do])+C+2),C++}function Ca(o,s,c,d){const h=c[d]<0,g=c[d+1],I=o[h?-c[d]:c[d]];if(h){if(o[Ht]>>11<o[Do]>>16&&(3&o[Ht])===s){o[Ht]+=2048,ti(4,I,g);try{g.call(I)}finally{ti(5,I,g)}}}else{ti(4,I,g);try{g.call(I)}finally{ti(5,I,g)}}}const Ta=-1;class No{constructor(s,c,d){this.factory=s,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function Da(o,s,c){let d=0;for(;d<c.length;){const h=c[d];if("number"==typeof h){if(0!==h)break;d++;const g=c[d++],v=c[d++],I=c[d++];o.setAttribute(s,v,I,g)}else{const g=h,v=c[++d];Ls(g)?o.setProperty(s,g,v):o.setAttribute(s,g,v),d++}}return d}function Wu(o){return 3===o||4===o||6===o}function Ls(o){return 64===o.charCodeAt(0)}function Bs(o,s){if(null!==s&&0!==s.length)if(null===o||0===o.length)o=s.slice();else{let c=-1;for(let d=0;d<s.length;d++){const h=s[d];"number"==typeof h?c=h:0===c||Dl(o,c,h,null,-1===c||2===c?s[++d]:null)}}return o}function Dl(o,s,c,d,h){let g=0,v=o.length;if(-1===s)v=-1;else for(;g<o.length;){const I=o[g++];if("number"==typeof I){if(I===s){v=-1;break}if(I>s){v=g-1;break}}}for(;g<o.length;){const I=o[g];if("number"==typeof I)break;if(I===c){if(null===d)return void(null!==h&&(o[g+1]=h));if(d===o[g+1])return void(o[g+2]=h)}g++,null!==d&&g++,null!==h&&g++}-1!==v&&(o.splice(v,0,s),g=v+1),o.splice(g++,0,c),null!==d&&o.splice(g++,0,d),null!==h&&o.splice(g++,0,h)}function Vs(o){return o!==Ta}function is(o){return 32767&o}function Us(o,s){let c=function Sh(o){return o>>16}(o),d=s;for(;c>0;)d=d[Jo],c--;return d}let Al=!0;function yc(o){const s=Al;return Al=o,s}const Sl=255,Mh=5;let js=0;const Ri={};function Zu(o,s){const c=Sa(o,s);if(-1!==c)return c;const d=s[Je];d.firstCreatePass&&(o.injectorIndex=s.length,Aa(d.data,o),Aa(s,null),Aa(d.blueprint,null));const h=Rh(o,s),g=o.injectorIndex;if(Vs(h)){const v=is(h),I=Us(h,s),C=I[Je].data;for(let M=0;M<8;M++)s[g+M]=I[v+M]|C[v+M]}return s[g+8]=h,g}function Aa(o,s){o.push(0,0,0,0,0,0,0,0,s)}function Sa(o,s){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===s[o.injectorIndex+8]?-1:o.injectorIndex}function Rh(o,s){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let c=0,d=null,h=s;for(;null!==h;){if(d=wc(h),null===d)return Ta;if(c++,h=h[Jo],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return Ta}function vn(o,s,c){!function Oo(o,s,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty(Xt)&&(d=c[Xt]),null==d&&(d=c[Xt]=js++);const h=d&Sl;s.data[o+(h>>Mh)]|=1<<h}(o,s,c)}function Ml(o,s,c){if(c&bt.Optional||void 0!==o)return o;Ze()}function Ku(o,s,c,d){if(c&bt.Optional&&void 0===d&&(d=null),!(c&(bt.Self|bt.Host))){const h=o[rc],g=Rr(void 0);try{return h?h.get(s,d,c&bt.Optional):Qr(s,d,c&bt.Optional)}finally{Rr(g)}}return Ml(d,0,c)}function Rl(o,s,c,d=bt.Default,h){if(null!==o){if(1024&s[Ht]){const v=function Qu(o,s,c,d,h){let g=o,v=s;for(;null!==g&&null!==v&&1024&v[Ht]&&!(256&v[Ht]);){const I=kl(g,v,c,d|bt.Self,Ri);if(I!==Ri)return I;let C=g.parent;if(!C){const M=v[dr];if(M){const P=M.get(c,Ri,d);if(P!==Ri)return P}C=wc(v),v=v[Jo]}g=C}return h}(o,s,c,d,Ri);if(v!==Ri)return v}const g=kl(o,s,c,d,Ri);if(g!==Ri)return g}return Ku(s,c,d,h)}function kl(o,s,c,d,h){const g=function Yu(o){if("string"==typeof o)return o.charCodeAt(0)||0;const s=o.hasOwnProperty(Xt)?o[Xt]:void 0;return"number"==typeof s?s>=0?s&Sl:kp:s}(c);if("function"==typeof g){if(!vl(s,o,d))return d&bt.Host?Ml(h,0,d):Ku(s,c,d,h);try{const v=g(d);if(null!=v||d&bt.Optional)return v;Ze()}finally{Th()}}else if("number"==typeof g){let v=null,I=Sa(o,s),C=Ta,M=d&bt.Host?s[Zn][rr]:null;for((-1===I||d&bt.SkipSelf)&&(C=-1===I?Rh(o,s):s[I+8],C!==Ta&&bc(d,!1)?(v=s[Je],I=is(C),s=Us(C,s)):I=-1);-1!==I;){const P=s[Je];if(vc(g,I,P.data)){const B=pr(I,s,c,v,d,M);if(B!==Ri)return B}C=s[I+8],C!==Ta&&bc(d,s[Je].data[I+8]===M)&&vc(g,I,s)?(v=P,I=is(C),s=Us(C,s)):I=-1}}return h}function pr(o,s,c,d,h,g){const v=s[Je],I=v.data[o+8],P=Hs(I,v,c,null==d?ba(I)&&Al:d!=v&&0!=(3&I.type),h&bt.Host&&g===I);return null!==P?Kn(s,v,P,I):Ri}function Hs(o,s,c,d,h){const g=o.providerIndexes,v=s.data,I=1048575&g,C=o.directiveStart,P=g>>20,W=h?I+P:o.directiveEnd;for(let ee=d?I:I+P;ee<W;ee++){const Ie=v[ee];if(ee<C&&c===Ie||ee>=C&&Ie.type===c)return ee}if(h){const ee=v[C];if(ee&&ei(ee)&&ee.type===c)return C}return null}function Kn(o,s,c,d){let h=o[c];const g=s.data;if(function qg(o){return o instanceof No}(h)){const v=h;v.resolving&&function Le(o,s){const c=s?`. Dependency path: ${s.join(" > ")} > ${o}`:"";throw new ye(-200,`Circular dependency in DI detected for ${o}${c}`)}(function $e(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():Fe(o)}(g[c]));const I=yc(v.canSeeViewProviders);v.resolving=!0;const C=v.injectImpl?Rr(v.injectImpl):null;vl(o,d,bt.Default);try{h=o[c]=v.factory(void 0,g,o,d),s.firstCreatePass&&c>=d.directiveStart&&function Gg(o,s,c){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:g}=s.type.prototype;if(d){const v=ac(s);(c.preOrderHooks??(c.preOrderHooks=[])).push(o,v),(c.preOrderCheckHooks??(c.preOrderCheckHooks=[])).push(o,v)}h&&(c.preOrderHooks??(c.preOrderHooks=[])).push(0-o,h),g&&((c.preOrderHooks??(c.preOrderHooks=[])).push(o,g),(c.preOrderCheckHooks??(c.preOrderCheckHooks=[])).push(o,g))}(c,g[c],s)}finally{null!==C&&Rr(C),yc(I),v.resolving=!1,Th()}}return h}function vc(o,s,c){return!!(c[s+(o>>Mh)]&1<<o)}function bc(o,s){return!(o&bt.Self||o&bt.Host&&s)}class Fo{constructor(s,c){this._tNode=s,this._lView=c}get(s,c,d){return Rl(this._tNode,this._lView,s,tr(d),c)}}function kp(){return new Fo(fr(),ge())}function Pl(o){return V(()=>{const s=o.prototype.constructor,c=s[pn]||$s(s),d=Object.prototype;let h=Object.getPrototypeOf(o.prototype).constructor;for(;h&&h!==d;){const g=h[pn]||$s(h);if(g&&g!==c)return g;h=Object.getPrototypeOf(h)}return g=>new g})}function $s(o){return Ge(o)?()=>{const s=$s(Y(o));return s&&s()}:uo(o)}function wc(o){const s=o[Je],c=s.type;return 2===c?s.declTNode:1===c?o[rr]:null}function Ma(o){return function kh(o,s){if("class"===s)return o.classes;if("style"===s)return o.styles;const c=o.attrs;if(c){const d=c.length;let h=0;for(;h<d;){const g=c[h];if(Wu(g))break;if(0===g)h+=2;else if("number"==typeof g)for(h++;h<d&&"string"==typeof c[h];)h++;else{if(g===s)return c[h+1];h+=2}}}return null}(fr(),o)}const zs="__parameters__";function qs(o,s,c){return V(()=>{const d=function Gs(o){return function(...c){if(o){const d=o(...c);for(const h in d)this[h]=d[h]}}}(s);function h(...g){if(this instanceof h)return d.apply(this,g),this;const v=new h(...g);return I.annotation=v,I;function I(C,M,P){const B=C.hasOwnProperty(zs)?C[zs]:Object.defineProperty(C,zs,{value:[]})[zs];for(;B.length<=P;)B.push(null);return(B[P]=B[P]||[]).push(v),C}}return c&&(h.prototype=Object.create(c.prototype)),h.prototype.ngMetadataName=o,h.annotationCls=h,h})}class tn{constructor(s,c){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=gt({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function fo(o,s){o.forEach(c=>Array.isArray(c)?fo(c,s):s(c))}function Lp(o,s,c){s>=o.length?o.push(c):o.splice(s,0,c)}function Zs(o,s){return s>=o.length-1?o.pop():o.splice(s,1)[0]}function Ol(o,s){const c=[];for(let d=0;d<o;d++)c.push(s);return c}function ri(o,s,c){let d=yi(o,s);return d>=0?o[1|d]=c:(d=~d,function Bl(o,s,c,d){let h=o.length;if(h==s)o.push(c,d);else if(1===h)o.push(d,o[0]),o[0]=c;else{for(h--,o.push(o[h-1],o[h]);h>s;)o[h]=o[h-2],h--;o[s]=c,o[s+1]=d}}(o,d,s,c)),d}function on(o,s){const c=yi(o,s);if(c>=0)return o[1|c]}function yi(o,s){return function kn(o,s,c){let d=0,h=o.length>>c;for(;h!==d;){const g=d+(h-d>>1),v=o[g<<c];if(s===v)return g<<c;v>s?h=g:d=g+1}return~(h<<c)}(o,s,1)}const Ac=Dn(qs("Optional"),8),ct=Dn(qs("SkipSelf"),4);var Tt=(()=>((Tt=Tt||{})[Tt.Important=1]="Important",Tt[Tt.DashCase=2]="DashCase",Tt))();const Bh=new Map;let Ki=0;const Q="__ngContext__";function se(o,s){gi(s)?(o[Q]=s[Ss],function Uh(o){Bh.set(o[Ss],o)}(s)):o[Q]=s}let Yi;function hs(o,s){return Yi(o,s)}function ld(o){const s=o[An];return _i(s)?s[An]:s}function ud(o){return jp(o[As])}function ea(o){return jp(o[Ai])}function jp(o){for(;null!==o&&!_i(o);)o=o[Ai];return o}function ta(o,s,c,d,h){if(null!=d){let g,v=!1;_i(d)?g=d:gi(d)&&(v=!0,d=d[Di]);const I=Ir(d);0===o&&null!==c?null==h?hd(s,c,I):Fa(s,c,I,h||null,!0):1===o&&null!==c?Fa(s,c,I,h||null,!0):2===o?function Gp(o,s,c){const d=na(o,s);d&&function fd(o,s,c,d){o.removeChild(s,c,d)}(o,d,s,c)}(s,I,v):3===o&&s.destroyNode(I),null!=g&&function _d(o,s,c,d,h){const g=c[va];g!==Ir(c)&&ta(s,o,d,g,h);for(let I=Er;I<c.length;I++){const C=c[I];gd(C[Je],C,o,s,d,g)}}(s,o,g,c,h)}}function $p(o,s,c){return o.createElement(s,c)}function Yg(o,s){const c=o[Ms],d=c.indexOf(s),h=s[An];512&s[Ht]&&(s[Ht]&=-513,lc(h,-1)),c.splice(d,1)}function dd(o,s){if(o.length<=Er)return;const c=Er+s,d=o[c];if(d){const h=d[ya];null!==h&&h!==o&&Yg(h,d),s>0&&(o[c-1][Ai]=d[Ai]);const g=Zs(o,Er+s);!function lv(o,s){gd(o,s,s[Wt],2,null,null),s[Di]=null,s[rr]=null}(d[Je],d);const v=g[zi];null!==v&&v.detachView(g[Je]),d[An]=null,d[Ai]=null,d[Ht]&=-65}return d}function $h(o,s){if(!(128&s[Ht])){const c=s[Wt];c.destroyNode&&gd(o,s,c,3,null,null),function Cw(o){let s=o[As];if(!s)return Oa(o[Je],o);for(;s;){let c=null;if(gi(s))c=s[As];else{const d=s[Er];d&&(c=d)}if(!c){for(;s&&!s[Ai]&&s!==o;)gi(s)&&Oa(s[Je],s),s=s[An];null===s&&(s=o),gi(s)&&Oa(s[Je],s),c=s&&s[Ai]}s=c}}(s)}}function Oa(o,s){if(!(128&s[Ht])){s[Ht]&=-65,s[Ht]|=128,function Nc(o,s){let c;if(null!=o&&null!=(c=o.destroyHooks))for(let d=0;d<c.length;d+=2){const h=s[c[d]];if(!(h instanceof No)){const g=c[d+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const I=h[g[v]],C=g[v+1];ti(4,I,C);try{C.call(I)}finally{ti(5,I,C)}}else{ti(4,h,g);try{g.call(h)}finally{ti(5,h,g)}}}}}(o,s),function dv(o,s){const c=o.cleanup,d=s[To];let h=-1;if(null!==c)for(let g=0;g<c.length-1;g+=2)if("string"==typeof c[g]){const v=c[g+3];v>=0?d[h=v]():d[h=-v].unsubscribe(),g+=2}else{const v=d[h=c[g+1]];c[g].call(v)}if(null!==d){for(let g=h+1;g<d.length;g++)(0,d[g])();s[To]=null}}(o,s),1===s[Je].type&&s[Wt].destroy();const c=s[ya];if(null!==c&&_i(s[An])){c!==s[An]&&Yg(c,s);const d=s[zi];null!==d&&d.detachView(o)}!function E(o){Bh.delete(o[Ss])}(s)}}function Zl(o,s,c){return function hv(o,s,c){let d=s;for(;null!==d&&40&d.type;)d=(s=d).parent;if(null===d)return c[Di];{const{componentOffset:h}=d;if(h>-1){const{encapsulation:g}=o.data[d.directiveStart+h];if(g===Ee.None||g===Ee.Emulated)return null}return xr(d,c)}}(o,s.parent,c)}function Fa(o,s,c,d,h){o.insertBefore(s,c,d,h)}function hd(o,s,c){o.appendChild(s,c)}function Qg(o,s,c,d,h){null!==d?Fa(o,s,c,d,h):hd(o,s,c)}function na(o,s){return o.parentNode(s)}function Gh(o,s,c){return Oc(o,s,c)}let zp,La,bd,Yl,Oc=function pd(o,s,c){return 40&o.type?xr(o,c):null};function Fc(o,s,c,d){const h=Zl(o,d,s),g=s[Wt],I=Gh(d.parent||s[rr],d,s);if(null!=h)if(Array.isArray(c))for(let C=0;C<c.length;C++)Qg(g,h,c[C],I,!1);else Qg(g,h,c,I,!1);void 0!==zp&&zp(g,d,s,c,h)}function Wh(o,s){if(null!==s){const c=s.type;if(3&c)return xr(s,o);if(4&c)return Bo(-1,o[s.index]);if(8&c){const d=s.child;if(null!==d)return Wh(o,d);{const h=o[s.index];return _i(h)?Bo(-1,h):Ir(h)}}if(32&c)return hs(s,o)()||Ir(o[s.index]);{const d=Zh(o,s);return null!==d?Array.isArray(d)?d[0]:Wh(ld(o[Zn]),d):Wh(o,s.next)}}return null}function Zh(o,s){return null!==s?o[Zn][rr].projection[s.projection]:null}function Bo(o,s){const c=Er+o+1;if(c<s.length){const d=s[c],h=d[Je].firstChild;if(null!==h)return Wh(d,h)}return s[va]}function md(o,s,c,d,h,g,v){for(;null!=c;){const I=d[c.index],C=c.type;if(v&&0===s&&(I&&se(Ir(I),d),c.flags|=2),32!=(32&c.flags))if(8&C)md(o,s,c.child,d,h,g,!1),ta(s,o,h,I,g);else if(32&C){const M=hs(c,d);let P;for(;P=M();)ta(s,o,h,P,g);ta(s,o,h,I,g)}else 16&C?Wp(o,s,d,c,h,g):ta(s,o,h,I,g);c=v?c.projectionNext:c.next}}function gd(o,s,c,d,h,g){md(c,d,o.firstChild,s,h,g,!1)}function Wp(o,s,c,d,h,g){const v=c[Zn],C=v[rr].projection[d.projection];if(Array.isArray(C))for(let M=0;M<C.length;M++)ta(s,o,h,C[M],g);else md(o,s,C,v[An],h,g,!0)}function go(o,s,c){""===c?o.removeAttribute(s,"class"):o.setAttribute(s,"class",c)}function yd(o,s,c){const{mergedAttrs:d,classes:h,styles:g}=c;null!==d&&Da(o,s,d),null!==h&&go(o,s,h),null!==g&&function Zp(o,s,c){o.setAttribute(s,"style",c)}(o,s,g)}function Kl(o){return function vd(){if(void 0===La&&(La=null,sn.trustedTypes))try{La=sn.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return La}()?.createHTML(o)||o}function Jg(o){bd=o}function Qp(o){return function Yp(){if(void 0===Yl&&(Yl=null,sn.trustedTypes))try{Yl=sn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return Yl}()?.createScriptURL(o)||o}class Bc{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ht})`}}class Xp extends Bc{getTypeName(){return"HTML"}}class Jp extends Bc{getTypeName(){return"Style"}}class gv extends Bc{getTypeName(){return"Script"}}class em extends Bc{getTypeName(){return"URL"}}class tm extends Bc{getTypeName(){return"ResourceURL"}}function Pr(o){return o instanceof Bc?o.changingThisBreaksApplicationSecurity:o}function vi(o,s){const c=function Ql(o){return o instanceof Bc&&o.getTypeName()||null}(o);if(null!=c&&c!==s){if("ResourceURL"===c&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${c} (see ${ht})`)}return c===s}function t_(o){return new Xp(o)}function n_(o){return new Jp(o)}function r_(o){return new gv(o)}function sr(o){return new em(o)}function Kh(o){return new tm(o)}class Qh{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const c=(new window.DOMParser).parseFromString(Kl(s),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(s):(c.removeChild(c.firstChild),c)}catch{return null}}}class ps{constructor(s){this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(s){const c=this.inertDocument.createElement("template");return c.innerHTML=Kl(s),c}}const nm=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Uc(o){return(o=String(o)).match(nm)?o:"unsafe:"+o}function Vo(o){const s={};for(const c of o.split(","))s[c]=!0;return s}function jc(...o){const s={};for(const c of o)for(const d in c)c.hasOwnProperty(d)&&(s[d]=!0);return s}const Xl=Vo("area,br,col,hr,img,wbr"),i_=Vo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),o_=Vo("rp,rt"),m=jc(Xl,jc(i_,Vo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),jc(o_,Vo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),jc(o_,i_)),b=Vo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),j=jc(b,Vo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Vo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),X=Vo("script,style,template");class Pe{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let c=s.firstChild,d=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?d=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,d&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let h=this.checkClobberedElement(c,c.nextSibling);if(h){c=h;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(s){const c=s.nodeName.toLowerCase();if(!m.hasOwnProperty(c))return this.sanitizedSomething=!0,!X.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const d=s.attributes;for(let h=0;h<d.length;h++){const g=d.item(h),v=g.name,I=v.toLowerCase();if(!j.hasOwnProperty(I)){this.sanitizedSomething=!0;continue}let C=g.value;b[I]&&(C=Uc(C)),this.buf.push(" ",v,'="',at(C),'"')}return this.buf.push(">"),!0}endElement(s){const c=s.nodeName.toLowerCase();m.hasOwnProperty(c)&&!Xl.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(s){this.buf.push(at(s))}checkClobberedElement(s,c){if(c&&(s.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return c}}const We=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,st=/([^\#-~ |!])/g;function at(o){return o.replace(/&/g,"&amp;").replace(We,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(st,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Nn;function Uo(o,s){let c=null;try{Nn=Nn||function Yh(o){const s=new ps(o);return function Vc(){try{return!!(new window.DOMParser).parseFromString(Kl(""),"text/html")}catch{return!1}}()?new Qh(s):s}(o);let d=s?String(s):"";c=Nn.getInertBodyElement(d);let h=5,g=d;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,d=g,g=c.innerHTML,c=Nn.getInertBodyElement(d)}while(d!==g);return Kl((new Pe).sanitizeChildren(wd(c)||c))}finally{if(c){const d=wd(c)||c;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function wd(o){return"content"in o&&function _v(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var On=(()=>((On=On||{})[On.NONE=0]="NONE",On[On.HTML=1]="HTML",On[On.STYLE=2]="STYLE",On[On.SCRIPT=3]="SCRIPT",On[On.URL=4]="URL",On[On.RESOURCE_URL=5]="RESOURCE_URL",On))();function Ed(o){const s=rm();return s?s.sanitize(On.URL,o)||"":vi(o,"URL")?Pr(o):Uc(Fe(o))}function Id(o){const s=rm();if(s)return Qp(s.sanitize(On.RESOURCE_URL,o)||"");if(vi(o,"ResourceURL"))return Qp(Pr(o));throw new ye(904,!1)}function Jh(o,s,c){return function yv(o,s){return"src"===s&&("embed"===o||"frame"===o||"iframe"===o||"media"===o||"script"===o)||"href"===s&&("base"===o||"link"===o)?Id:Ed}(s,c)(o)}function rm(){const o=ge();return o&&o[ic]}const wv=new tn("ENVIRONMENT_INITIALIZER"),xd=new tn("INJECTOR",-1),ef=new tn("INJECTOR_DEF_TYPES");class Tw{get(s,c=Ci){if(c===Ci){const d=new Error(`NullInjectorError: No provider for ${xe(s)}!`);throw d.name="NullInjectorError",d}return c}}function im(...o){return{\u0275providers:tf(0,o),\u0275fromNgModule:!0}}function tf(o,...s){const c=[],d=new Set;let h;return fo(s,g=>{const v=g;Ev(v,c,[],d)&&(h||(h=[]),h.push(v))}),void 0!==h&&Dw(h,c),c}function Dw(o,s){for(let c=0;c<o.length;c++){const{providers:h}=o[c];Iv(h,g=>{s.push(g)})}}function Ev(o,s,c,d){if(!(o=Y(o)))return!1;let h=null,g=vr(o);const v=!g&&wt(o);if(g||v){if(v&&!v.standalone)return!1;h=o}else{const C=o.ngModule;if(g=vr(C),!g)return!1;h=C}const I=d.has(h);if(v){if(I)return!1;if(d.add(h),v.dependencies){const C="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const M of C)Ev(M,s,c,d)}}else{if(!g)return!1;{if(null!=g.imports&&!I){let M;d.add(h);try{fo(g.imports,P=>{Ev(P,s,c,d)&&(M||(M=[]),M.push(P))})}finally{}void 0!==M&&Dw(M,s)}if(!I){const M=uo(h)||(()=>new h);s.push({provide:h,useFactory:M,deps:Ue},{provide:ef,useValue:h,multi:!0},{provide:wv,useValue:()=>un(h),multi:!0})}const C=g.providers;null==C||I||Iv(C,P=>{s.push(P)})}}return h!==o&&void 0!==o.providers}function Iv(o,s){for(let c of o)Se(c)&&(c=c.\u0275providers),Array.isArray(c)?Iv(c,s):s(c)}const UC=re({provide:String,useValue:re});function xv(o){return null!==o&&"object"==typeof o&&UC in o}function Hc(o){return"function"==typeof o}const eu=new tn("Set Injector scope."),u_={},HC={};let Cv;function d_(){return void 0===Cv&&(Cv=new Tw),Cv}class Cd{}class Sw extends Cd{get destroyed(){return this._destroyed}constructor(s,c,d,h){super(),this.parent=c,this.source=d,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,rf(s,v=>this.processProvider(v)),this.records.set(xd,nf(void 0,this)),h.has("environment")&&this.records.set(Cd,nf(void 0,this));const g=this.records.get(eu);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(ef.multi,Ue,bt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();for(const s of this._onDestroyHooks)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(s){this._onDestroyHooks.push(s)}runInContext(s){this.assertNotDestroyed();const c=en(this),d=Rr(void 0);try{return s()}finally{en(c),Rr(d)}}get(s,c=Ci,d=bt.Default){this.assertNotDestroyed(),d=tr(d);const h=en(this),g=Rr(void 0);try{if(!(d&bt.SkipSelf)){let I=this.records.get(s);if(void 0===I){const C=function Sv(o){return"function"==typeof o||"object"==typeof o&&o instanceof tn}(s)&&Jt(s);I=C&&this.injectableDefInScope(C)?nf(Tv(s),u_):null,this.records.set(s,I)}if(null!=I)return this.hydrate(s,I)}return(d&bt.Self?d_():this.parent).get(s,c=d&bt.Optional&&c===Ci?null:c)}catch(v){if("NullInjectorError"===v.name){if((v[br]=v[br]||[]).unshift(xe(s)),h)throw v;return function Jr(o,s,c,d){const h=o[br];throw s[yn]&&h.unshift(s[yn]),o.message=function H(o,s,c,d=null){o=o&&"\n"===o.charAt(0)&&o.charAt(1)==pi?o.slice(2):o;let h=xe(s);if(Array.isArray(s))h=s.map(xe).join(" -> ");else if("object"==typeof s){let g=[];for(let v in s)if(s.hasOwnProperty(v)){let I=s[v];g.push(v+":"+("string"==typeof I?JSON.stringify(I):xe(I)))}h=`{${g.join(", ")}}`}return`${c}${d?"("+d+")":""}[${h}]: ${o.replace(Fn,"\n  ")}`}("\n"+o.message,h,c,d),o[Xr]=h,o[br]=null,o}(v,s,"R3InjectorError",this.source)}throw v}finally{Rr(g),en(h)}}resolveInjectorInitializers(){const s=en(this),c=Rr(void 0);try{const d=this.get(wv.multi,Ue,bt.Self);for(const h of d)h()}finally{en(s),Rr(c)}}toString(){const s=[],c=this.records;for(const d of c.keys())s.push(xe(d));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ye(205,!1)}processProvider(s){let c=Hc(s=Y(s))?s:Y(s&&s.provide);const d=function zC(o){return xv(o)?nf(void 0,o.useValue):nf(Dv(o),u_)}(s);if(Hc(s)||!0!==s.multi)this.records.get(c);else{let h=this.records.get(c);h||(h=nf(void 0,u_,!0),h.factory=()=>ji(h.multi),this.records.set(c,h)),c=s,h.multi.push(s)}this.records.set(c,d)}hydrate(s,c){return c.value===u_&&(c.value=HC,c.value=c.factory()),"object"==typeof c.value&&c.value&&function Mw(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(s){if(!s.providedIn)return!1;const c=Y(s.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}}function Tv(o){const s=Jt(o),c=null!==s?s.factory:uo(o);if(null!==c)return c;if(o instanceof tn)throw new ye(204,!1);if(o instanceof Function)return function $C(o){const s=o.length;if(s>0)throw Ol(s,"?"),new ye(204,!1);const c=function qn(o){return o&&(o[Un]||o[di])||null}(o);return null!==c?()=>c.factory(o):()=>new o}(o);throw new ye(204,!1)}function Dv(o,s,c){let d;if(Hc(o)){const h=Y(o);return uo(h)||Tv(h)}if(xv(o))d=()=>Y(o.useValue);else if(function Aw(o){return!(!o||!o.useFactory)}(o))d=()=>o.useFactory(...ji(o.deps||[]));else if(function jC(o){return!(!o||!o.useExisting)}(o))d=()=>un(Y(o.useExisting));else{const h=Y(o&&(o.useClass||o.provide));if(!function Av(o){return!!o.deps}(o))return uo(h)||Tv(h);d=()=>new h(...ji(o.deps))}return d}function nf(o,s,c=!1){return{factory:o,value:s,multi:c?[]:void 0}}function rf(o,s){for(const c of o)Array.isArray(c)?rf(c,s):c&&Se(c)?rf(c.\u0275providers,s):s(c)}class GC{}class Rw{}class Pw{resolveComponentFactory(s){throw function qC(o){const s=Error(`No component factory found for ${xe(o)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=o,s}(s)}}let sf=(()=>{class o{}return o.NULL=new Pw,o})();function h_(){return $c(fr(),ge())}function $c(o,s){return new af(xr(o,s))}let af=(()=>{class o{constructor(c){this.nativeElement=c}}return o.__NG_ELEMENT_ID__=h_,o})();function om(o){return o instanceof af?o.nativeElement:o}class Rv{}let WC=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function ZC(){const o=ge(),c=hr(fr().index,o);return(gi(c)?c:o)[Wt]}(),o})(),KC=(()=>{class o{}return o.\u0275prov=gt({token:o,providedIn:"root",factory:()=>null}),o})();class Nw{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const Ow=new Nw("15.2.9"),f_={},kv="ngOriginalError";function Pv(o){return o[kv]}class sm{constructor(){this._console=console}handleError(s){const c=this._findOriginalError(s);this._console.error("ERROR",s),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(s){let c=s&&Pv(s);for(;c&&Pv(c);)c=Pv(c);return c||null}}function Ba(o){return o instanceof Function?o():o}function jw(o,s,c){let d=o.length;for(;;){const h=o.indexOf(s,c);if(-1===h)return h;if(0===h||o.charCodeAt(h-1)<=32){const g=s.length;if(h+g===d||o.charCodeAt(h+g)<=32)return h}c=h+1}}const Nv="ng-template";function Ov(o,s,c){let d=0,h=!0;for(;d<o.length;){let g=o[d++];if("string"==typeof g&&h){const v=o[d++];if(c&&"class"===g&&-1!==jw(v.toLowerCase(),s,0))return!0}else{if(1===g){for(;d<o.length&&"string"==typeof(g=o[d++]);)if(g.toLowerCase()===s)return!0;return!1}"number"==typeof g&&(h=!1)}}return!1}function Fv(o){return 4===o.type&&o.value!==Nv}function cf(o,s,c){return s===(4!==o.type||c?o.value:Nv)}function Lv(o,s,c){let d=4;const h=o.attrs||[],g=function $w(o){for(let s=0;s<o.length;s++)if(Wu(o[s]))return s;return o.length}(h);let v=!1;for(let I=0;I<s.length;I++){const C=s[I];if("number"!=typeof C){if(!v)if(4&d){if(d=2|1&d,""!==C&&!cf(o,C,c)||""===C&&1===s.length){if(ra(d))return!1;v=!0}}else{const M=8&d?C:s[++I];if(8&d&&null!==o.attrs){if(!Ov(o.attrs,M,c)){if(ra(d))return!1;v=!0}continue}const B=Hw(8&d?"class":C,h,Fv(o),c);if(-1===B){if(ra(d))return!1;v=!0;continue}if(""!==M){let W;W=B>g?"":h[B+1].toLowerCase();const ee=8&d?W:null;if(ee&&-1!==jw(ee,M,0)||2&d&&M!==W){if(ra(d))return!1;v=!0}}}}else{if(!v&&!ra(d)&&!ra(C))return!1;if(v&&ra(C))continue;v=!1,d=C|1&d}}return ra(d)||v}function ra(o){return 0==(1&o)}function Hw(o,s,c,d){if(null===s)return-1;let h=0;if(d||!c){let g=!1;for(;h<s.length;){const v=s[h];if(v===o)return h;if(3===v||6===v)g=!0;else{if(1===v||2===v){let I=s[++h];for(;"string"==typeof I;)I=s[++h];continue}if(4===v)break;if(0===v){h+=4;continue}}h+=g?1:2}return-1}return function zw(o,s){let c=o.indexOf(4);if(c>-1)for(c++;c<o.length;){const d=o[c];if("number"==typeof d)return-1;if(d===s)return c;c++}return-1}(s,o)}function cm(o,s,c=!1){for(let d=0;d<s.length;d++)if(Lv(o,s[d],c))return!0;return!1}function nT(o,s){e:for(let c=0;c<s.length;c++){const d=s[c];if(o.length===d.length){for(let h=0;h<o.length;h++)if(o[h]!==d[h])continue e;return!0}}return!1}function Gw(o,s){return o?":not("+s.trim()+")":s}function rT(o){let s=o[0],c=1,d=2,h="",g=!1;for(;c<o.length;){let v=o[c];if("string"==typeof v)if(2&d){const I=o[++c];h+="["+v+(I.length>0?'="'+I+'"':"")+"]"}else 8&d?h+="."+v:4&d&&(h+=" "+v);else""!==h&&!ra(v)&&(s+=Gw(g,h),h=""),d=v,g=g||!ra(d);c++}return""!==h&&(s+=Gw(g,h)),s}const zt={};function qw(o){Ww($t(),ge(),kr()+o,!1)}function Ww(o,s,c,d){if(!d)if(3==(3&s[Ht])){const g=o.preOrderCheckHooks;null!==g&&zu(s,g,c)}else{const g=o.preOrderHooks;null!==g&&Gu(s,g,0,c)}Po(c)}function Kw(o,s=null,c=null,d){const h=Bv(o,s,c,d);return h.resolveInjectorInitializers(),h}function Bv(o,s=null,c=null,d,h=new Set){const g=[c||Ue,im(o)];return d=d||("object"==typeof o?void 0:xe(o)),new Sw(g,s||d_(),d||null,h)}let lf=(()=>{class o{static create(c,d){if(Array.isArray(c))return Kw({name:""},d,c,"");{const h=c.name??"";return Kw({name:h},c.parent,c.providers,h)}}}return o.THROW_IF_NOT_FOUND=Ci,o.NULL=new Tw,o.\u0275prov=gt({token:o,providedIn:"any",factory:()=>un(xd)}),o.__NG_ELEMENT_ID__=-1,o})();function hf(o,s=bt.Default){const c=ge();return null===c?un(o,s):Rl(fr(),c,Y(o),s)}function eE(){throw new Error("invalid")}function tE(o,s){const c=o.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const g=c[d+1];if(-1!==g){const v=o.data[g];yl(c[d]),v.contentQueries(2,s[g],g)}}}function __(o,s,c,d,h,g,v,I,C,M,P){const B=s.blueprint.slice();return B[Di]=h,B[Ht]=76|d,(null!==P||o&&1024&o[Ht])&&(B[Ht]|=1024),Ia(B),B[An]=B[Jo]=o,B[Hn]=c,B[co]=v||o&&o[co],B[Wt]=I||o&&o[Wt],B[ic]=C||o&&o[ic]||null,B[rc]=M||o&&o[rc]||null,B[rr]=g,B[Ss]=function Vh(){return Ki++}(),B[dr]=P,B[Zn]=2==s.type?o[Zn]:B,B}function fm(o,s,c,d,h){let g=o.data[s];if(null===g)g=function pm(o,s,c,d,h){const g=ks(),v=Ih(),C=o.data[s]=function Yt(o,s,c,d,h,g){return{type:c,index:d,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,c,s,d,h);return null===o.firstChild&&(o.firstChild=C),null!==g&&(v?null==g.child&&null!==C.parent&&(g.child=C):null===g.next&&(g.next=C,C.prev=g)),C}(o,s,c,d,h),function xh(){return Vt.lFrame.inI18n}()&&(g.flags|=32);else if(64&g.type){g.type=c,g.value=d,g.attrs=h;const v=function ml(){const o=Vt.lFrame,s=o.currentTNode;return o.isParent?s:s.parent}();g.injectorIndex=null===v?-1:v.injectorIndex}return ni(g,!0),g}function ff(o,s,c,d){if(0===c)return-1;const h=s.length;for(let g=0;g<c;g++)s.push(d),o.blueprint.push(d),o.data.push(null);return h}function zn(o,s,c){bl(s);try{const d=o.viewQuery;null!==d&&bm(1,d,c);const h=o.template;null!==h&&$v(o,s,h,1,c),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&tE(o,s),o.staticViewQueries&&bm(2,o.viewQuery,c);const g=o.components;null!==g&&function nE(o,s){for(let c=0;c<s.length;c++)uE(o,s[c])}(s,g)}catch(d){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),d}finally{s[Ht]&=-5,wl()}}function pf(o,s,c,d){const h=s[Ht];if(128!=(128&h)){bl(s);try{Ia(s),function ho(o){return Vt.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==c&&$v(o,s,c,2,d);const v=3==(3&h);if(v){const M=o.preOrderCheckHooks;null!==M&&zu(s,M,null)}else{const M=o.preOrderHooks;null!==M&&Gu(s,M,0,null),Ah(s,0)}if(function _f(o){for(let s=ud(o);null!==s;s=ea(s)){if(!s[Fu])continue;const c=s[Ms];for(let d=0;d<c.length;d++){const h=c[d];512&h[Ht]||lc(h[An],1),h[Ht]|=512}}}(s),function CT(o){for(let s=ud(o);null!==s;s=ea(s))for(let c=Er;c<s.length;c++){const d=s[c],h=d[Je];Ro(d)&&pf(h,d,h.template,d[Hn])}}(s),null!==o.contentQueries&&tE(o,s),v){const M=o.contentCheckHooks;null!==M&&zu(s,M)}else{const M=o.contentHooks;null!==M&&Gu(s,M,1),Ah(s,1)}!function bT(o,s){const c=o.hostBindingOpCodes;if(null!==c)try{for(let d=0;d<c.length;d++){const h=c[d];if(h<0)Po(~h);else{const g=h,v=c[++d],I=c[++d];_l(v,g),I(2,s[g])}}}finally{Po(-1)}}(o,s);const I=o.components;null!==I&&function wT(o,s){for(let c=0;c<s.length;c++)lE(o,s[c])}(s,I);const C=o.viewQuery;if(null!==C&&bm(2,C,d),v){const M=o.viewCheckHooks;null!==M&&zu(s,M)}else{const M=o.viewHooks;null!==M&&Gu(s,M,2),Ah(s,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),s[Ht]&=-41,512&s[Ht]&&(s[Ht]&=-513,lc(s[An],-1))}finally{wl()}}}function $v(o,s,c,d,h){const g=kr(),v=2&d;try{Po(-1),v&&s.length>xn&&Ww(o,s,xn,!1),ti(v?2:0,h),c(d,h)}finally{Po(g),ti(v?3:1,h)}}function zv(o,s,c){if(sc(s)){const h=s.directiveEnd;for(let g=s.directiveStart;g<h;g++){const v=o.data[g];v.contentQueries&&v.contentQueries(1,c[g],g)}}}function bi(o,s,c){pl()&&(function Fi(o,s,c,d){const h=c.directiveStart,g=c.directiveEnd;ba(c)&&function xT(o,s,c){const d=xr(s,o),h=Gv(c),g=o[co],v=vm(o,__(o,h,null,c.onPush?32:16,d,s,g,g.createRenderer(d,c),null,null,null));o[s.index]=v}(s,c,o.data[h+c.componentOffset]),o.firstCreatePass||Zu(c,s),se(d,s);const v=c.initialInputs;for(let I=h;I<g;I++){const C=o.data[I],M=Kn(s,o,I,c);se(M,s),null!==v&&Va(0,I-h,M,C,0,v),ei(C)&&(hr(c.index,s)[Hn]=Kn(s,o,I,c))}}(o,s,c,xr(c,s)),64==(64&c.flags)&&_m(o,s,c))}function rE(o,s,c=xr){const d=s.localNames;if(null!==d){let h=s.index+1;for(let g=0;g<d.length;g+=2){const v=d[g+1],I=-1===v?c(s,o):o[v];o[h++]=I}}}function Gv(o){const s=o.tView;return null===s||s.incompleteFirstPass?o.tView=be(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):s}function be(o,s,c,d,h,g,v,I,C,M){const P=xn+d,B=P+h,W=function ia(o,s){const c=[];for(let d=0;d<s;d++)c.push(d<o?null:zt);return c}(P,B),ee="function"==typeof M?M():M;return W[Je]={type:o,blueprint:W,template:c,queries:null,viewQuery:I,declTNode:s,data:W.slice().fill(null,P),bindingStartIndex:P,expandoStartIndex:B,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:C,consts:ee,incompleteFirstPass:!1}}function zc(o,s,c,d){const h=Yv(s);null===c?h.push(d):(h.push(c),o.firstCreatePass&&fE(o).push(d,h.length-1))}function iE(o,s,c,d){for(let h in o)if(o.hasOwnProperty(h)){c=null===c?{}:c;const g=o[h];null===d?gs(c,s,h,g):d.hasOwnProperty(h)&&gs(c,s,d[h],g)}return c}function gs(o,s,c,d){o.hasOwnProperty(c)?o[c].push(s,d):o[c]=[s,d]}function Dt(o,s,c,d,h,g,v,I){const C=xr(s,c);let P,M=s.inputs;!I&&null!=M&&(P=M[d])?(Dd(o,c,P,d,h),ba(s)&&function y_(o,s){const c=hr(s,o);16&c[Ht]||(c[Ht]|=32)}(c,s.index)):3&s.type&&(d=function qv(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(d),h=null!=v?v(h,s.value||"",d):h,g.setProperty(C,d,h))}function gm(o,s,c,d){if(pl()){const h=null===d?null:{"":-1},g=function tu(o,s){const c=o.directiveRegistry;let d=null,h=null;if(c)for(let g=0;g<c.length;g++){const v=c[g];if(cm(s,v.selectors,!1))if(d||(d=[]),ei(v))if(null!==v.findHostDirectiveDefs){const I=[];h=h||new Map,v.findHostDirectiveDefs(v,I,h),d.unshift(...I,v),Wv(o,s,I.length)}else d.unshift(v),Wv(o,s,0);else h=h||new Map,v.findHostDirectiveDefs?.(v,d,h),d.push(v)}return null===d?null:[d,h]}(o,c);let v,I;null===g?v=I=null:[v,I]=g,null!==v&&oE(o,s,c,v,h,I),h&&function sE(o,s,c){if(s){const d=o.localNames=[];for(let h=0;h<s.length;h+=2){const g=c[s[h+1]];if(null==g)throw new ye(-301,!1);d.push(s[h],g)}}}(c,d,h)}c.mergedAttrs=Bs(c.mergedAttrs,c.attrs)}function oE(o,s,c,d,h,g){for(let M=0;M<d.length;M++)vn(Zu(c,s),o,d[M].type);!function aE(o,s,c){o.flags|=1,o.directiveStart=s,o.directiveEnd=s+c,o.providerIndexes=s}(c,o.data.length,d.length);for(let M=0;M<d.length;M++){const P=d[M];P.providersResolver&&P.providersResolver(P)}let v=!1,I=!1,C=ff(o,s,d.length,null);for(let M=0;M<d.length;M++){const P=d[M];c.mergedAttrs=Bs(c.mergedAttrs,P.hostAttrs),Li(o,c,s,C,P),Zv(C,P,h),null!==P.contentQueries&&(c.flags|=4),(null!==P.hostBindings||null!==P.hostAttrs||0!==P.hostVars)&&(c.flags|=64);const B=P.type.prototype;!v&&(B.ngOnChanges||B.ngOnInit||B.ngDoCheck)&&((o.preOrderHooks??(o.preOrderHooks=[])).push(c.index),v=!0),!I&&(B.ngOnChanges||B.ngDoCheck)&&((o.preOrderCheckHooks??(o.preOrderCheckHooks=[])).push(c.index),I=!0),C++}!function it(o,s,c){const h=s.directiveEnd,g=o.data,v=s.attrs,I=[];let C=null,M=null;for(let P=s.directiveStart;P<h;P++){const B=g[P],W=c?c.get(B):null,Ie=W?W.outputs:null;C=iE(B.inputs,P,C,W?W.inputs:null),M=iE(B.outputs,P,M,Ie);const He=null===C||null===v||Fv(s)?null:Kv(C,P,v);I.push(He)}null!==C&&(C.hasOwnProperty("class")&&(s.flags|=8),C.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=I,s.inputs=C,s.outputs=M}(o,c,g)}function _m(o,s,c){const d=c.directiveStart,h=c.directiveEnd,g=c.index,v=function zg(){return Vt.lFrame.currentDirectiveIndex}();try{Po(g);for(let I=d;I<h;I++){const C=o.data[I],M=s[I];or(I),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&ii(C,M)}}finally{Po(-1),or(v)}}function ii(o,s){null!==o.hostBindings&&o.hostBindings(1,s)}function Wv(o,s,c){s.componentOffset=c,(o.components??(o.components=[])).push(s.index)}function Zv(o,s,c){if(c){if(s.exportAs)for(let d=0;d<s.exportAs.length;d++)c[s.exportAs[d]]=o;ei(s)&&(c[""]=o)}}function Li(o,s,c,d,h){o.data[d]=h;const g=h.factory||(h.factory=uo(h.type)),v=new No(g,ei(h),hf);o.blueprint[d]=v,c[d]=v,function ET(o,s,c,d,h){const g=h.hostBindings;if(g){let v=o.hostBindingOpCodes;null===v&&(v=o.hostBindingOpCodes=[]);const I=~s.index;(function IT(o){let s=o.length;for(;s>0;){const c=o[--s];if("number"==typeof c&&c<0)return c}return 0})(v)!=I&&v.push(I),v.push(c,d,g)}}(o,s,d,ff(o,c,h.hostVars,zt),h)}function yo(o,s,c,d,h,g){const v=xr(o,s);!function gf(o,s,c,d,h,g,v){if(null==g)o.removeAttribute(s,h,c);else{const I=null==v?Fe(g):v(g,d||"",h);o.setAttribute(s,h,I,c)}}(s[Wt],v,g,o.value,c,d,h)}function Va(o,s,c,d,h,g){const v=g[s];if(null!==v){const I=d.setInput;for(let C=0;C<v.length;){const M=v[C++],P=v[C++],B=v[C++];null!==I?d.setInput(c,B,M,P):c[P]=B}}}function Kv(o,s,c){let d=null,h=0;for(;h<c.length;){const g=c[h];if(0!==g)if(5!==g){if("number"==typeof g)break;if(o.hasOwnProperty(g)){null===d&&(d=[]);const v=o[g];for(let I=0;I<v.length;I+=2)if(v[I]===s){d.push(g,v[I+1],c[h+1]);break}}h+=2}else h+=2;else h+=4}return d}function cE(o,s,c,d){return[o,!0,!1,s,null,0,d,c,null,null]}function lE(o,s){const c=hr(s,o);if(Ro(c)){const d=c[Je];48&c[Ht]?pf(d,c,d.template,c[Hn]):c[_n]>0&&ym(c)}}function ym(o){for(let d=ud(o);null!==d;d=ea(d))for(let h=Er;h<d.length;h++){const g=d[h];if(Ro(g))if(512&g[Ht]){const v=g[Je];pf(v,g,v.template,g[Hn])}else g[_n]>0&&ym(g)}const c=o[Je].components;if(null!==c)for(let d=0;d<c.length;d++){const h=hr(c[d],o);Ro(h)&&h[_n]>0&&ym(h)}}function uE(o,s){const c=hr(s,o),d=c[Je];(function TT(o,s){for(let c=s.length;c<o.blueprint.length;c++)s.push(o.blueprint[c])})(d,c),zn(d,c,c[Hn])}function vm(o,s){return o[As]?o[lo][Ai]=s:o[As]=s,o[lo]=s,s}function yf(o){for(;o;){o[Ht]|=32;const s=ld(o);if(al(o)&&!s)return o;o=s}return null}function vf(o,s,c,d=!0){const h=s[co];h.begin&&h.begin();try{pf(o,s,o.template,c)}catch(v){throw d&&pE(s,v),v}finally{h.end&&h.end()}}function bm(o,s,c){yl(0),s(o,c)}function Yv(o){return o[To]||(o[To]=[])}function fE(o){return o.cleanup||(o.cleanup=[])}function pE(o,s){const c=o[rc],d=c?c.get(sm,null):null;d&&d.handleError(s)}function Dd(o,s,c,d,h){for(let g=0;g<c.length;){const v=c[g++],I=c[g++],C=s[v],M=o.data[v];null!==M.setInput?M.setInput(C,h,d,I):C[I]=h}}function v_(o,s,c){let d=c?o.styles:null,h=c?o.classes:null,g=0;if(null!==s)for(let v=0;v<s.length;v++){const I=s[v];"number"==typeof I?g=I:1==g?h=_e(h,I):2==g&&(d=_e(d,I+": "+s[++v]+";"))}c?o.styles=d:o.stylesWithoutHost=d,c?o.classes=h:o.classesWithoutHost=h}function Ad(o,s,c,d,h=!1){for(;null!==c;){const g=s[c.index];if(null!==g&&d.push(Ir(g)),_i(g))for(let I=Er;I<g.length;I++){const C=g[I],M=C[Je].firstChild;null!==M&&Ad(C[Je],C,M,d)}const v=c.type;if(8&v)Ad(o,s,c.child,d);else if(32&v){const I=hs(c,s);let C;for(;C=I();)d.push(C)}else if(16&v){const I=Zh(s,c);if(Array.isArray(I))d.push(...I);else{const C=ld(s[Zn]);Ad(C[Je],C,I,d,!0)}}c=h?c.projectionNext:c.next}return d}class Sd{get rootNodes(){const s=this._lView,c=s[Je];return Ad(c,s,c.firstChild,[])}constructor(s,c){this._lView=s,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Hn]}set context(s){this._lView[Hn]=s}get destroyed(){return 128==(128&this._lView[Ht])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[An];if(_i(s)){const c=s[es],d=c?c.indexOf(this):-1;d>-1&&(dd(s,d),Zs(c,d))}this._attachedToViewContainer=!1}$h(this._lView[Je],this._lView)}onDestroy(s){zc(this._lView[Je],this._lView,null,s)}markForCheck(){yf(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ht]&=-65}reattach(){this._lView[Ht]|=64}detectChanges(){vf(this._lView[Je],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ye(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Hh(o,s){gd(o,s,s[Wt],2,null,null)}(this._lView[Je],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new ye(902,!1);this._appRef=s}}class DT extends Sd{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;vf(s[Je],s,s[Hn],!1)}checkNoChanges(){}get context(){return null}}class Qv extends sf{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const c=wt(s);return new Md(c,this.ngModule)}}function Xv(o){const s=[];for(let c in o)o.hasOwnProperty(c)&&s.push({propName:o[c],templateName:c});return s}class b_{constructor(s,c){this.injector=s,this.parentInjector=c}get(s,c,d){d=tr(d);const h=this.injector.get(s,f_,d);return h!==f_||c===f_?h:this.parentInjector.get(s,c,d)}}class Md extends Rw{get inputs(){return Xv(this.componentDef.inputs)}get outputs(){return Xv(this.componentDef.outputs)}constructor(s,c){super(),this.componentDef=s,this.ngModule=c,this.componentType=s.type,this.selector=function iT(o){return o.map(rT).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!c}create(s,c,d,h){let g=(h=h||this.ngModule)instanceof Cd?h:h?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const v=g?new b_(s,g):s,I=v.get(Rv,null);if(null===I)throw new ye(407,!1);const C=v.get(KC,null),M=I.createRenderer(null,this.componentDef),P=this.componentDef.selectors[0][0]||"div",B=d?function mf(o,s,c){return o.selectRootElement(s,c===Ee.ShadowDom)}(M,d,this.componentDef.encapsulation):$p(M,P,function mE(o){const s=o.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(P)),W=this.componentDef.onPush?288:272,ee=be(0,null,null,1,0,null,null,null,null,null),Ie=__(null,ee,null,W,null,null,I,M,C,v,null);let He,tt;bl(Ie);try{const _t=this.componentDef;let Ot,Ne=null;_t.findHostDirectiveDefs?(Ot=[],Ne=new Map,_t.findHostDirectiveDefs(_t,Ot,Ne),Ot.push(_t)):Ot=[_t];const qt=function eb(o,s){const c=o[Je],d=xn;return o[d]=s,fm(c,d,2,"#host",null)}(Ie,B),Vn=function _E(o,s,c,d,h,g,v,I){const C=h[Je];!function yE(o,s,c,d){for(const h of o)s.mergedAttrs=Bs(s.mergedAttrs,h.hostAttrs);null!==s.mergedAttrs&&(v_(s,s.mergedAttrs,!0),null!==c&&yd(d,c,s))}(d,o,s,v);const M=g.createRenderer(s,c),P=__(h,Gv(c),null,c.onPush?32:16,h[o.index],o,g,M,I||null,null,null);return C.firstCreatePass&&Wv(C,o,d.length-1),vm(h,P),h[o.index]=P}(qt,B,_t,Ot,Ie,I,M);tt=yh(ee,xn),B&&function vE(o,s,c,d){if(d)Da(o,c,["ng-version",Ow.full]);else{const{attrs:h,classes:g}=function oT(o){const s=[],c=[];let d=1,h=2;for(;d<o.length;){let g=o[d];if("string"==typeof g)2===h?""!==g&&s.push(g,o[++d]):8===h&&c.push(g);else{if(!ra(h))break;h=g}d++}return{attrs:s,classes:c}}(s.selectors[0]);h&&Da(o,c,h),g&&g.length>0&&go(o,c,g.join(" "))}}(M,_t,B,d),void 0!==c&&function bE(o,s,c){const d=o.projection=[];for(let h=0;h<s.length;h++){const g=c[h];d.push(null!=g?Array.from(g):null)}}(tt,this.ngContentSelectors,c),He=function AT(o,s,c,d,h,g){const v=fr(),I=h[Je],C=xr(v,h);oE(I,h,v,c,null,d);for(let P=0;P<c.length;P++)se(Kn(h,I,v.directiveStart+P,v),h);_m(I,h,v),C&&se(C,h);const M=Kn(h,I,v.directiveStart+v.componentOffset,v);if(o[Hn]=h[Hn]=M,null!==g)for(const P of g)P(M,s);return zv(I,v,o),M}(Vn,_t,Ot,Ne,Ie,[tb]),zn(ee,Ie,null)}finally{wl()}return new Jv(this.componentType,He,$c(tt,Ie),Ie,tt)}}class Jv extends GC{constructor(s,c,d,h,g){super(),this.location=d,this._rootLView=h,this._tNode=g,this.instance=c,this.hostView=this.changeDetectorRef=new DT(h),this.componentType=s}setInput(s,c){const d=this._tNode.inputs;let h;if(null!==d&&(h=d[s])){const g=this._rootLView;Dd(g[Je],g,h,s,c),yf(hr(this._tNode.index,g))}}get injector(){return new Fo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function tb(){const o=fr();xl(ge()[Je],o)}function rb(o){let s=function nb(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),c=!0;const d=[o];for(;s;){let h;if(ei(o))h=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new ye(903,!1);h=s.\u0275dir}if(h){if(c){d.push(h);const v=o;v.inputs=wm(o.inputs),v.declaredInputs=wm(o.declaredInputs),v.outputs=wm(o.outputs);const I=h.hostBindings;I&&wi(o,I);const C=h.viewQuery,M=h.contentQueries;if(C&&ob(o,C),M&&oi(o,M),we(o.inputs,h.inputs),we(o.declaredInputs,h.declaredInputs),we(o.outputs,h.outputs),ei(h)&&h.data.animation){const P=o.data;P.animation=(P.animation||[]).concat(h.data.animation)}}const g=h.features;if(g)for(let v=0;v<g.length;v++){const I=g[v];I&&I.ngInherit&&I(o),I===rb&&(c=!1)}}s=Object.getPrototypeOf(s)}!function ib(o){let s=0,c=null;for(let d=o.length-1;d>=0;d--){const h=o[d];h.hostVars=s+=h.hostVars,h.hostAttrs=Bs(h.hostAttrs,c=Bs(c,h.hostAttrs))}}(d)}function wm(o){return o===ne?{}:o===Ue?[]:o}function ob(o,s){const c=o.viewQuery;o.viewQuery=c?(d,h)=>{s(d,h),c(d,h)}:s}function oi(o,s){const c=o.contentQueries;o.contentQueries=c?(d,h,g)=>{s(d,h,g),c(d,h,g)}:s}function wi(o,s){const c=o.hostBindings;o.hostBindings=c?(d,h)=>{s(d,h),c(d,h)}:s}function nu(o){return!!lb(o)&&(Array.isArray(o)||!(o instanceof Map)&&Symbol.iterator in o)}function lb(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function _s(o,s,c){return o[s]=c}function Ei(o,s,c){return!Object.is(o[s],c)&&(o[s]=c,!0)}function x_(o,s,c,d){const h=ge();return Ei(h,Ps(),s)&&($t(),yo(Rn(),h,o,s,c,d)),x_}function qc(o,s,c,d){return Ei(o,Ps(),c)?s+Fe(c)+d:zt}function mb(o,s,c,d,h,g,v,I){const C=ge(),M=$t(),P=o+xn,B=M.firstCreatePass?function xE(o,s,c,d,h,g,v,I,C){const M=s.consts,P=fm(s,o,4,v||null,rs(M,I));gm(s,c,P,rs(M,C)),xl(s,P);const B=P.tView=be(2,P,d,h,g,s.directiveRegistry,s.pipeRegistry,null,s.schemas,M);return null!==s.queries&&(s.queries.template(s,P),B.queries=s.queries.embeddedTView(P)),P}(P,M,C,s,c,d,h,g,v):M.data[P];ni(B,!1);const W=C[Wt].createComment("");Fc(M,C,W,B),se(W,C),vm(C,C[P]=cE(W,C,W,B)),Lu(B)&&bi(M,C,B),null!=v&&rE(C,B,I)}function C_(o){return Hr(function $g(){return Vt.lFrame.contextLView}(),xn+o)}function Cm(o,s,c){const d=ge();return Ei(d,Ps(),s)&&Dt($t(),Rn(),d,o,s,d[Wt],c,!1),Cm}function Tm(o,s,c,d,h){const v=h?"class":"style";Dd(o,c,s.inputs[v],v,d)}function iu(o,s,c,d){const h=ge(),g=$t(),v=xn+o,I=h[Wt],C=g.firstCreatePass?function T_(o,s,c,d,h,g){const v=s.consts,C=fm(s,o,2,d,rs(v,h));return gm(s,c,C,rs(v,g)),null!==C.attrs&&v_(C,C.attrs,!1),null!==C.mergedAttrs&&v_(C,C.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,C),C}(v,g,h,s,c,d):g.data[v],M=h[v]=$p(I,s,function Dh(){return Vt.lFrame.currentNamespace}()),P=Lu(C);return ni(C,!0),yd(I,M,C),32!=(32&C.flags)&&Fc(g,h,M,C),0===function bh(){return Vt.lFrame.elementDepthCount}()&&se(M,h),function fl(){Vt.lFrame.elementDepthCount++}(),P&&(bi(g,h,C),zv(g,C,h)),null!==d&&rE(h,C),iu}function Dm(){let o=fr();Ih()?gl():(o=o.parent,ni(o,!1));const s=o;!function wh(){Vt.lFrame.elementDepthCount--}();const c=$t();return c.firstCreatePass&&(xl(c,o),sc(o)&&c.queries.elementEnd(o)),null!=s.classesWithoutHost&&function _c(o){return 0!=(8&o.flags)}(s)&&Tm(c,s,ge(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function Os(o){return 0!=(16&o.flags)}(s)&&Tm(c,s,ge(),s.stylesWithoutHost,!1),Dm}function gb(o,s,c,d){return iu(o,s,c,d),Dm(),gb}function vb(){return ge()}function D_(o){return!!o&&"function"==typeof o.then}function CE(o){return!!o&&"function"==typeof o.subscribe}const Af=CE;function A_(o,s,c,d){const h=ge(),g=$t(),v=fr();return function ou(o,s,c,d,h,g,v){const I=Lu(d),M=o.firstCreatePass&&fE(o),P=s[Hn],B=Yv(s);let W=!0;if(3&d.type||v){const He=xr(d,s),tt=v?v(He):He,_t=B.length,Ot=v?qt=>v(Ir(qt[d.index])):d.index;let Ne=null;if(!v&&I&&(Ne=function Mm(o,s,c,d){const h=o.cleanup;if(null!=h)for(let g=0;g<h.length-1;g+=2){const v=h[g];if(v===c&&h[g+1]===d){const I=s[To],C=h[g+2];return I.length>C?I[C]:null}"string"==typeof v&&(g+=2)}return null}(o,s,h,d.index)),null!==Ne)(Ne.__ngLastListenerFn__||Ne).__ngNextListenerFn__=g,Ne.__ngLastListenerFn__=g,W=!1;else{g=TE(d,s,P,g,!1);const qt=c.listen(tt,h,g);B.push(g,qt),M&&M.push(h,Ot,_t,_t+1)}}else g=TE(d,s,P,g,!1);const ee=d.outputs;let Ie;if(W&&null!==ee&&(Ie=ee[h])){const He=Ie.length;if(He)for(let tt=0;tt<He;tt+=2){const Vn=s[Ie[tt]][Ie[tt+1]].subscribe(g),Dr=B.length;B.push(g,Vn),M&&M.push(h,d.index,Dr,-(Dr+1))}}}(g,h,h[Wt],v,o,s,d),A_}function S_(o,s,c,d){try{return ti(6,s,c),!1!==c(d)}catch(h){return pE(o,h),!1}finally{ti(7,s,c)}}function TE(o,s,c,d,h){return function g(v){if(v===Function)return d;yf(o.componentOffset>-1?hr(o.index,s):s);let C=S_(s,c,d,v),M=g.__ngNextListenerFn__;for(;M;)C=S_(s,c,M,v)&&C,M=M.__ngNextListenerFn__;return h&&!1===C&&(v.preventDefault(),v.returnValue=!1),C}}function DE(o=1){return function Dp(o){return(Vt.lFrame.contextLView=function El(o,s){for(;o>0;)s=s[Jo],o--;return s}(o,Vt.lFrame.contextLView))[Hn]}(o)}function AE(o,s){let c=null;const d=function p_(o){const s=o.attrs;if(null!=s){const c=s.indexOf(5);if(!(1&c))return s[c+1]}return null}(o);for(let h=0;h<s.length;h++){const g=s[h];if("*"!==g){if(null===d?cm(o,g,!0):nT(d,g))return h}else c=h}return c}function bb(o){const s=ge()[Zn][rr];if(!s.projection){const d=s.projection=Ol(o?o.length:1,null),h=d.slice();let g=s.child;for(;null!==g;){const v=o?AE(g,o):0;null!==v&&(h[v]?h[v].projectionNext=g:d[v]=g,h[v]=g),g=g.next}}}function SE(o,s=0,c){const d=ge(),h=$t(),g=fm(h,xn+o,16,null,c||null);null===g.projection&&(g.projection=s),gl(),32!=(32&g.flags)&&function qp(o,s,c){Wp(s[Wt],0,s,c,Zl(o,c,s),Gh(c.parent||s[rr],c,s))}(h,d,g)}function Wc(o,s,c){return sa(o,"",s,"",c),Wc}function sa(o,s,c,d,h){const g=ge(),v=qc(g,s,c,d);return v!==zt&&Dt($t(),Rn(),g,o,v,g[Wt],h,!1),sa}function Nm(o,s){return o<<17|s<<2}function su(o){return o>>17&32767}function Eb(o){return 2|o}function aa(o){return(131068&o)>>2}function Ua(o,s){return-131069&o|s<<2}function M_(o){return 1|o}function Ib(o,s,c,d,h){const g=o[c+1],v=null===s;let I=d?su(g):aa(g),C=!1;for(;0!==I&&(!1===C||v);){const P=o[I+1];LT(o[I],s)&&(C=!0,o[I+1]=d?M_(P):Eb(P)),I=d?su(P):aa(P)}C&&(o[c+1]=d?Eb(g):M_(g))}function LT(o,s){return null===o||null==s||(Array.isArray(o)?o[1]:o)===s||!(!Array.isArray(o)||"string"!=typeof s)&&yi(o,s)>=0}function Od(o,s,c){return ca(o,s,c,!1),Od}function Fd(o,s){return ca(o,s,null,!0),Fd}function ca(o,s,c,d){const h=ge(),g=$t(),v=function Mi(o){const s=Vt.lFrame,c=s.bindingIndex;return s.bindingIndex=s.bindingIndex+o,c}(2);g.firstUpdatePass&&function Sb(o,s,c,d){const h=o.data;if(null===h[c+1]){const g=h[kr()],v=function Ab(o,s){return s>=o.expandoStartIndex}(o,c);(function UE(o,s){return 0!=(o.flags&(s?8:16))})(g,d)&&null===s&&!v&&(s=!1),s=function FE(o,s,c,d){const h=function xa(o){const s=Vt.lFrame.currentDirectiveIndex;return-1===s?null:o[s]}(o);let g=d?s.residualClasses:s.residualStyles;if(null===h)0===(d?s.classBindings:s.styleBindings)&&(c=Fm(c=O_(null,o,s,c,d),s.attrs,d),g=null);else{const v=s.directiveStylingLast;if(-1===v||o[v]!==h)if(c=O_(h,o,s,c,d),null===g){let C=function N_(o,s,c){const d=c?s.classBindings:s.styleBindings;if(0!==aa(d))return o[su(d)]}(o,s,d);void 0!==C&&Array.isArray(C)&&(C=O_(null,o,s,C[1],d),C=Fm(C,s.attrs,d),function LE(o,s,c,d){o[su(c?s.classBindings:s.styleBindings)]=d}(o,s,d,C))}else g=function $a(o,s,c){let d;const h=s.directiveEnd;for(let g=1+s.directiveStylingLast;g<h;g++)d=Fm(d,o[g].hostAttrs,c);return Fm(d,s.attrs,c)}(o,s,d)}return void 0!==g&&(d?s.residualClasses=g:s.residualStyles=g),c}(h,g,s,d),function OT(o,s,c,d,h,g){let v=g?s.classBindings:s.styleBindings,I=su(v),C=aa(v);o[d]=c;let P,M=!1;if(Array.isArray(c)?(P=c[1],(null===P||yi(c,P)>0)&&(M=!0)):P=c,h)if(0!==C){const W=su(o[I+1]);o[d+1]=Nm(W,I),0!==W&&(o[W+1]=Ua(o[W+1],d)),o[I+1]=function PT(o,s){return 131071&o|s<<17}(o[I+1],d)}else o[d+1]=Nm(I,0),0!==I&&(o[I+1]=Ua(o[I+1],d)),I=d;else o[d+1]=Nm(C,0),0===I?I=d:o[C+1]=Ua(o[C+1],d),C=d;M&&(o[d+1]=Eb(o[d+1])),Ib(o,P,d,!0),Ib(o,P,d,!1),function FT(o,s,c,d,h){const g=h?o.residualClasses:o.residualStyles;null!=g&&"string"==typeof s&&yi(g,s)>=0&&(c[d+1]=M_(c[d+1]))}(s,P,o,d,g),v=Nm(I,C),g?s.classBindings=v:s.styleBindings=v}(h,g,s,c,v,d)}}(g,o,v,d),s!==zt&&Ei(h,v,s)&&function L_(o,s,c,d,h,g,v,I){if(!(3&s.type))return;const C=o.data,M=C[I+1],P=function RE(o){return 1==(1&o)}(M)?Bm(C,s,c,h,aa(M),v):void 0;Vm(P)||(Vm(g)||function kT(o){return 2==(2&o)}(M)&&(g=Bm(C,null,c,h,I,v)),function fs(o,s,c,d,h){if(s)h?o.addClass(c,d):o.removeClass(c,d);else{let g=-1===d.indexOf("-")?void 0:Tt.DashCase;null==h?o.removeStyle(c,d,g):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),g|=Tt.Important),o.setStyle(c,d,h,g))}}(d,v,Mo(kr(),c),h,g))}(g,g.data[kr()],h,h[Wt],o,h[v+1]=function B_(o,s){return null==o||""===o||("string"==typeof s?o+=s:"object"==typeof o&&(o=xe(Pr(o)))),o}(s,c),d,v)}function O_(o,s,c,d,h){let g=null;const v=c.directiveEnd;let I=c.directiveStylingLast;for(-1===I?I=c.directiveStart:I++;I<v&&(g=s[I],d=Fm(d,g.hostAttrs,h),g!==o);)I++;return null!==o&&(c.directiveStylingLast=I),d}function Fm(o,s,c){const d=c?1:2;let h=-1;if(null!==s)for(let g=0;g<s.length;g++){const v=s[g];"number"==typeof v?h=v:h===d&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),ri(o,v,!!c||s[++g]))}return void 0===o?null:o}function Bm(o,s,c,d,h,g){const v=null===s;let I;for(;h>0;){const C=o[h],M=Array.isArray(C),P=M?C[1]:C,B=null===P;let W=c[h+1];W===zt&&(W=B?Ue:void 0);let ee=B?on(W,d):P===d?W:void 0;if(M&&!Vm(ee)&&(ee=on(C,d)),Vm(ee)&&(I=ee,v))return I;const Ie=o[h+1];h=v?su(Ie):aa(Ie)}if(null!==s){let C=g?s.residualClasses:s.residualStyles;null!=C&&(I=on(C,d))}return I}function Vm(o){return void 0!==o}function Mb(o,s=""){const c=ge(),d=$t(),h=o+xn,g=d.firstCreatePass?fm(d,h,1,s,null):d.data[h],v=c[h]=function Wl(o,s){return o.createText(s)}(c[Wt],s);Fc(d,c,v,g),ni(g,!1)}function Ld(o){return Um("",o,""),Ld}function Um(o,s,c){const d=ge(),h=qc(d,o,s,c);return h!==zt&&function Gc(o,s,c){const d=Mo(s,o);!function Hp(o,s,c){o.setValue(s,c)}(o[Wt],d,c)}(d,kr(),h),Um}function Of(o,s,c){const d=ge();return Ei(d,Ps(),s)&&Dt($t(),Rn(),d,o,s,d[Wt],c,!0),Of}const vs=void 0;var $T=["en",[["a","p"],["AM","PM"],vs],[["AM","PM"],vs,vs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],vs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],vs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",vs,"{1} 'at' {0}",vs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function HT(o){const c=Math.floor(Math.abs(o)),d=o.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===d?1:5}];let cu={};function Ub(o){const s=function Ff(o){return o.toLowerCase().replace(/_/g,"-")}(o);let c=zm(s);if(c)return c;const d=s.split("-")[0];if(c=zm(d),c)return c;if("en"===d)return $T;throw new ye(701,!1)}function ZE(o){return Ub(o)[kt.PluralCase]}function zm(o){return o in cu||(cu[o]=sn.ng&&sn.ng.common&&sn.ng.common.locales&&sn.ng.common.locales[o]),cu[o]}var kt=(()=>((kt=kt||{})[kt.LocaleId=0]="LocaleId",kt[kt.DayPeriodsFormat=1]="DayPeriodsFormat",kt[kt.DayPeriodsStandalone=2]="DayPeriodsStandalone",kt[kt.DaysFormat=3]="DaysFormat",kt[kt.DaysStandalone=4]="DaysStandalone",kt[kt.MonthsFormat=5]="MonthsFormat",kt[kt.MonthsStandalone=6]="MonthsStandalone",kt[kt.Eras=7]="Eras",kt[kt.FirstDayOfWeek=8]="FirstDayOfWeek",kt[kt.WeekendRange=9]="WeekendRange",kt[kt.DateFormat=10]="DateFormat",kt[kt.TimeFormat=11]="TimeFormat",kt[kt.DateTimeFormat=12]="DateTimeFormat",kt[kt.NumberSymbols=13]="NumberSymbols",kt[kt.NumberFormats=14]="NumberFormats",kt[kt.CurrencyCode=15]="CurrencyCode",kt[kt.CurrencySymbol=16]="CurrencySymbol",kt[kt.CurrencyName=17]="CurrencyName",kt[kt.Currencies=18]="Currencies",kt[kt.Directionality=19]="Directionality",kt[kt.PluralCase=20]="PluralCase",kt[kt.ExtraData=21]="ExtraData",kt))();const da="en-US";let zo=da;function qb(o,s,c,d,h){if(o=Y(o),Array.isArray(o))for(let g=0;g<o.length;g++)qb(o[g],s,c,d,h);else{const g=$t(),v=ge();let I=Hc(o)?o:Y(o.provide),C=Dv(o);const M=fr(),P=1048575&M.providerIndexes,B=M.directiveStart,W=M.providerIndexes>>20;if(Hc(o)||!o.multi){const ee=new No(C,h,hf),Ie=Zb(I,s,h?P:P+W,B);-1===Ie?(vn(Zu(M,v),g,I),Q_(g,o,s.length),s.push(I),M.directiveStart++,M.directiveEnd++,h&&(M.providerIndexes+=1048576),c.push(ee),v.push(ee)):(c[Ie]=ee,v[Ie]=ee)}else{const ee=Zb(I,s,P+W,B),Ie=Zb(I,s,P,P+W),tt=Ie>=0&&c[Ie];if(h&&!tt||!h&&!(ee>=0&&c[ee])){vn(Zu(M,v),g,I);const _t=function fu(o,s,c,d,h){const g=new No(o,c,hf);return g.multi=[],g.index=s,g.componentProviders=0,Wb(g,h,d&&!c),g}(h?ci:Kb,c.length,h,d,C);!h&&tt&&(c[Ie].providerFactory=_t),Q_(g,o,s.length,0),s.push(I),M.directiveStart++,M.directiveEnd++,h&&(M.providerIndexes+=1048576),c.push(_t),v.push(_t)}else Q_(g,o,ee>-1?ee:Ie,Wb(c[h?Ie:ee],C,!h&&d));!h&&d&&tt&&c[Ie].componentProviders++}}}function Q_(o,s,c,d){const h=Hc(s),g=function l_(o){return!!o.useClass}(s);if(h||g){const C=(g?Y(s.useClass):s).prototype.ngOnDestroy;if(C){const M=o.destroyHooks||(o.destroyHooks=[]);if(!h&&s.multi){const P=M.indexOf(c);-1===P?M.push(c,[d,C]):M[P+1].push(d,C)}else M.push(c,C)}}}function Wb(o,s,c){return c&&o.componentProviders++,o.multi.push(s)-1}function Zb(o,s,c,d){for(let h=c;h<d;h++)if(s[h]===o)return h;return-1}function Kb(o,s,c,d){return X_(this.multi,[])}function ci(o,s,c,d){const h=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,I=Kn(c,c[Je],this.providerFactory.index,d);g=I.slice(0,v),X_(h,g);for(let C=v;C<I.length;C++)g.push(I[C])}else g=[],X_(h,g);return g}function X_(o,s){for(let c=0;c<o.length;c++)s.push((0,o[c])());return s}function Yb(o,s=[]){return c=>{c.providersResolver=(d,h)=>function hI(o,s,c){const d=$t();if(d.firstCreatePass){const h=ei(o);qb(c,d.data,d.blueprint,h,!0),qb(s,d.data,d.blueprint,h,!1)}}(d,h?h(o):o,s)}}class wn{}class Zm{}function xi(o,s){return new Qb(o,s??null)}class Qb extends wn{constructor(s,c){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Qv(this);const d=nr(s);this._bootstrapComponents=Ba(d.bootstrap),this._r3Injector=Bv(s,c,[{provide:wn,useValue:this},{provide:sf,useValue:this.componentFactoryResolver}],xe(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class pu extends Zm{constructor(s){super(),this.moduleType=s}create(s){return new Qb(this.moduleType,s)}}class bo extends wn{constructor(s,c,d){super(),this.componentFactoryResolver=new Qv(this),this.instance=null;const h=new Sw([...s,{provide:wn,useValue:this},{provide:sf,useValue:this.componentFactoryResolver}],c||d_(),d,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function J_(o,s,c=null){return new bo(o,s,c).injector}let fD=(()=>{class o{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c.id)){const d=tf(0,c.type),h=d.length>0?J_([d],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c.id,h)}return this.cachedInjectors.get(c.id)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}}return o.\u0275prov=gt({token:o,providedIn:"environment",factory:()=>new o(un(Cd))}),o})();function Fr(o){o.getStandaloneInjector=s=>s.get(fD).getOrCreateStandaloneInjector(o)}function gu(o,s,c,d,h){return function n0(o,s,c,d,h,g,v){const I=s+c;return function kd(o,s,c,d){const h=Ei(o,s,c);return Ei(o,s+1,d)||h}(o,I,h,g)?_s(o,I+2,v?d.call(v,h,g):d(h,g)):eg(o,I+2)}(ge(),ir(),o,s,c,d,h)}function eg(o,s){const c=o[s];return c===zt?void 0:c}function Bn(o,s){const c=$t();let d;const h=o+xn;c.firstCreatePass?(d=function _u(o,s){if(s)for(let c=s.length-1;c>=0;c--){const d=s[c];if(o===d.name)return d}}(s,c.pipeRegistry),c.data[h]=d,d.onDestroy&&(c.destroyHooks??(c.destroyHooks=[])).push(h,d.onDestroy)):d=c.data[h];const g=d.factory||(d.factory=uo(d.type)),v=Rr(hf);try{const I=yc(!1),C=g();return yc(I),function xm(o,s,c,d){c>=o.data.length&&(o.data[c]=null,o.blueprint[c]=null),s[c]=d}(c,ge(),h,C),C}finally{Rr(v)}}function s0(o,s,c){const d=o+xn,h=ge(),g=Hr(h,d);return function mn(o,s){return o[Je].data[s].pure}(h,d)?function _I(o,s,c,d,h,g){const v=s+c;return Ei(o,v,h)?_s(o,v+1,g?d.call(g,h):d(h)):eg(o,v+1)}(h,ir(),s,g.transform,c,g):g.transform(c)}function tg(o){return s=>{setTimeout(o,void 0,s)}}const Es=class zf extends u.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,c,d){let h=s,g=c||(()=>null),v=d;if(s&&"object"==typeof s){const C=s;h=C.next?.bind(C),g=C.error?.bind(C),v=C.complete?.bind(C)}this.__isAsync&&(g=tg(g),h&&(h=tg(h)),v&&(v=tg(v)));const I=super.subscribe({next:h,error:g,complete:v});return s instanceof te.w0&&s.add(I),I}};function vI(){return this._results[Symbol.iterator]()}class ng{get changes(){return this._changes||(this._changes=new Es)}constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=ng.prototype;c[Symbol.iterator]||(c[Symbol.iterator]=vI)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,c){return this._results.reduce(s,c)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,c){const d=this;d.dirty=!1;const h=function qi(o){return o.flat(Number.POSITIVE_INFINITY)}(s);(this._changesDetected=!function ed(o,s,c){if(o.length!==s.length)return!1;for(let d=0;d<o.length;d++){let h=o[d],g=s[d];if(c&&(h=c(h),g=c(g)),g!==h)return!1}return!0}(d._results,h,c))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Gf=(()=>{class o{}return o.__NG_ELEMENT_ID__=_D,o})();const bI=Gf,wI=class extends bI{constructor(s,c,d){super(),this._declarationLView=s,this._declarationTContainer=c,this.elementRef=d}createEmbeddedView(s,c){const d=this._declarationTContainer.tView,h=__(this._declarationLView,d,s,16,null,d.declTNode,null,null,null,null,c||null);h[ya]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[zi];return null!==v&&(h[zi]=v.createEmbeddedView(d)),zn(d,h,s),new Sd(h)}};function _D(){return ry(fr(),ge())}function ry(o,s){return 4&o.type?new wI(s,o,$c(o,s)):null}let iy=(()=>{class o{}return o.__NG_ELEMENT_ID__=EI,o})();function EI(){return xI(fr(),ge())}const yD=iy,a0=class extends yD{constructor(s,c,d){super(),this._lContainer=s,this._hostTNode=c,this._hostLView=d}get element(){return $c(this._hostTNode,this._hostLView)}get injector(){return new Fo(this._hostTNode,this._hostLView)}get parentInjector(){const s=Rh(this._hostTNode,this._hostLView);if(Vs(s)){const c=Us(s,this._hostLView),d=is(s);return new Fo(c[Je].data[d+8],c)}return new Fo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const c=II(this._lContainer);return null!==c&&c[s]||null}get length(){return this._lContainer.length-Er}createEmbeddedView(s,c,d){let h,g;"number"==typeof d?h=d:null!=d&&(h=d.index,g=d.injector);const v=s.createEmbeddedView(c||{},g);return this.insert(v,h),v}createComponent(s,c,d,h,g){const v=s&&!function Nl(o){return"function"==typeof o}(s);let I;if(v)I=c;else{const B=c||{};I=B.index,d=B.injector,h=B.projectableNodes,g=B.environmentInjector||B.ngModuleRef}const C=v?s:new Md(wt(s)),M=d||this.parentInjector;if(!g&&null==C.ngModule){const W=(v?M:this.parentInjector).get(Cd,null);W&&(g=W)}const P=C.create(M,h,void 0,g);return this.insert(P.hostView,I),P}insert(s,c){const d=s._lView,h=d[Je];if(function ju(o){return _i(o[An])}(d)){const P=this.indexOf(s);if(-1!==P)this.detach(P);else{const B=d[An],W=new a0(B,B[rr],B[An]);W.detach(W.indexOf(s))}}const g=this._adjustIndex(c),v=this._lContainer;!function Pc(o,s,c,d){const h=Er+d,g=c.length;d>0&&(c[h-1][Ai]=s),d<g-Er?(s[Ai]=c[h],Lp(c,Er+d,s)):(c.push(s),s[Ai]=null),s[An]=c;const v=s[ya];null!==v&&c!==v&&function uv(o,s){const c=o[Ms];s[Zn]!==s[An][An][Zn]&&(o[Fu]=!0),null===c?o[Ms]=[s]:c.push(s)}(v,s);const I=s[zi];null!==I&&I.insertView(o),s[Ht]|=64}(h,d,v,g);const I=Bo(g,v),C=d[Wt],M=na(C,v[va]);return null!==M&&function Kg(o,s,c,d,h,g){d[Di]=h,d[rr]=s,gd(o,d,c,1,h,g)}(h,v[rr],C,d,M,I),s.attachToViewContainerRef(),Lp(c0(v),g,s),s}move(s,c){return this.insert(s,c)}indexOf(s){const c=II(this._lContainer);return null!==c?c.indexOf(s):-1}remove(s){const c=this._adjustIndex(s,-1),d=dd(this._lContainer,c);d&&(Zs(c0(this._lContainer),c),$h(d[Je],d))}detach(s){const c=this._adjustIndex(s,-1),d=dd(this._lContainer,c);return d&&null!=Zs(c0(this._lContainer),c)?new Sd(d):null}_adjustIndex(s,c=0){return s??this.length+c}};function II(o){return o[es]}function c0(o){return o[es]||(o[es]=[])}function xI(o,s){let c;const d=s[o.index];if(_i(d))c=d;else{let h;if(8&o.type)h=Ir(d);else{const g=s[Wt];h=g.createComment("");const v=xr(o,s);Fa(g,na(g,v),h,function Xg(o,s){return o.nextSibling(s)}(g,v),!1)}s[o.index]=c=cE(d,s,h,o),vm(s,c)}return new a0(c,o,s)}class rg{constructor(s){this.queryList=s,this.matches=null}clone(){return new rg(this.queryList)}setDirty(){this.queryList.setDirty()}}class Qc{constructor(s=[]){this.queries=s}createEmbeddedView(s){const c=s.queries;if(null!==c){const d=null!==s.contentQueries?s.contentQueries[0]:c.length,h=[];for(let g=0;g<d;g++){const v=c.getByIndex(g);h.push(this.queries[v.indexInDeclarationView].clone())}return new Qc(h)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let c=0;c<this.queries.length;c++)null!==l0(s,c).matches&&this.queries[c].setDirty()}}class qf{constructor(s,c,d=null){this.predicate=s,this.flags=c,this.read=d}}class Wf{constructor(s=[]){this.queries=s}elementStart(s,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(s,c)}elementEnd(s){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(s)}embeddedTView(s){let c=null;for(let d=0;d<this.length;d++){const h=null!==c?c.length:0,g=this.getByIndex(d).embeddedTView(s,h);g&&(g.indexInDeclarationView=d,null!==c?c.push(g):c=[g])}return null!==c?new Wf(c):null}template(s,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(s,c)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Zf{constructor(s,c=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(s,c){this.isApplyingToNode(c)&&this.matchTNode(s,c)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,c){this.elementStart(s,c)}embeddedTView(s,c){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,c),new Zf(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=s.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(s,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const g=d[h];this.matchTNodeWithReadOption(s,c,CI(c,g)),this.matchTNodeWithReadOption(s,c,Hs(c,s,g,!1,!1))}else d===Gf?4&c.type&&this.matchTNodeWithReadOption(s,c,-1):this.matchTNodeWithReadOption(s,c,Hs(c,s,d,!1,!1))}matchTNodeWithReadOption(s,c,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===af||h===iy||h===Gf&&4&c.type)this.addMatch(c.index,-2);else{const g=Hs(c,s,h,!1,!1);null!==g&&this.addMatch(c.index,g)}else this.addMatch(c.index,d)}}addMatch(s,c){null===this.matches?this.matches=[s,c]:this.matches.push(s,c)}}function CI(o,s){const c=o.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===s)return c[d+1];return null}function Xc(o,s,c,d){return-1===c?function TI(o,s){return 11&o.type?$c(o,s):4&o.type?ry(o,s):null}(s,o):-2===c?function DI(o,s,c){return c===af?$c(s,o):c===Gf?ry(s,o):c===iy?xI(s,o):void 0}(o,s,d):Kn(o,o[Je],c,s)}function Hd(o,s,c,d){const h=s[zi].queries[d];if(null===h.matches){const g=o.data,v=c.matches,I=[];for(let C=0;C<v.length;C+=2){const M=v[C];I.push(M<0?null:Xc(s,g[M],v[C+1],c.metadata.read))}h.matches=I}return h.matches}function oy(o,s,c,d){const h=o.queries.getByIndex(c),g=h.matches;if(null!==g){const v=Hd(o,s,h,c);for(let I=0;I<g.length;I+=2){const C=g[I];if(C>0)d.push(v[I/2]);else{const M=g[I+1],P=s[-C];for(let B=Er;B<P.length;B++){const W=P[B];W[ya]===W[An]&&oy(W[Je],W,M,d)}if(null!==P[Ms]){const B=P[Ms];for(let W=0;W<B.length;W++){const ee=B[W];oy(ee[Je],ee,M,d)}}}}}return d}function sy(o){const s=ge(),c=$t(),d=Hu();yl(d+1);const h=l0(c,d);if(o.dirty&&function hl(o){return 4==(4&o[Ht])}(s)===(2==(2&h.metadata.flags))){if(null===h.matches)o.reset([]);else{const g=h.crossesNgTemplate?oy(c,s,d,[]):Hd(c,s,h,d);o.reset(g,om),o.notifyOnChanges()}return!0}return!1}function ig(o,s,c){const d=$t();d.firstCreatePass&&(og(d,new qf(o,s,c),-1),2==(2&s)&&(d.staticViewQueries=!0)),cy(d,ge(),s)}function ay(o,s,c,d){const h=$t();if(h.firstCreatePass){const g=fr();og(h,new qf(s,c,d),g.index),function sg(o,s){const c=o.contentQueries||(o.contentQueries=[]);s!==(c.length?c[c.length-1]:-1)&&c.push(o.queries.length-1,s)}(h,o),2==(2&c)&&(h.staticContentQueries=!0)}cy(h,ge(),c)}function yu(){return function Xi(o,s){return o[zi].queries[s].queryList}(ge(),Hu())}function cy(o,s,c){const d=new ng(4==(4&c));zc(o,s,d,d.destroy),null===s[zi]&&(s[zi]=new Qc),s[zi].queries.push(new rg(d))}function og(o,s,c){null===o.queries&&(o.queries=new Wf),o.queries.track(new Zf(s,c))}function l0(o,s){return o.queries.getByIndex(s)}function ly(o,s){return ry(o,s)}function uy(o){return!!nr(o)}function Xf(...o){}const v0=new tn("Application Initializer");let my=(()=>{class o{constructor(c){this.appInits=c,this.resolve=Xf,this.reject=Xf,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const c=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const g=this.appInits[h]();if(D_(g))c.push(g);else if(Af(g)){const v=new Promise((I,C)=>{g.subscribe({complete:I,error:C})});c.push(v)}}Promise.all(c).then(()=>{d()}).catch(h=>{this.reject(h)}),0===c.length&&d(),this.initialized=!0}}return o.\u0275fac=function(c){return new(c||o)(un(v0,8))},o.\u0275prov=gt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const b0=new tn("AppId",{providedIn:"root",factory:function w0(){return`${qd()}${qd()}${qd()}`}});function qd(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Jf=new tn("Platform Initializer"),dg=new tn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),jI=new tn("AnimationModuleType");let HI=(()=>{class o{log(c){console.log(c)}warn(c){console.warn(c)}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=gt({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const gy=new tn("LocaleId",{providedIn:"root",factory:()=>jn(gy,bt.Optional|bt.SkipSelf)||function $I(){return typeof $localize<"u"&&$localize.locale||da}()}),zI=new tn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class MD{constructor(s,c){this.ngModuleFactory=s,this.componentFactories=c}}let RD=(()=>{class o{compileModuleSync(c){return new pu(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const d=this.compileModuleSync(c),g=Ba(nr(c).declarations).reduce((v,I)=>{const C=wt(I);return C&&v.push(new Md(C)),v},[]);return new MD(d,g)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=gt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const fg=(()=>Promise.resolve(0))();function Cs(o){typeof Zone>"u"?fg.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class Vi{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Es(!1),this.onMicrotaskEmpty=new Es(!1),this.onStable=new Es(!1),this.onError=new Es(!1),typeof Zone>"u")throw new ye(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&c,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function x0(){let o=sn.requestAnimationFrame,s=sn.cancelAnimationFrame;if(typeof Zone<"u"&&o&&s){const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c);const d=s[Zone.__symbol__("OriginalDelegate")];d&&(s=d)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function PD(o){const s=()=>{!function KI(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(sn,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,C0(o),o.isCheckStableRunning=!0,_y(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),C0(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,h,g,v,I)=>{try{return ep(o),c.invokeTask(h,g,v,I)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||o.shouldCoalesceRunChangeDetection)&&s(),yy(o)}},onInvoke:(c,d,h,g,v,I,C)=>{try{return ep(o),c.invoke(h,g,v,I,C)}finally{o.shouldCoalesceRunChangeDetection&&s(),yy(o)}},onHasTask:(c,d,h,g)=>{c.hasTask(h,g),d===h&&("microTask"==g.change?(o._hasPendingMicrotasks=g.microTask,C0(o),_y(o)):"macroTask"==g.change&&(o.hasPendingMacrotasks=g.macroTask))},onHandleError:(c,d,h,g)=>(c.handleError(h,g),o.runOutsideAngular(()=>o.onError.emit(g)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Vi.isInAngularZone())throw new ye(909,!1)}static assertNotInAngularZone(){if(Vi.isInAngularZone())throw new ye(909,!1)}run(s,c,d){return this._inner.run(s,c,d)}runTask(s,c,d,h){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+h,s,ZI,Xf,Xf);try{return g.runTask(v,c,d)}finally{g.cancelTask(v)}}runGuarded(s,c,d){return this._inner.runGuarded(s,c,d)}runOutsideAngular(s){return this._outer.run(s)}}const ZI={};function _y(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function C0(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function ep(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function yy(o){o._nesting--,_y(o)}class ND{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Es,this.onMicrotaskEmpty=new Es,this.onStable=new Es,this.onError=new Es}run(s,c,d){return s.apply(c,d)}runGuarded(s,c,d){return s.apply(c,d)}runOutsideAngular(s){return s()}runTask(s,c,d,h){return s.apply(c,d)}}const T0=new tn(""),vy=new tn("");let D0,YI=(()=>{class o{constructor(c,d,h){this._ngZone=c,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,D0||(function XI(o){D0=o}(h),h.addToWindow(d)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Vi.assertNotInAngularZone(),Cs(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Cs(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,h){let g=-1;d&&d>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:g,updateCb:h})}whenStable(c,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,d,h){return[]}}return o.\u0275fac=function(c){return new(c||o)(un(Vi),un(QI),un(vy))},o.\u0275prov=gt({token:o,factory:o.\u0275fac}),o})(),QI=(()=>{class o{constructor(){this._applications=new Map}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return D0?.findTestabilityInTree(this,c,d)??null}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=gt({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const tl=!1;let bu=null;const nl=new tn("AllowMultipleToken"),wu=new tn("PlatformDestroyListeners"),A0=new tn("appBootstrapListener");class JI{constructor(s,c){this.name=s,this.token=c}}function Eu(o,s,c=[]){const d=`Platform: ${s}`,h=new tn(d);return(g=[])=>{let v=mg();if(!v||v.injector.get(nl,!1)){const I=[...c,...g,{provide:h,useValue:!0}];o?o(I):function LD(o){if(bu&&!bu.get(nl,!1))throw new ye(400,!1);bu=o;const s=o.get(by);(function pg(o){const s=o.get(Jf,null);s&&s.forEach(c=>c())})(o)}(function np(o=[],s){return lf.create({name:s,providers:[{provide:eu,useValue:"platform"},{provide:wu,useValue:new Set([()=>bu=null])},...o]})}(I,d))}return function Wd(o){const s=mg();if(!s)throw new ye(401,!1);return s}()}}function mg(){return bu?.get(by)??null}let by=(()=>{class o{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const h=function M0(o,s){let c;return c="noop"===o?new ND:("zone.js"===o?void 0:o)||new Vi(s),c}(d?.ngZone,function S0(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!o||!o.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!o||!o.ngZoneRunCoalescing)||!1}}(d)),g=[{provide:Vi,useValue:h}];return h.run(()=>{const v=lf.create({providers:g,parent:this.injector,name:c.moduleType.name}),I=c.create(v),C=I.injector.get(sm,null);if(!C)throw new ye(402,!1);return h.runOutsideAngular(()=>{const M=h.onError.subscribe({next:P=>{C.handleError(P)}});I.onDestroy(()=>{Zd(this._modules,I),M.unsubscribe()})}),function tx(o,s,c){try{const d=c();return D_(d)?d.catch(h=>{throw s.runOutsideAngular(()=>o.handleError(h)),h}):d}catch(d){throw s.runOutsideAngular(()=>o.handleError(d)),d}}(C,h,()=>{const M=I.injector.get(my);return M.runInitializers(),M.donePromise.then(()=>(function z_(o){ve(o,"Expected localeId to be defined"),"string"==typeof o&&(zo=o.toLowerCase().replace(/_/g,"-"))}(I.injector.get(gy,da)||da),this._moduleDoBootstrap(I),I))})})}bootstrapModule(c,d=[]){const h=R0({},d);return function OD(o,s,c){const d=new pu(c);return Promise.resolve(d)}(0,0,c).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(c){const d=c.injector.get(gg);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!c.instance.ngDoBootstrap)throw new ye(-403,!1);c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ye(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const c=this._injector.get(wu,null);c&&(c.forEach(d=>d()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(c){return new(c||o)(un(lf))},o.\u0275prov=gt({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();function R0(o,s){return Array.isArray(s)?s.reduce(R0,o):{...o,...s}}let gg=(()=>{class o{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(c,d,h){this._zone=c,this._injector=d,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new O.y(I=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{I.next(this._stable),I.complete()})}),v=new O.y(I=>{let C;this._zone.runOutsideAngular(()=>{C=this._zone.onStable.subscribe(()=>{Vi.assertNotInAngularZone(),Cs(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,I.next(!0))})})});const M=this._zone.onUnstable.subscribe(()=>{Vi.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{I.next(!1)}))});return()=>{C.unsubscribe(),M.unsubscribe()}});this.isStable=(0,le.T)(g,v.pipe((0,ue.B)()))}bootstrap(c,d){const h=c instanceof Rw;if(!this._injector.get(my).done){!h&&wr(c);throw new ye(405,tl)}let v;v=h?c:this._injector.get(sf).resolveComponentFactory(c),this.componentTypes.push(v.componentType);const I=function rl(o){return o.isBoundToModule}(v)?void 0:this._injector.get(wn),M=v.create(lf.NULL,[],d||v.selector,I),P=M.location.nativeElement,B=M.injector.get(T0,null);return B?.registerApplication(P),M.onDestroy(()=>{this.detachView(M.hostView),Zd(this.components,M),B?.unregisterApplication(P)}),this._loadComponent(M),M}tick(){if(this._runningTick)throw new ye(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;Zd(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c);const d=this._injector.get(A0,[]);d.push(...this._bootstrapListeners),d.forEach(h=>h(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>Zd(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new ye(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return o.\u0275fac=function(c){return new(c||o)(un(Vi),un(Cd),un(sm))},o.\u0275prov=gt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function Zd(o,s){const c=o.indexOf(s);c>-1&&o.splice(c,1)}function VD(){return!1}let _g=(()=>{class o{}return o.__NG_ELEMENT_ID__=Yd,o})();function Yd(o){return function Iu(o,s,c){if(ba(o)&&!c){const d=hr(o.index,s);return new Sd(d,d)}return 47&o.type?new Sd(s[Zn],s):null}(fr(),ge(),16==(16&o))}class F0{constructor(){}supports(s){return nu(s)}create(s){return new xy(s)}}const Iy=(o,s)=>s;class xy{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||Iy}forEachItem(s){let c;for(c=this._itHead;null!==c;c=c._next)s(c)}forEachOperation(s){let c=this._itHead,d=this._removalsHead,h=0,g=null;for(;c||d;){const v=!d||c&&c.currentIndex<L0(d,h,g)?c:d,I=L0(v,h,g),C=v.currentIndex;if(v===d)h--,d=d._nextRemoved;else if(c=c._next,null==v.previousIndex)h++;else{g||(g=[]);const M=I-h,P=C-h;if(M!=P){for(let W=0;W<M;W++){const ee=W<g.length?g[W]:g[W]=0,Ie=ee+W;P<=Ie&&Ie<M&&(g[W]=ee+1)}g[v.previousIndex]=P-M}}I!==C&&s(v,I,C)}}forEachPreviousItem(s){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)s(c)}forEachAddedItem(s){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)s(c)}forEachMovedItem(s){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)s(c)}forEachRemovedItem(s){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)s(c)}forEachIdentityChange(s){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)s(c)}diff(s){if(null==s&&(s=[]),!nu(s))throw new ye(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let h,g,v,c=this._itHead,d=!1;if(Array.isArray(s)){this.length=s.length;for(let I=0;I<this.length;I++)g=s[I],v=this._trackByFn(I,g),null!==c&&Object.is(c.trackById,v)?(d&&(c=this._verifyReinsertion(c,g,v,I)),Object.is(c.item,g)||this._addIdentityChange(c,g)):(c=this._mismatch(c,g,v,I),d=!0),c=c._next}else h=0,function IE(o,s){if(Array.isArray(o))for(let c=0;c<o.length;c++)s(o[c]);else{const c=o[Symbol.iterator]();let d;for(;!(d=c.next()).done;)s(d.value)}}(s,I=>{v=this._trackByFn(h,I),null!==c&&Object.is(c.trackById,v)?(d&&(c=this._verifyReinsertion(c,I,v,h)),Object.is(c.item,I)||this._addIdentityChange(c,I)):(c=this._mismatch(c,I,v,h),d=!0),c=c._next,h++}),this.length=h;return this._truncate(c),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,c,d,h){let g;return null===s?g=this._itTail:(g=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(s.item,c)||this._addIdentityChange(s,c),this._reinsertAfter(s,g,h)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(s.item,c)||this._addIdentityChange(s,c),this._moveAfter(s,g,h)):s=this._addAfter(new ox(c,d),g,h),s}_verifyReinsertion(s,c,d,h){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==g?s=this._reinsertAfter(g,s._prev,h):s.currentIndex!=h&&(s.currentIndex=h,this._addToMoves(s,h)),s}_truncate(s){for(;null!==s;){const c=s._next;this._addToRemovals(this._unlink(s)),s=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const h=s._prevRemoved,g=s._nextRemoved;return null===h?this._removalsHead=g:h._nextRemoved=g,null===g?this._removalsTail=h:g._prevRemoved=h,this._insertAfter(s,c,d),this._addToMoves(s,d),s}_moveAfter(s,c,d){return this._unlink(s),this._insertAfter(s,c,d),this._addToMoves(s,d),s}_addAfter(s,c,d){return this._insertAfter(s,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,c,d){const h=null===c?this._itHead:c._next;return s._next=h,s._prev=c,null===h?this._itTail=s:h._prev=s,null===c?this._itHead=s:c._next=s,null===this._linkedRecords&&(this._linkedRecords=new Jd),this._linkedRecords.put(s),s.currentIndex=d,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const c=s._prev,d=s._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,s}_addToMoves(s,c){return s.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Jd),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,c){return s.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class ox{constructor(s,c){this.item=s,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class xu{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,s))return d;return null}remove(s){const c=s._prevDup,d=s._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class Jd{constructor(){this.map=new Map}put(s){const c=s.trackById;let d=this.map.get(c);d||(d=new xu,this.map.set(c,d)),d.add(s)}get(s,c){const h=this.map.get(s);return h?h.get(s,c):null}remove(s){const c=s.trackById;return this.map.get(c).remove(s)&&this.map.delete(c),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function L0(o,s,c){const d=o.previousIndex;if(null===d)return d;let h=0;return c&&d<c.length&&(h=c[d]),d+s+h}class Cu{constructor(){}supports(s){return s instanceof Map||lb(s)}create(){return new qD}}class qD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let c;for(c=this._mapHead;null!==c;c=c._next)s(c)}forEachPreviousItem(s){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)s(c)}forEachChangedItem(s){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)s(c)}forEachAddedItem(s){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)s(c)}forEachRemovedItem(s){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)s(c)}diff(s){if(s){if(!(s instanceof Map||lb(s)))throw new ye(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(s,(d,h)=>{if(c&&c.key===h)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const g=this._getOrCreateRecordForKey(h,d);c=this._insertBeforeOrAppend(c,g)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,c){if(s){const d=s._prev;return c._next=s,c._prev=d,s._prev=c,d&&(d._next=c),s===this._mapHead&&(this._mapHead=c),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(s,c){if(this._records.has(s)){const h=this._records.get(s);this._maybeAddToChanges(h,c);const g=h._prev,v=h._next;return g&&(g._next=v),v&&(v._prev=g),h._next=null,h._prev=null,h}const d=new op(s);return this._records.set(s,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,c){Object.is(c,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=c,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,c){s instanceof Map?s.forEach(c):Object.keys(s).forEach(d=>c(s[d],d))}}class op{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function B0(){return new Qa([new F0])}let Qa=(()=>{class o{constructor(c){this.factories=c}static create(c,d){if(null!=d){const h=d.factories.slice();c=c.concat(h)}return new o(c)}static extend(c){return{provide:o,useFactory:d=>o.create(c,d||B0()),deps:[[o,new ct,new Ac]]}}find(c){const d=this.factories.find(h=>h.supports(c));if(null!=d)return d;throw new ye(901,!1)}}return o.\u0275prov=gt({token:o,providedIn:"root",factory:B0}),o})();function sx(){return new Cy([new Cu])}let Cy=(()=>{class o{constructor(c){this.factories=c}static create(c,d){if(d){const h=d.factories.slice();c=c.concat(h)}return new o(c)}static extend(c){return{provide:o,useFactory:d=>o.create(c,d||sx()),deps:[[o,new ct,new Ac]]}}find(c){const d=this.factories.find(h=>h.supports(c));if(d)return d;throw new ye(901,!1)}}return o.\u0275prov=gt({token:o,providedIn:"root",factory:sx}),o})();const cx=Eu(null,"core",[]);let KD=(()=>{class o{constructor(c){}}return o.\u0275fac=function(c){return new(c||o)(un(gg))},o.\u0275mod=ie({type:o}),o.\u0275inj=vt({}),o})();function lx(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}},3942:(It,ke,L)=>{L.d(ke,{Z:()=>Xe});var u=L(2090),te=L(4859),O=L(6881),le=L(1877);class ue{constructor(ye,Oe){this._delegate=ye,this.firebase=Oe,(0,O._addComponent)(ye,new te.wA("app-compat",()=>this,"PUBLIC")),this.container=ye.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ye){this._delegate.automaticDataCollectionEnabled=ye}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ye=>{this._delegate.checkDestroyed(),ye()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(ye,Oe=O._DEFAULT_ENTRY_NAME){var Fe;this._delegate.checkDestroyed();const $e=this._delegate.container.getProvider(ye);return!$e.isInitialized()&&"EXPLICIT"===(null===(Fe=$e.getComponent())||void 0===Fe?void 0:Fe.instantiationMode)&&$e.initialize(),$e.getImmediate({identifier:Oe})}_removeServiceInstance(ye,Oe=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ye).clearInstance(Oe)}_addComponent(ye){(0,O._addComponent)(this._delegate,ye)}_addOrOverwriteComponent(ye){(0,O._addOrOverwriteComponent)(this._delegate,ye)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const we=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),z=function _e(){const ht=function xe(ht){const ye={},Oe={__esModule:!0,initializeApp:function Le(Ve,lt={}){const ae=O.initializeApp(Ve,lt);if((0,u.r3)(ye,ae.name))return ye[ae.name];const Mt=new ht(ae,Oe);return ye[ae.name]=Mt,Mt},app:$e,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function Te(Ve){const lt=Ve.name,ae=lt.replace("-compat","");if(O._registerComponent(Ve)&&"PUBLIC"===Ve.type){const Mt=(ot=$e())=>{if("function"!=typeof ot[ae])throw we.create("invalid-app-argument",{appName:lt});return ot[ae]()};void 0!==Ve.serviceProps&&(0,u.ZB)(Mt,Ve.serviceProps),Oe[ae]=Mt,ht.prototype[ae]=function(...ot){return this._getService.bind(this,lt).apply(this,Ve.multipleInstances?ot:[])}}return"PUBLIC"===Ve.type?Oe[ae]:null},removeApp:function Fe(Ve){delete ye[Ve]},useAsService:function Ze(Ve,lt){return"serverAuth"===lt?null:lt},modularAPIs:O}};function $e(Ve){if(!(0,u.r3)(ye,Ve=Ve||O._DEFAULT_ENTRY_NAME))throw we.create("no-app",{appName:Ve});return ye[Ve]}return Oe.default=Oe,Object.defineProperty(Oe,"apps",{get:function Ce(){return Object.keys(ye).map(Ve=>ye[Ve])}}),$e.App=ht,Oe}(ue);return ht.INTERNAL=Object.assign(Object.assign({},ht.INTERNAL),{createFirebaseNamespace:_e,extendNamespace:function ye(Oe){(0,u.ZB)(ht,Oe)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),ht}(),$=new le.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){$.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ht=self.firebase.SDK_VERSION;ht&&ht.indexOf("LITE")>=0&&$.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Xe=z;!function Se(ht){(0,O.registerVersion)("@firebase/app-compat","0.2.13",ht)}()},6881:(It,ke,L)=>{L.r(ke),L.d(ke,{FirebaseError:()=>le.ZR,SDK_VERSION:()=>Xo,_DEFAULT_ENTRY_NAME:()=>Qr,_addComponent:()=>ut,_addOrOverwriteComponent:()=>Bt,_apps:()=>sn,_clearComponents:()=>Xr,_components:()=>ln,_getProvider:()=>fi,_registerComponent:()=>Ci,_removeServiceInstance:()=>br,deleteApp:()=>Ti,getApp:()=>so,getApps:()=>un,initializeApp:()=>en,onLog:()=>ji,registerVersion:()=>tr,setLogLevel:()=>Dn});var u=L(5861),te=L(4859),O=L(1877),le=L(2090);const ue=(me,ie)=>ie.some(Be=>me instanceof Be);let re,we;const z=new WeakMap,$=new WeakMap,Y=new WeakMap,Ge=new WeakMap,Se=new WeakMap;let ye={get(me,ie,Be){if(me instanceof IDBTransaction){if("done"===ie)return $.get(me);if("objectStoreNames"===ie)return me.objectStoreNames||Y.get(me);if("store"===ie)return Be.objectStoreNames[1]?void 0:Be.objectStore(Be.objectStoreNames[0])}return Le(me[ie])},set:(me,ie,Be)=>(me[ie]=Be,!0),has:(me,ie)=>me instanceof IDBTransaction&&("done"===ie||"store"===ie)||ie in me};function $e(me){return"function"==typeof me?function Fe(me){return me!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function _e(){return we||(we=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(me)?function(...ie){return me.apply(Ce(this),ie),Le(z.get(this))}:function(...ie){return Le(me.apply(Ce(this),ie))}:function(ie,...Be){const yt=me.call(Ce(this),ie,...Be);return Y.set(yt,ie.sort?ie.sort():[ie]),Le(yt)}}(me):(me instanceof IDBTransaction&&function ht(me){if($.has(me))return;const ie=new Promise((Be,yt)=>{const At=()=>{me.removeEventListener("complete",Zt),me.removeEventListener("error",wt),me.removeEventListener("abort",wt)},Zt=()=>{Be(),At()},wt=()=>{yt(me.error||new DOMException("AbortError","AbortError")),At()};me.addEventListener("complete",Zt),me.addEventListener("error",wt),me.addEventListener("abort",wt)});$.set(me,ie)}(me),ue(me,function xe(){return re||(re=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(me,ye):me)}function Le(me){if(me instanceof IDBRequest)return function Xe(me){const ie=new Promise((Be,yt)=>{const At=()=>{me.removeEventListener("success",Zt),me.removeEventListener("error",wt)},Zt=()=>{Be(Le(me.result)),At()},wt=()=>{yt(me.error),At()};me.addEventListener("success",Zt),me.addEventListener("error",wt)});return ie.then(Be=>{Be instanceof IDBCursor&&z.set(Be,me)}).catch(()=>{}),Se.set(ie,me),ie}(me);if(Ge.has(me))return Ge.get(me);const ie=$e(me);return ie!==me&&(Ge.set(me,ie),Se.set(ie,me)),ie}const Ce=me=>Se.get(me),Ve=["get","getKey","getAll","getAllKeys","count"],lt=["put","add","delete","clear"],ae=new Map;function Mt(me,ie){if(!(me instanceof IDBDatabase)||ie in me||"string"!=typeof ie)return;if(ae.get(ie))return ae.get(ie);const Be=ie.replace(/FromIndex$/,""),yt=ie!==Be,At=lt.includes(Be);if(!(Be in(yt?IDBIndex:IDBObjectStore).prototype)||!At&&!Ve.includes(Be))return;const Zt=function(){var wt=(0,u.Z)(function*(an,...rn){const wr=this.transaction(an,At?"readwrite":"readonly");let nr=wr.store;return yt&&(nr=nr.index(rn.shift())),(yield Promise.all([nr[Be](...rn),At&&wr.done]))[0]});return function(rn){return wt.apply(this,arguments)}}();return ae.set(ie,Zt),Zt}!function Oe(me){ye=me(ye)}(me=>({...me,get:(ie,Be,yt)=>Mt(ie,Be)||me.get(ie,Be,yt),has:(ie,Be)=>!!Mt(ie,Be)||me.has(ie,Be)}));class ot{constructor(ie){this.container=ie}getPlatformInfoString(){return this.container.getProviders().map(Be=>{if(function Kt(me){return"VERSION"===me.getComponent()?.type}(Be)){const yt=Be.getImmediate();return`${yt.library}/${yt.version}`}return null}).filter(Be=>Be).join(" ")}}const ft="@firebase/app",ui=new O.Yd("@firebase/app"),Qr="[DEFAULT]",oo={[ft]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},sn=new Map,ln=new Map;function ut(me,ie){try{me.container.addComponent(ie)}catch(Be){ui.debug(`Component ${ie.name} failed to register with FirebaseApp ${me.name}`,Be)}}function Bt(me,ie){me.container.addOrOverwriteComponent(ie)}function Ci(me){const ie=me.name;if(ln.has(ie))return ui.debug(`There were multiple attempts to register component ${ie}.`),!1;ln.set(ie,me);for(const Be of sn.values())ut(Be,me);return!0}function fi(me,ie){const Be=me.container.getProvider("heartbeat").getImmediate({optional:!0});return Be&&Be.triggerHeartbeat(),me.container.getProvider(ie)}function br(me,ie,Be=Qr){fi(me,ie).clearInstance(Be)}function Xr(){ln.clear()}const pi=new le.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class yn{constructor(ie,Be,yt){this._isDeleted=!1,this._options=Object.assign({},ie),this._config=Object.assign({},Be),this._name=Be.name,this._automaticDataCollectionEnabled=Be.automaticDataCollectionEnabled,this._container=yt,this.container.addComponent(new te.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ie){this.checkDestroyed(),this._automaticDataCollectionEnabled=ie}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ie){this._isDeleted=ie}checkDestroyed(){if(this.isDeleted)throw pi.create("app-deleted",{appName:this._name})}}const Xo="9.23.0";function en(me,ie={}){let Be=me;"object"!=typeof ie&&(ie={name:ie});const yt=Object.assign({name:Qr,automaticDataCollectionEnabled:!1},ie),At=yt.name;if("string"!=typeof At||!At)throw pi.create("bad-app-name",{appName:String(At)});if(Be||(Be=(0,le.aH)()),!Be)throw pi.create("no-options");const Zt=sn.get(At);if(Zt){if((0,le.vZ)(Be,Zt.options)&&(0,le.vZ)(yt,Zt.config))return Zt;throw pi.create("duplicate-app",{appName:At})}const wt=new te.H0(At);for(const rn of ln.values())wt.addComponent(rn);const an=new yn(Be,yt,wt);return sn.set(At,an),an}function so(me=Qr){const ie=sn.get(me);if(!ie&&me===Qr&&(0,le.aH)())return en();if(!ie)throw pi.create("no-app",{appName:me});return ie}function un(){return Array.from(sn.values())}function Ti(me){return jn.apply(this,arguments)}function jn(){return(jn=(0,u.Z)(function*(me){const ie=me.name;sn.has(ie)&&(sn.delete(ie),yield Promise.all(me.container.getProviders().map(Be=>Be.delete())),me.isDeleted=!0)})).apply(this,arguments)}function tr(me,ie,Be){var yt;let At=null!==(yt=oo[me])&&void 0!==yt?yt:me;Be&&(At+=`-${Be}`);const Zt=At.match(/\s|\//),wt=ie.match(/\s|\//);if(Zt||wt){const an=[`Unable to register library "${At}" with version "${ie}":`];return Zt&&an.push(`library name "${At}" contains illegal characters (whitespace or "/")`),Zt&&wt&&an.push("and"),wt&&an.push(`version name "${ie}" contains illegal characters (whitespace or "/")`),void ui.warn(an.join(" "))}Ci(new te.wA(`${At}-version`,()=>({library:At,version:ie}),"VERSION"))}function ji(me,ie){if(null!==me&&"function"!=typeof me)throw pi.create("invalid-log-argument");(0,O.Am)(me,ie)}function Dn(me){(0,O.Ub)(me)}const Hi="firebase-heartbeat-database",Jr=1,H="firebase-heartbeat-store";let V=null;function K(){return V||(V=function Te(me,ie,{blocked:Be,upgrade:yt,blocking:At,terminated:Zt}={}){const wt=indexedDB.open(me,ie),an=Le(wt);return yt&&wt.addEventListener("upgradeneeded",rn=>{yt(Le(wt.result),rn.oldVersion,rn.newVersion,Le(wt.transaction),rn)}),Be&&wt.addEventListener("blocked",rn=>Be(rn.oldVersion,rn.newVersion,rn)),an.then(rn=>{Zt&&rn.addEventListener("close",()=>Zt()),At&&rn.addEventListener("versionchange",wr=>At(wr.oldVersion,wr.newVersion,wr))}).catch(()=>{}),an}(Hi,Jr,{upgrade:(me,ie)=>{0===ie&&me.createObjectStore(H)}}).catch(me=>{throw pi.create("idb-open",{originalErrorMessage:me.message})})),V}function ne(){return(ne=(0,u.Z)(function*(me){try{return yield(yield K()).transaction(H).objectStore(H).get(nn(me))}catch(ie){if(ie instanceof le.ZR)ui.warn(ie.message);else{const Be=pi.create("idb-get",{originalErrorMessage:ie?.message});ui.warn(Be.message)}}})).apply(this,arguments)}function Ue(me,ie){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,u.Z)(function*(me,ie){try{const yt=(yield K()).transaction(H,"readwrite");yield yt.objectStore(H).put(ie,nn(me)),yield yt.done}catch(Be){if(Be instanceof le.ZR)ui.warn(Be.message);else{const yt=pi.create("idb-set",{originalErrorMessage:Be?.message});ui.warn(yt.message)}}})).apply(this,arguments)}function nn(me){return`${me.name}!${me.options.appId}`}class pn{constructor(ie){this.container=ie,this._heartbeatsCache=null;const Be=this.container.getProvider("app").getImmediate();this._storage=new $i(Be),this._heartbeatsCachePromise=this._storage.read().then(yt=>(this._heartbeatsCache=yt,yt))}triggerHeartbeat(){var ie=this;return(0,u.Z)(function*(){const yt=ie.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),At=Xt();if(null===ie._heartbeatsCache&&(ie._heartbeatsCache=yield ie._heartbeatsCachePromise),ie._heartbeatsCache.lastSentHeartbeatDate!==At&&!ie._heartbeatsCache.heartbeats.some(Zt=>Zt.date===At))return ie._heartbeatsCache.heartbeats.push({date:At,agent:yt}),ie._heartbeatsCache.heartbeats=ie._heartbeatsCache.heartbeats.filter(Zt=>{const wt=new Date(Zt.date).valueOf();return Date.now()-wt<=2592e6}),ie._storage.overwrite(ie._heartbeatsCache)})()}getHeartbeatsHeader(){var ie=this;return(0,u.Z)(function*(){if(null===ie._heartbeatsCache&&(yield ie._heartbeatsCachePromise),null===ie._heartbeatsCache||0===ie._heartbeatsCache.heartbeats.length)return"";const Be=Xt(),{heartbeatsToSend:yt,unsentEntries:At}=function Vr(me,ie=1024){const Be=[];let yt=me.slice();for(const At of me){const Zt=Be.find(wt=>wt.agent===At.agent);if(Zt){if(Zt.dates.push(At.date),ao(Be)>ie){Zt.dates.pop();break}}else if(Be.push({agent:At.agent,dates:[At.date]}),ao(Be)>ie){Be.pop();break}yt=yt.slice(1)}return{heartbeatsToSend:Be,unsentEntries:yt}}(ie._heartbeatsCache.heartbeats),Zt=(0,le.L)(JSON.stringify({version:2,heartbeats:yt}));return ie._heartbeatsCache.lastSentHeartbeatDate=Be,At.length>0?(ie._heartbeatsCache.heartbeats=At,yield ie._storage.overwrite(ie._heartbeatsCache)):(ie._heartbeatsCache.heartbeats=[],ie._storage.overwrite(ie._heartbeatsCache)),Zt})()}}function Xt(){return(new Date).toISOString().substring(0,10)}class $i{constructor(ie){this.app=ie,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.Z)(function*(){return!!(0,le.hl)()&&(0,le.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ie=this;return(0,u.Z)(function*(){return(yield ie._canUseIndexedDBPromise)&&(yield function Ee(me){return ne.apply(this,arguments)}(ie.app))||{heartbeats:[]}})()}overwrite(ie){var Be=this;return(0,u.Z)(function*(){var yt;if(yield Be._canUseIndexedDBPromise){const Zt=yield Be.read();return Ue(Be.app,{lastSentHeartbeatDate:null!==(yt=ie.lastSentHeartbeatDate)&&void 0!==yt?yt:Zt.lastSentHeartbeatDate,heartbeats:ie.heartbeats})}})()}add(ie){var Be=this;return(0,u.Z)(function*(){var yt;if(yield Be._canUseIndexedDBPromise){const Zt=yield Be.read();return Ue(Be.app,{lastSentHeartbeatDate:null!==(yt=ie.lastSentHeartbeatDate)&&void 0!==yt?yt:Zt.lastSentHeartbeatDate,heartbeats:[...Zt.heartbeats,...ie.heartbeats]})}})()}}function ao(me){return(0,le.L)(JSON.stringify({version:2,heartbeats:me})).length}!function nc(me){Ci(new te.wA("platform-logger",ie=>new ot(ie),"PRIVATE")),Ci(new te.wA("heartbeat",ie=>new pn(ie),"PRIVATE")),tr(ft,"0.9.13",me),tr(ft,"0.9.13","esm2017"),tr("fire-js","")}("")},4859:(It,ke,L)=>{L.d(ke,{H0:()=>xe,wA:()=>O});var u=L(5861),te=L(2090);class O{constructor(z,$,Y){this.name=z,this.instanceFactory=$,this.type=Y,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(z){return this.instantiationMode=z,this}setMultipleInstances(z){return this.multipleInstances=z,this}setServiceProps(z){return this.serviceProps=z,this}setInstanceCreatedCallback(z){return this.onInstanceCreated=z,this}}const le="[DEFAULT]";class ue{constructor(z,$){this.name=z,this.container=$,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(z){const $=this.normalizeInstanceIdentifier(z);if(!this.instancesDeferred.has($)){const Y=new te.BH;if(this.instancesDeferred.set($,Y),this.isInitialized($)||this.shouldAutoInitialize())try{const Ge=this.getOrInitializeService({instanceIdentifier:$});Ge&&Y.resolve(Ge)}catch{}}return this.instancesDeferred.get($).promise}getImmediate(z){var $;const Y=this.normalizeInstanceIdentifier(z?.identifier),Ge=null!==($=z?.optional)&&void 0!==$&&$;if(!this.isInitialized(Y)&&!this.shouldAutoInitialize()){if(Ge)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Y})}catch(Se){if(Ge)return null;throw Se}}getComponent(){return this.component}setComponent(z){if(z.name!==this.name)throw Error(`Mismatching Component ${z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=z,this.shouldAutoInitialize()){if(function we(_e){return"EAGER"===_e.instantiationMode}(z))try{this.getOrInitializeService({instanceIdentifier:le})}catch{}for(const[$,Y]of this.instancesDeferred.entries()){const Ge=this.normalizeInstanceIdentifier($);try{const Se=this.getOrInitializeService({instanceIdentifier:Ge});Y.resolve(Se)}catch{}}}}clearInstance(z=le){this.instancesDeferred.delete(z),this.instancesOptions.delete(z),this.instances.delete(z)}delete(){var z=this;return(0,u.Z)(function*(){const $=Array.from(z.instances.values());yield Promise.all([...$.filter(Y=>"INTERNAL"in Y).map(Y=>Y.INTERNAL.delete()),...$.filter(Y=>"_delete"in Y).map(Y=>Y._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(z=le){return this.instances.has(z)}getOptions(z=le){return this.instancesOptions.get(z)||{}}initialize(z={}){const{options:$={}}=z,Y=this.normalizeInstanceIdentifier(z.instanceIdentifier);if(this.isInitialized(Y))throw Error(`${this.name}(${Y}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ge=this.getOrInitializeService({instanceIdentifier:Y,options:$});for(const[Se,Xe]of this.instancesDeferred.entries())Y===this.normalizeInstanceIdentifier(Se)&&Xe.resolve(Ge);return Ge}onInit(z,$){var Y;const Ge=this.normalizeInstanceIdentifier($),Se=null!==(Y=this.onInitCallbacks.get(Ge))&&void 0!==Y?Y:new Set;Se.add(z),this.onInitCallbacks.set(Ge,Se);const Xe=this.instances.get(Ge);return Xe&&z(Xe,Ge),()=>{Se.delete(z)}}invokeOnInitCallbacks(z,$){const Y=this.onInitCallbacks.get($);if(Y)for(const Ge of Y)try{Ge(z,$)}catch{}}getOrInitializeService({instanceIdentifier:z,options:$={}}){let Y=this.instances.get(z);if(!Y&&this.component&&(Y=this.component.instanceFactory(this.container,{instanceIdentifier:(_e=z,_e===le?void 0:_e),options:$}),this.instances.set(z,Y),this.instancesOptions.set(z,$),this.invokeOnInitCallbacks(Y,z),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,z,Y)}catch{}var _e;return Y||null}normalizeInstanceIdentifier(z=le){return this.component?this.component.multipleInstances?z:le:z}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class xe{constructor(z){this.name=z,this.providers=new Map}addComponent(z){const $=this.getProvider(z.name);if($.isComponentSet())throw new Error(`Component ${z.name} has already been registered with ${this.name}`);$.setComponent(z)}addOrOverwriteComponent(z){this.getProvider(z.name).isComponentSet()&&this.providers.delete(z.name),this.addComponent(z)}getProvider(z){if(this.providers.has(z))return this.providers.get(z);const $=new ue(z,this);return this.providers.set(z,$),$}getProviders(){return Array.from(this.providers.values())}}},1877:(It,ke,L)=>{L.d(ke,{Am:()=>_e,Ub:()=>xe,Yd:()=>we,in:()=>te});const u=[];var te=(()=>{return(z=te||(te={}))[z.DEBUG=0]="DEBUG",z[z.VERBOSE=1]="VERBOSE",z[z.INFO=2]="INFO",z[z.WARN=3]="WARN",z[z.ERROR=4]="ERROR",z[z.SILENT=5]="SILENT",te;var z})();const O={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},le=te.INFO,ue={[te.DEBUG]:"log",[te.VERBOSE]:"log",[te.INFO]:"info",[te.WARN]:"warn",[te.ERROR]:"error"},re=(z,$,...Y)=>{if($<z.logLevel)return;const Ge=(new Date).toISOString(),Se=ue[$];if(!Se)throw new Error(`Attempted to log a message with an invalid logType (value: ${$})`);console[Se](`[${Ge}]  ${z.name}:`,...Y)};class we{constructor($){this.name=$,this._logLevel=le,this._logHandler=re,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel($){if(!($ in te))throw new TypeError(`Invalid value "${$}" assigned to \`logLevel\``);this._logLevel=$}setLogLevel($){this._logLevel="string"==typeof $?O[$]:$}get logHandler(){return this._logHandler}set logHandler($){if("function"!=typeof $)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=$}get userLogHandler(){return this._userLogHandler}set userLogHandler($){this._userLogHandler=$}debug(...$){this._userLogHandler&&this._userLogHandler(this,te.DEBUG,...$),this._logHandler(this,te.DEBUG,...$)}log(...$){this._userLogHandler&&this._userLogHandler(this,te.VERBOSE,...$),this._logHandler(this,te.VERBOSE,...$)}info(...$){this._userLogHandler&&this._userLogHandler(this,te.INFO,...$),this._logHandler(this,te.INFO,...$)}warn(...$){this._userLogHandler&&this._userLogHandler(this,te.WARN,...$),this._logHandler(this,te.WARN,...$)}error(...$){this._userLogHandler&&this._userLogHandler(this,te.ERROR,...$),this._logHandler(this,te.ERROR,...$)}}function xe(z){u.forEach($=>{$.setLogLevel(z)})}function _e(z,$){for(const Y of u){let Ge=null;$&&$.level&&(Ge=O[$.level]),Y.userLogHandler=null===z?null:(Se,Xe,...ht)=>{const ye=ht.map(Oe=>{if(null==Oe)return null;if("string"==typeof Oe)return Oe;if("number"==typeof Oe||"boolean"==typeof Oe)return Oe.toString();if(Oe instanceof Error)return Oe.message;try{return JSON.stringify(Oe)}catch{return null}}).filter(Oe=>Oe).join(" ");Xe>=(Ge??Se.logLevel)&&z({level:te[Xe].toLowerCase(),message:ye,args:ht,type:Se.name})}}}},259:(It,ke,L)=>{L.d(ke,{C6:()=>u.getApps,Mq:()=>u.getApp});var u=L(6881);(0,u.registerVersion)("firebase","9.23.0","app")},9260:(It,ke,L)=>{L.d(ke,{Z:()=>u.Z});var u=L(3942);u.Z.registerVersion("firebase","9.23.0","app-compat")},2644:(It,ke,L)=>{L.r(ke);var u=L(5861),te=L(3942),O=L(2090),le=L(6881),ue=L(7582),re=L(1877),we=L(4859);const _e={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Y_EMAIL_SIGNIN="EMAIL_SIGNIN",Y_PASSWORD_RESET="PASSWORD_RESET",Y_RECOVER_EMAIL="RECOVER_EMAIL",Y_REVERT_SECOND_FACTOR_ADDITION="REVERT_SECOND_FACTOR_ADDITION",Y_VERIFY_AND_CHANGE_EMAIL="VERIFY_AND_CHANGE_EMAIL",Y_VERIFY_EMAIL="VERIFY_EMAIL";const Xe=function Ge(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},ht=function Se(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ye=new O.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Fe=new re.Yd("@firebase/auth");function Le(y,...p){Fe.logLevel<=re.in.ERROR&&Fe.error(`Auth (${le.SDK_VERSION}): ${y}`,...p)}function Ce(y,...p){throw lt(y,...p)}function Te(y,...p){return lt(y,...p)}function Ze(y,p,m){const b=Object.assign(Object.assign({},ht()),{[p]:m});return new O.LL("auth","Firebase",b).create(p,{appName:y.name})}function Ve(y,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&Ce(y,"argument-error"),Ze(y,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function lt(y,...p){if("string"!=typeof y){const m=p[0],b=[...p.slice(1)];return b[0]&&(b[0].appName=y.name),y._errorFactory.create(m,...b)}return ye.create(y,...p)}function ae(y,p,...m){if(!y)throw lt(p,...m)}function Mt(y){const p="INTERNAL ASSERTION FAILED: "+y;throw Le(p),new Error(p)}function ot(y,p){y||Mt(p)}function Kt(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function ft(){return"http:"===Qo()||"https:"===Qo()}function Qo(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class io{constructor(p,m){this.shortDelay=p,this.longDelay=m,ot(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,O.uI)()||(0,O.b$)()}get(){return function ui(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ft()||(0,O.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function he(y,p){ot(y.emulator,"Emulator should always be set here");const{url:m}=y.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class pe{static initialize(p,m,b){this.fetchImpl=p,m&&(this.headersImpl=m),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Mt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Mt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Mt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ve={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},de=new io(3e4,6e4);function Me(y,p){return y.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:y.tenantId}):p}function Ae(y,p,m,b){return mt.apply(this,arguments)}function mt(){return(mt=(0,u.Z)(function*(y,p,m,b,D={}){return gt(y,D,(0,u.Z)(function*(){let k={},j={};b&&("GET"===p?j=b:k={body:JSON.stringify(b)});const X=(0,O.xO)(Object.assign({key:y.config.apiKey},j)).slice(1),Pe=yield y._getAdditionalHeaders();return Pe["Content-Type"]="application/json",y.languageCode&&(Pe["X-Firebase-Locale"]=y.languageCode),pe.fetch()(Sn(y,y.config.apiHost,m,X),Object.assign({method:p,headers:Pe,referrerPolicy:"no-referrer"},k))}))})).apply(this,arguments)}function gt(y,p,m){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,u.Z)(function*(y,p,m){y._canInitEmulator=!1;const b=Object.assign(Object.assign({},ve),p);try{const D=new In(y),k=yield Promise.race([m(),D.promise]);D.clearNetworkTimeout();const j=yield k.json();if("needConfirmation"in j)throw qn(y,"account-exists-with-different-credential",j);if(k.ok&&!("errorMessage"in j))return j;{const X=k.ok?j.errorMessage:j.error.message,[Pe,We]=X.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Pe)throw qn(y,"credential-already-in-use",j);if("EMAIL_EXISTS"===Pe)throw qn(y,"email-already-in-use",j);if("USER_DISABLED"===Pe)throw qn(y,"user-disabled",j);const st=b[Pe]||Pe.toLowerCase().replace(/[_\s]+/g,"-");if(We)throw Ze(y,st,We);Ce(y,st)}}catch(D){if(D instanceof O.ZR)throw D;Ce(y,"network-request-failed",{message:String(D)})}})).apply(this,arguments)}function vt(y,p,m,b){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,u.Z)(function*(y,p,m,b,D={}){const k=yield Ae(y,p,m,b,D);return"mfaPendingCredential"in k&&Ce(y,"multi-factor-auth-required",{_serverResponse:k}),k})).apply(this,arguments)}function Sn(y,p,m,b){const D=`${p}${m}?${b}`;return y.config.emulator?he(y.config,D):`${y.config.apiScheme}://${D}`}class In{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,b)=>{this.timer=setTimeout(()=>b(Te(this.auth,"network-request-failed")),de.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function qn(y,p,m){const b={appName:y.name};m.email&&(b.email=m.email),m.phoneNumber&&(b.phoneNumber=m.phoneNumber);const D=Te(y,p,b);return D.customData._tokenResponse=m,D}function Un(){return(Un=(0,u.Z)(function*(y,p){return Ae(y,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function di(){return(di=(0,u.Z)(function*(y,p){return Ae(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function bt(){return(bt=(0,u.Z)(function*(y,p){return Ae(y,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function hi(y){if(y)try{const p=new Date(Number(y));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function Qr(){return(Qr=(0,u.Z)(function*(y,p=!1){const m=(0,O.m9)(y),b=yield m.getIdToken(p),D=sn(b);ae(D&&D.exp&&D.auth_time&&D.iat,m.auth,"internal-error");const k="object"==typeof D.firebase?D.firebase:void 0,j=k?.sign_in_provider;return{claims:D,token:b,authTime:hi(oo(D.auth_time)),issuedAtTime:hi(oo(D.iat)),expirationTime:hi(oo(D.exp)),signInProvider:j||null,signInSecondFactor:k?.sign_in_second_factor||null}})).apply(this,arguments)}function oo(y){return 1e3*Number(y)}function sn(y){const[p,m,b]=y.split(".");if(void 0===p||void 0===m||void 0===b)return Le("JWT malformed, contained fewer than 3 sections"),null;try{const D=(0,O.tV)(m);return D?JSON.parse(D):(Le("Failed to decode base64 JWT payload"),null)}catch(D){return Le("Caught error parsing JWT payload as JSON",D?.toString()),null}}function ut(y,p){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,u.Z)(function*(y,p,m=!1){if(m)return p;try{return yield p}catch(b){throw b instanceof O.ZR&&function Ci({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}(b)&&y.auth.currentUser===y&&(yield y.auth.signOut()),b}})).apply(this,arguments)}class fi{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const D=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,D)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const b=this.getInterval(p);this.timerId=setTimeout((0,u.Z)(function*(){yield m.iteration()}),b)}iteration(){var p=this;return(0,u.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m?.code&&p.schedule(!0))}p.schedule()})()}}class br{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=hi(this.lastLoginAt),this.creationTime=hi(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Xr(y){return Fn.apply(this,arguments)}function Fn(){return Fn=(0,u.Z)(function*(y){var p;const m=y.auth,b=yield y.getIdToken(),D=yield ut(y,function Br(y,p){return bt.apply(this,arguments)}(m,{idToken:b}));ae(D?.users.length,m,"internal-error");const k=D.users[0];y._notifyReloadListener(k);const j=null!==(p=k.providerUserInfo)&&void 0!==p&&p.length?function en(y){return y.map(p=>{var{providerId:m}=p,b=(0,ue._T)(p,["providerId"]);return{providerId:m,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}(k.providerUserInfo):[],X=function Xo(y,p){return[...y.filter(b=>!p.some(D=>D.providerId===b.providerId)),...p]}(y.providerData,j),st=!!y.isAnonymous&&!(y.email&&k.passwordHash||X?.length),at={uid:k.localId,displayName:k.displayName||null,photoURL:k.photoUrl||null,email:k.email||null,emailVerified:k.emailVerified||!1,phoneNumber:k.phoneNumber||null,tenantId:k.tenantId||null,providerData:X,metadata:new br(k.createdAt,k.lastLoginAt),isAnonymous:st};Object.assign(y,at)}),Fn.apply(this,arguments)}function yn(){return(yn=(0,u.Z)(function*(y){const p=(0,O.m9)(y);yield Xr(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function un(){return(un=(0,u.Z)(function*(y,p){const m=yield gt(y,{},(0,u.Z)(function*(){const b=(0,O.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:D,apiKey:k}=y.config,j=Sn(y,D,"/v1/token",`key=${k}`),X=yield y._getAdditionalHeaders();return X["Content-Type"]="application/x-www-form-urlencoded",pe.fetch()(j,{method:"POST",headers:X,body:b})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Ti{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){ae(p.idToken,"internal-error"),ae(typeof p.idToken<"u","internal-error"),ae(typeof p.refreshToken<"u","internal-error");const m="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function ln(y){const p=sn(y);return ae(p,"internal-error"),ae(typeof p.exp<"u","internal-error"),ae(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var b=this;return(0,u.Z)(function*(){return ae(!b.accessToken||b.refreshToken,p,"user-token-expired"),m||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(p,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var b=this;return(0,u.Z)(function*(){const{accessToken:D,refreshToken:k,expiresIn:j}=yield function so(y,p){return un.apply(this,arguments)}(p,m);b.updateTokensAndExpiration(D,k,Number(j))})()}updateTokensAndExpiration(p,m,b){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(p,m){const{refreshToken:b,accessToken:D,expirationTime:k}=m,j=new Ti;return b&&(ae("string"==typeof b,"internal-error",{appName:p}),j.refreshToken=b),D&&(ae("string"==typeof D,"internal-error",{appName:p}),j.accessToken=D),k&&(ae("number"==typeof k,"internal-error",{appName:p}),j.expirationTime=k),j}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Ti,this.toJSON())}_performRefresh(){return Mt("not implemented")}}function jn(y,p){ae("string"==typeof y||typeof y>"u","internal-error",{appName:p})}class tr{constructor(p){var{uid:m,auth:b,stsTokenManager:D}=p,k=(0,ue._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new fi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=b,this.stsTokenManager=D,this.accessToken=D.accessToken,this.displayName=k.displayName||null,this.email=k.email||null,this.emailVerified=k.emailVerified||!1,this.phoneNumber=k.phoneNumber||null,this.photoURL=k.photoURL||null,this.isAnonymous=k.isAnonymous||!1,this.tenantId=k.tenantId||null,this.providerData=k.providerData?[...k.providerData]:[],this.metadata=new br(k.createdAt||void 0,k.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,u.Z)(function*(){const b=yield ut(m,m.stsTokenManager.getToken(m.auth,p));return ae(b,m.auth,"internal-error"),m.accessToken!==b&&(m.accessToken=b,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),b})()}getIdTokenResult(p){return function Rr(y){return Qr.apply(this,arguments)}(this,p)}reload(){return function pi(y){return yn.apply(this,arguments)}(this)}_assign(p){this!==p&&(ae(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const m=new tr(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return m.metadata._copy(this.metadata),m}_onReload(p){ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var b=this;return(0,u.Z)(function*(){let D=!1;p.idToken&&p.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(p),D=!0),m&&(yield Xr(b)),yield b.auth._persistUserIfCurrent(b),D&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var p=this;return(0,u.Z)(function*(){const m=yield p.getIdToken();return yield ut(p,function vr(y,p){return Un.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var b,D,k,j,X,Pe,We,st;const at=null!==(b=m.displayName)&&void 0!==b?b:void 0,Nn=null!==(D=m.email)&&void 0!==D?D:void 0,Uo=null!==(k=m.phoneNumber)&&void 0!==k?k:void 0,wd=null!==(j=m.photoURL)&&void 0!==j?j:void 0,_v=null!==(X=m.tenantId)&&void 0!==X?X:void 0,On=null!==(Pe=m._redirectEventId)&&void 0!==Pe?Pe:void 0,a_=null!==(We=m.createdAt)&&void 0!==We?We:void 0,c_=null!==(st=m.lastLoginAt)&&void 0!==st?st:void 0,{uid:Ed,emailVerified:Id,isAnonymous:Qi,providerData:Xh,stsTokenManager:Jl}=m;ae(Ed&&Jl,p,"internal-error");const yv=Ti.fromJSON(this.name,Jl);ae("string"==typeof Ed,p,"internal-error"),jn(at,p.name),jn(Nn,p.name),ae("boolean"==typeof Id,p,"internal-error"),ae("boolean"==typeof Qi,p,"internal-error"),jn(Uo,p.name),jn(wd,p.name),jn(_v,p.name),jn(On,p.name),jn(a_,p.name),jn(c_,p.name);const Jh=new tr({uid:Ed,auth:p,email:Nn,emailVerified:Id,displayName:at,isAnonymous:Qi,photoURL:wd,phoneNumber:Uo,tenantId:_v,stsTokenManager:yv,createdAt:a_,lastLoginAt:c_});return Xh&&Array.isArray(Xh)&&(Jh.providerData=Xh.map(vv=>Object.assign({},vv))),On&&(Jh._redirectEventId=On),Jh}static _fromIdTokenResponse(p,m,b=!1){return(0,u.Z)(function*(){const D=new Ti;D.updateFromServerResponse(m);const k=new tr({uid:m.localId,auth:p,stsTokenManager:D,isAnonymous:b});return yield Xr(k),k})()}}const ji=new Map;function Dn(y){ot(y instanceof Function,"Expected a class definition");let p=ji.get(y);return p?(ot(p instanceof y,"Instance stored in cache mismatched with class"),p):(p=new y,ji.set(y,p),p)}const Jr=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(m,b){var D=this;return(0,u.Z)(function*(){D.storage[m]=b})()}_get(m){var b=this;return(0,u.Z)(function*(){const D=b.storage[m];return void 0===D?null:D})()}_remove(m){var b=this;return(0,u.Z)(function*(){delete b.storage[m]})()}_addListener(m,b){}_removeListener(m,b){}}return y.type="NONE",y})();function H(y,p,m){return`firebase:${y}:${p}:${m}`}class V{constructor(p,m,b){this.persistence=p,this.auth=m,this.userKey=b;const{config:D,name:k}=this.auth;this.fullUserKey=H(this.userKey,D.apiKey,k),this.fullPersistenceKey=H("persistence",D.apiKey,k),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,u.Z)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?tr._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,u.Z)(function*(){if(m.persistence===p)return;const b=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,b?m.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,b="authUser"){return(0,u.Z)(function*(){if(!m.length)return new V(Dn(Jr),p,b);const D=(yield Promise.all(m.map(function(){var We=(0,u.Z)(function*(st){if(yield st._isAvailable())return st});return function(st){return We.apply(this,arguments)}}()))).filter(We=>We);let k=D[0]||Dn(Jr);const j=H(b,p.config.apiKey,p.name);let X=null;for(const We of m)try{const st=yield We._get(j);if(st){const at=tr._fromJSON(p,st);We!==k&&(X=at),k=We;break}}catch{}const Pe=D.filter(We=>We._shouldAllowMigration);return k._shouldAllowMigration&&Pe.length?(k=Pe[0],X&&(yield k._set(j,X.toJSON())),yield Promise.all(m.map(function(){var We=(0,u.Z)(function*(st){if(st!==k)try{yield st._remove(j)}catch{}});return function(st){return We.apply(this,arguments)}}())),new V(k,p,b)):new V(k,p,b)})()}}function K(y){const p=y.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Rt(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(Ee(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Wn(p))return"Blackberry";if(Mn(p))return"Webos";if(ne(p))return"Safari";if((p.includes("chrome/")||Ue(p))&&!p.includes("edge/"))return"Chrome";if(nn(p))return"Android";{const b=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===b?.length)return b[1]}return"Other"}function Ee(y=(0,O.z$)()){return/firefox\//i.test(y)}function ne(y=(0,O.z$)()){const p=y.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Ue(y=(0,O.z$)()){return/crios\//i.test(y)}function Rt(y=(0,O.z$)()){return/iemobile/i.test(y)}function nn(y=(0,O.z$)()){return/android/i.test(y)}function Wn(y=(0,O.z$)()){return/blackberry/i.test(y)}function Mn(y=(0,O.z$)()){return/webos/i.test(y)}function pn(y=(0,O.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function ao(y=(0,O.z$)()){return pn(y)||nn(y)||Mn(y)||Wn(y)||/windows phone/i.test(y)||Rt(y)}function me(y,p=[]){let m;switch(y){case"Browser":m=K((0,O.z$)());break;case"Worker":m=`${K((0,O.z$)())}-${y}`;break;default:m=y}const b=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${le.SDK_VERSION}/${b}`}function Be(){return(Be=(0,u.Z)(function*(y){return(yield Ae(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function yt(y,p){return At.apply(this,arguments)}function At(){return(At=(0,u.Z)(function*(y,p){return Ae(y,"GET","/v2/recaptchaConfig",Me(y,p))})).apply(this,arguments)}function Zt(y){return void 0!==y&&void 0!==y.getResponse}function wt(y){return void 0!==y&&void 0!==y.enterprise}class an{constructor(p){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===p.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=p.recaptchaKey.split("/")[3],this.emailPasswordEnabled=p.recaptchaEnforcementState.some(m=>"EMAIL_PASSWORD_PROVIDER"===m.provider&&"OFF"!==m.enforcementState)}}function wr(y){return new Promise((p,m)=>{const b=document.createElement("script");b.setAttribute("src",y),b.onload=p,b.onerror=D=>{const k=Te("internal-error");k.customData=D,m(k)},b.type="text/javascript",b.charset="UTF-8",function rn(){var y,p;return null!==(p=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==p?p:document}().appendChild(b)})}function nr(y){return`__${y}${Math.floor(1e6*Math.random())}`}const _a="NO_RECAPTCHA";class Di{constructor(p){this.type="recaptcha-enterprise",this.auth=_n(p)}verify(p="verify",m=!1){var b=this;return(0,u.Z)(function*(){function k(){return k=(0,u.Z)(function*(X){if(!m){if(null==X.tenantId&&null!=X._agentRecaptchaConfig)return X._agentRecaptchaConfig.siteKey;if(null!=X.tenantId&&void 0!==X._tenantRecaptchaConfigs[X.tenantId])return X._tenantRecaptchaConfigs[X.tenantId].siteKey}return new Promise(function(){var Pe=(0,u.Z)(function*(We,st){yt(X,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(at=>{if(void 0!==at.recaptchaKey){const Nn=new an(at);return null==X.tenantId?X._agentRecaptchaConfig=Nn:X._tenantRecaptchaConfigs[X.tenantId]=Nn,We(Nn.siteKey)}st(new Error("recaptcha Enterprise site key undefined"))}).catch(at=>{st(at)})});return function(We,st){return Pe.apply(this,arguments)}}())}),k.apply(this,arguments)}function j(X,Pe,We){const st=window.grecaptcha;wt(st)?st.enterprise.ready(()=>{st.enterprise.execute(X,{action:p}).then(at=>{Pe(at)}).catch(()=>{Pe(_a)})}):We(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((X,Pe)=>{(function D(X){return k.apply(this,arguments)})(b.auth).then(We=>{if(!m&&wt(window.grecaptcha))j(We,X,Pe);else{if(typeof window>"u")return void Pe(new Error("RecaptchaVerifier is only supported in browser"));wr("https://www.google.com/recaptcha/enterprise.js?render="+We).then(()=>{j(We,X,Pe)}).catch(st=>{Pe(st)})}}).catch(We=>{Pe(We)})})})()}}function Je(y,p,m){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,u.Z)(function*(y,p,m,b=!1){const D=new Di(y);let k;try{k=yield D.verify(m)}catch{k=yield D.verify(m,!0)}const j=Object.assign({},p);return Object.assign(j,b?{captchaResp:k}:{captchaResponse:k}),Object.assign(j,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(j,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),j})).apply(this,arguments)}class An{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,m){const b=k=>new Promise((j,X)=>{try{j(p(k))}catch(Pe){X(Pe)}});b.onAbort=m,this.queue.push(b);const D=this.queue.length-1;return()=>{this.queue[D]=()=>Promise.resolve()}}runMiddleware(p){var m=this;return(0,u.Z)(function*(){if(m.auth.currentUser===p)return;const b=[];try{for(const D of m.queue)yield D(p),D.onAbort&&b.push(D.onAbort)}catch(D){b.reverse();for(const k of b)try{k()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:D?.message})}})()}}class Ai{constructor(p,m,b,D){this.app=p,this.heartbeatServiceProvider=m,this.appCheckServiceProvider=b,this.config=D,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rr(this),this.idTokenSubscription=new rr(this),this.beforeStateQueue=new An(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ye,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=D.sdkClientVersion}_initializeWithPersistence(p,m){var b=this;return m&&(this._popupRedirectResolver=Dn(m)),this._initializationPromise=this.queue((0,u.Z)(function*(){var D,k;if(!b._deleted&&(b.persistenceManager=yield V.create(b,p),!b._deleted)){if(null!==(D=b._popupRedirectResolver)&&void 0!==D&&D._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch{}yield b.initializeCurrentUser(m),b.lastNotifiedUid=(null===(k=b.currentUser)||void 0===k?void 0:k.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,u.Z)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m,!0)}})()}initializeCurrentUser(p){var m=this;return(0,u.Z)(function*(){var b;const D=yield m.assertedPersistence.getCurrentUser();let k=D,j=!1;if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const X=null===(b=m.redirectUser)||void 0===b?void 0:b._redirectEventId,Pe=k?._redirectEventId,We=yield m.tryRedirectSignIn(p);(!X||X===Pe)&&We?.user&&(k=We.user,j=!0)}if(!k)return m.directlySetCurrentUser(null);if(!k._redirectEventId){if(j)try{yield m.beforeStateQueue.runMiddleware(k)}catch(X){k=D,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(X))}return k?m.reloadAndSetCurrentUserOrClear(k):m.directlySetCurrentUser(null)}return ae(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===k._redirectEventId?m.directlySetCurrentUser(k):m.reloadAndSetCurrentUserOrClear(k)})()}tryRedirectSignIn(p){var m=this;return(0,u.Z)(function*(){let b=null;try{b=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch{yield m._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,u.Z)(function*(){try{yield Xr(p)}catch(b){if("auth/network-request-failed"!==b?.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function Ds(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var p=this;return(0,u.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,u.Z)(function*(){const b=p?(0,O.m9)(p):null;return b&&ae(b.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(b&&b._clone(m))})()}_updateCurrentUser(p,m=!1){var b=this;return(0,u.Z)(function*(){if(!b._deleted)return p&&ae(b.tenantId===p.tenantId,b,"tenant-id-mismatch"),m||(yield b.beforeStateQueue.runMiddleware(p)),b.queue((0,u.Z)(function*(){yield b.directlySetCurrentUser(p),b.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,u.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var m=this;return this.queue((0,u.Z)(function*(){yield m.assertedPersistence.setPersistence(Dn(p))}))}initializeRecaptchaConfig(){var p=this;return(0,u.Z)(function*(){const m=yield yt(p,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),b=new an(m);null==p.tenantId?p._agentRecaptchaConfig=b:p._tenantRecaptchaConfigs[p.tenantId]=b,b.emailPasswordEnabled&&new Di(p).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new O.LL("auth","Firebase",p())}onAuthStateChanged(p,m,b){return this.registerStateListener(this.authStateSubscription,p,m,b)}beforeAuthStateChanged(p,m){return this.beforeStateQueue.pushCallback(p,m)}onIdTokenChanged(p,m,b){return this.registerStateListener(this.idTokenSubscription,p,m,b)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var b=this;return(0,u.Z)(function*(){const D=yield b.getOrInitRedirectPersistenceManager(m);return null===p?D.removeCurrentUser():D.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,u.Z)(function*(){if(!m.redirectPersistenceManager){const b=p&&Dn(p)||m._popupRedirectResolver;ae(b,m,"argument-error"),m.redirectPersistenceManager=yield V.create(m,[Dn(b._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,u.Z)(function*(){var b,D;return m._isInitialized&&(yield m.queue((0,u.Z)(function*(){}))),(null===(b=m._currentUser)||void 0===b?void 0:b._redirectEventId)===p?m._currentUser:(null===(D=m.redirectUser)||void 0===D?void 0:D._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,u.Z)(function*(){if(p===m.currentUser)return m.queue((0,u.Z)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,b,D){if(this._deleted)return()=>{};const k="function"==typeof m?m:m.next.bind(m),j=this._isInitialized?Promise.resolve():this._initializationPromise;return ae(j,this,"internal-error"),j.then(()=>k(this.currentUser)),"function"==typeof m?p.addObserver(m,b,D):p.addObserver(m)}directlySetCurrentUser(p){var m=this;return(0,u.Z)(function*(){m.currentUser&&m.currentUser!==p&&m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh(),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=me(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,u.Z)(function*(){var m;const b={"X-Client-Version":p.clientVersion};p.app.options.appId&&(b["X-Firebase-gmpid"]=p.app.options.appId);const D=yield null===(m=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();D&&(b["X-Firebase-Client"]=D);const k=yield p._getAppCheckToken();return k&&(b["X-Firebase-AppCheck"]=k),b})()}_getAppCheckToken(){var p=this;return(0,u.Z)(function*(){var m;const b=yield null===(m=p.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getToken();return b?.error&&function $e(y,...p){Fe.logLevel<=re.in.WARN&&Fe.warn(`Auth (${le.SDK_VERSION}): ${y}`,...p)}(`Error while retrieving App Check token: ${b.error}`),b?.token})()}}function _n(y){return(0,O.m9)(y)}class rr{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,O.ne)(m=>this.observer=m)}get next(){return ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function co(y){const p=y.indexOf(":");return p<0?"":y.substr(0,p+1)}function ic(y){if(!y)return null;const p=Number(y);return isNaN(p)?null:p}class lo{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return Mt("not implemented")}_getIdTokenResponse(p){return Mt("not implemented")}_linkToIdToken(p,m){return Mt("not implemented")}_getReauthenticationResolver(p){return Mt("not implemented")}}function Jo(y,p){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,u.Z)(function*(y,p){return Ae(y,"POST","/v1/accounts:resetPassword",Me(y,p))})).apply(this,arguments)}function ya(y,p){return Do.apply(this,arguments)}function Do(){return(Do=(0,u.Z)(function*(y,p){return Ae(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Ss(){return(Ss=(0,u.Z)(function*(y,p){return Ae(y,"POST","/v1/accounts:update",Me(y,p))})).apply(this,arguments)}function dr(y,p){return xn.apply(this,arguments)}function xn(){return(xn=(0,u.Z)(function*(y,p){return vt(y,"POST","/v1/accounts:signInWithPassword",Me(y,p))})).apply(this,arguments)}function mi(y,p){return oc.apply(this,arguments)}function oc(){return(oc=(0,u.Z)(function*(y,p){return Ae(y,"POST","/v1/accounts:sendOobCode",Me(y,p))})).apply(this,arguments)}function va(){return(va=(0,u.Z)(function*(y,p){return mi(y,p)})).apply(this,arguments)}function es(y,p){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,u.Z)(function*(y,p){return mi(y,p)})).apply(this,arguments)}function Er(y,p){return sl.apply(this,arguments)}function sl(){return(sl=(0,u.Z)(function*(y,p){return mi(y,p)})).apply(this,arguments)}function _i(){return(_i=(0,u.Z)(function*(y,p){return mi(y,p)})).apply(this,arguments)}function ba(){return(ba=(0,u.Z)(function*(y,p){return vt(y,"POST","/v1/accounts:signInWithEmailLink",Me(y,p))})).apply(this,arguments)}function ei(){return(ei=(0,u.Z)(function*(y,p){return vt(y,"POST","/v1/accounts:signInWithEmailLink",Me(y,p))})).apply(this,arguments)}class al extends lo{constructor(p,m,b,D=null){super("password",b),this._email=p,this._password=m,this._tenantId=D}static _fromEmailAndPassword(p,m){return new al(p,m,"password")}static _fromEmailAndCode(p,m,b=null){return new al(p,m,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,u.Z)(function*(){var b;switch(m.signInMethod){case"password":const D={returnSecureToken:!0,email:m._email,password:m._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(b=p._getRecaptchaConfig())&&void 0!==b&&b.emailPasswordEnabled){const k=yield Je(p,D,"signInWithPassword");return dr(p,k)}return dr(p,D).catch(function(){var k=(0,u.Z)(function*(j){if("auth/missing-recaptcha-token"===j.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const X=yield Je(p,D,"signInWithPassword");return dr(p,X)}return Promise.reject(j)});return function(j){return k.apply(this,arguments)}}());case"emailLink":return function sc(y,p){return ba.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:Ce(p,"internal-error")}})()}_linkToIdToken(p,m){var b=this;return(0,u.Z)(function*(){switch(b.signInMethod){case"password":return ya(p,{idToken:m,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function Lu(y,p){return ei.apply(this,arguments)}(p,{idToken:m,email:b._email,oobCode:b._password});default:Ce(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Gi(y,p){return dh.apply(this,arguments)}function dh(){return(dh=(0,u.Z)(function*(y,p){return vt(y,"POST","/v1/accounts:signInWithIdp",Me(y,p))})).apply(this,arguments)}class Ao extends lo{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new Ao(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):Ce("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:D}=m,k=(0,ue._T)(m,["providerId","signInMethod"]);if(!b||!D)return null;const j=new Ao(b,D);return j.idToken=k.idToken||void 0,j.accessToken=k.accessToken||void 0,j.secret=k.secret,j.nonce=k.nonce,j.pendingToken=k.pendingToken||null,j}_getIdTokenResponse(p){return Gi(p,this.buildRequest())}_linkToIdToken(p,m){const b=this.buildRequest();return b.idToken=m,Gi(p,b)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Gi(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,O.xO)(m)}return p}}function Bu(){return(Bu=(0,u.Z)(function*(y,p){return Ae(y,"POST","/v1/accounts:sendVerificationCode",Me(y,p))})).apply(this,arguments)}function hh(){return(hh=(0,u.Z)(function*(y,p){return vt(y,"POST","/v1/accounts:signInWithPhoneNumber",Me(y,p))})).apply(this,arguments)}function cl(){return(cl=(0,u.Z)(function*(y,p){const m=yield vt(y,"POST","/v1/accounts:signInWithPhoneNumber",Me(y,p));if(m.temporaryProof)throw qn(y,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const fh={USER_NOT_FOUND:"user-not-found"};function ll(){return(ll=(0,u.Z)(function*(y,p){return vt(y,"POST","/v1/accounts:signInWithPhoneNumber",Me(y,Object.assign(Object.assign({},p),{operation:"REAUTH"})),fh)})).apply(this,arguments)}class Ur extends lo{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new Ur({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new Ur({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function Ug(y,p){return hh.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function jg(y,p){return cl.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function rv(y,p){return ll.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:b,verificationCode:D}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:b,code:D}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:b,phoneNumber:D,temporaryProof:k}=p;return b||m||D||k?new Ur({verificationId:m,verificationCode:b,phoneNumber:D,temporaryProof:k}):null}}class wa{constructor(p){var m,b,D,k,j,X;const Pe=(0,O.zd)((0,O.pd)(p)),We=null!==(m=Pe.apiKey)&&void 0!==m?m:null,st=null!==(b=Pe.oobCode)&&void 0!==b?b:null,at=function Cp(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(D=Pe.mode)&&void 0!==D?D:null);ae(We&&st&&at,"argument-error"),this.apiKey=We,this.operation=at,this.code=st,this.continueUrl=null!==(k=Pe.continueUrl)&&void 0!==k?k:null,this.languageCode=null!==(j=Pe.languageCode)&&void 0!==j?j:null,this.tenantId=null!==(X=Pe.tenantId)&&void 0!==X?X:null}static parseLink(p){const m=function ph(y){const p=(0,O.zd)((0,O.pd)(y)).link,m=p?(0,O.zd)((0,O.pd)(p)).deep_link_id:null,b=(0,O.zd)((0,O.pd)(y)).deep_link_id;return(b?(0,O.zd)((0,O.pd)(b)).link:null)||b||m||p||y}(p);try{return new wa(m)}catch{return null}}}let mh=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(m,b){return al._fromEmailAndPassword(m,b)}static credentialWithLink(m,b){const D=wa.parseLink(b);return ae(D,"argument-error"),al._fromEmailAndCode(m,D.code,D.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class So{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class uo extends So{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class Rs extends uo{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return ae("providerId"in m&&"signInMethod"in m,"argument-error"),Ao._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return ae(p.idToken||p.accessToken,"argument-error"),Ao._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return Rs.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return Rs.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:b,oauthTokenSecret:D,pendingToken:k,nonce:j,providerId:X}=p;if(!b&&!D&&!m&&!k||!X)return null;try{return new Rs(X)._credential({idToken:m,accessToken:b,nonce:j,pendingToken:k})}catch{return null}}}let Vu=(()=>{class y extends uo{constructor(){super("facebook.com")}static credential(m){return Ao._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),ac=(()=>{class y extends uo{constructor(){super("google.com"),this.addScope("profile")}static credential(m,b){return Ao._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:b})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:b,oauthAccessToken:D}=m;if(!b&&!D)return null;try{return y.credential(b,D)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),gh=(()=>{class y extends uo{constructor(){super("github.com")}static credential(m){return Ao._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class ts extends lo{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return Gi(p,this.buildRequest())}_linkToIdToken(p,m){const b=this.buildRequest();return b.idToken=m,Gi(p,b)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Gi(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:D,pendingToken:k}=m;return b&&D&&k&&b===D?new ts(b,k):null}static _create(p,m){return new ts(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ul extends So{constructor(p){ae(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return ul.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return ul.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=ts.fromJSON(p);return ae(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:b}=p;if(!m||!b)return null;try{return ts._create(b,m)}catch{return null}}}let dl=(()=>{class y extends uo{constructor(){super("twitter.com")}static credential(m,b){return Ao._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:b})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:b,oauthTokenSecret:D}=m;if(!b||!D)return null;try{return y.credential(b,D)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function ns(y,p){return ti.apply(this,arguments)}function ti(){return(ti=(0,u.Z)(function*(y,p){return vt(y,"POST","/v1/accounts:signUp",Me(y,p))})).apply(this,arguments)}class jr{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,b,D=!1){return(0,u.Z)(function*(){const k=yield tr._fromIdTokenResponse(p,b,D),j=cc(b);return new jr({user:k,providerId:j,_tokenResponse:b,operationType:m})})()}static _forOperation(p,m,b){return(0,u.Z)(function*(){yield p._updateTokensIfNecessary(b,!0);const D=cc(b);return new jr({user:p,providerId:D,_tokenResponse:b,operationType:m})})()}}function cc(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Ea(){return(Ea=(0,u.Z)(function*(y){var p;const m=_n(y);if(yield m._initializationPromise,null!==(p=m.currentUser)&&void 0!==p&&p.isAnonymous)return new jr({user:m.currentUser,providerId:null,operationType:"signIn"});const b=yield ns(m,{returnSecureToken:!0}),D=yield jr._fromIdTokenResponse(m,"signIn",b,!0);return yield m._updateCurrentUser(D.user),D})).apply(this,arguments)}class Mo extends O.ZR{constructor(p,m,b,D){var k;super(m.code,m.message),this.operationType=b,this.user=D,Object.setPrototypeOf(this,Mo.prototype),this.customData={appName:p.name,tenantId:null!==(k=p.tenantId)&&void 0!==k?k:void 0,_serverResponse:m.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(p,m,b,D){return new Mo(p,m,b,D)}}function xr(y,p,m,b){return("reauthenticate"===p?m._getReauthenticationResolver(y):m._getIdTokenResponse(y)).catch(k=>{throw"auth/multi-factor-auth-required"===k.code?Mo._fromErrorAndOperation(y,k,p,b):k})}function _h(y){return new Set(y.map(({providerId:p})=>p).filter(p=>!!p))}function Hr(){return Hr=(0,u.Z)(function*(y,p){const m=(0,O.m9)(y);yield Ro(!0,m,p);const{providerUserInfo:b}=yield function Yr(y,p){return di.apply(this,arguments)}(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),D=_h(b||[]);return m.providerData=m.providerData.filter(k=>D.has(k.providerId)),D.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m}),Hr.apply(this,arguments)}function hr(y,p){return hl.apply(this,arguments)}function hl(){return(hl=(0,u.Z)(function*(y,p,m=!1){const b=yield ut(y,p._linkToIdToken(y.auth,yield y.getIdToken()),m);return jr._forOperation(y,"link",b)})).apply(this,arguments)}function Ro(y,p,m){return ju.apply(this,arguments)}function ju(){return(ju=(0,u.Z)(function*(y,p,m){yield Xr(p);const D=!1===y?"provider-already-linked":"no-such-provider";ae(_h(p.providerData).has(m)===y,p.auth,D)})).apply(this,arguments)}function rs(y,p){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,u.Z)(function*(y,p,m=!1){const{auth:b}=y,D="reauthenticate";try{const k=yield ut(y,xr(b,D,p,y),m);ae(k.idToken,b,"internal-error");const j=sn(k.idToken);ae(j,b,"internal-error");const{sub:X}=j;return ae(y.uid===X,b,"user-mismatch"),jr._forOperation(y,D,k)}catch(k){throw"auth/user-not-found"===k?.code&&Ce(b,"user-mismatch"),k}})).apply(this,arguments)}function lc(y,p){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,u.Z)(function*(y,p,m=!1){const b="signIn",D=yield xr(y,b,p),k=yield jr._fromIdTokenResponse(y,b,D);return m||(yield y._updateCurrentUser(k.user)),k})).apply(this,arguments)}function uc(y,p){return vh.apply(this,arguments)}function vh(){return(vh=(0,u.Z)(function*(y,p){return lc(_n(y),p)})).apply(this,arguments)}function bh(y,p){return fl.apply(this,arguments)}function fl(){return(fl=(0,u.Z)(function*(y,p){const m=(0,O.m9)(y);return yield Ro(!1,m,p.providerId),hr(m,p)})).apply(this,arguments)}function wh(y,p){return pl.apply(this,arguments)}function pl(){return(pl=(0,u.Z)(function*(y,p){return rs((0,O.m9)(y),p)})).apply(this,arguments)}function Eh(){return(Eh=(0,u.Z)(function*(y,p){return vt(y,"POST","/v1/accounts:signInWithCustomToken",Me(y,p))})).apply(this,arguments)}function $t(){return $t=(0,u.Z)(function*(y,p){const m=_n(y),b=yield function Hg(y,p){return Eh.apply(this,arguments)}(m,{token:p,returnSecureToken:!0}),D=yield jr._fromIdTokenResponse(m,"signIn",b);return yield m._updateCurrentUser(D.user),D}),$t.apply(this,arguments)}class dc{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?hc._fromServerResponse(p,m):"totpInfo"in m?fr._fromServerResponse(p,m):Ce(p,"internal-error")}}class hc extends dc{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new hc(m)}}class fr extends dc{constructor(p){super("totp",p)}static _fromServerResponse(p,m){return new fr(m)}}function ks(y,p,m){var b;ae((null===(b=m.url)||void 0===b?void 0:b.length)>0,y,"invalid-continue-uri"),ae(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(ae(m.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(ae(m.android.packageName.length>0,y,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function ni(){return ni=(0,u.Z)(function*(y,p,m){var b;const D=_n(y),k={requestType:"PASSWORD_RESET",email:p,clientType:"CLIENT_TYPE_WEB"};if(null!==(b=D._getRecaptchaConfig())&&void 0!==b&&b.emailPasswordEnabled){const j=yield Je(D,k,"getOobCode",!0);m&&ks(D,j,m),yield es(D,j)}else m&&ks(D,k,m),yield es(D,k).catch(function(){var j=(0,u.Z)(function*(X){if("auth/missing-recaptcha-token"!==X.code)return Promise.reject(X);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Pe=yield Je(D,k,"getOobCode",!0);m&&ks(D,Pe,m),yield es(D,Pe)}});return function(X){return j.apply(this,arguments)}}())}),ni.apply(this,arguments)}function gl(){return(gl=(0,u.Z)(function*(y,p,m){yield Jo((0,O.m9)(y),{oobCode:p,newPassword:m})})).apply(this,arguments)}function ko(){return ko=(0,u.Z)(function*(y,p){yield function zi(y,p){return Ss.apply(this,arguments)}((0,O.m9)(y),{oobCode:p})}),ko.apply(this,arguments)}function fc(y,p){return ir.apply(this,arguments)}function ir(){return(ir=(0,u.Z)(function*(y,p){const m=(0,O.m9)(y),b=yield Jo(m,{oobCode:p}),D=b.requestType;switch(ae(D,m,"internal-error"),D){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ae(b.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ae(b.mfaInfo,m,"internal-error");default:ae(b.email,m,"internal-error")}let k=null;return b.mfaInfo&&(k=dc._fromServerResponse(_n(m),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:k},operation:D}})).apply(this,arguments)}function ho(){return(ho=(0,u.Z)(function*(y,p){const{data:m}=yield fc((0,O.m9)(y),p);return m.email})).apply(this,arguments)}function Mi(){return Mi=(0,u.Z)(function*(y,p,m){var b;const D=_n(y),k={returnSecureToken:!0,email:p,password:m,clientType:"CLIENT_TYPE_WEB"};let j;if(null!==(b=D._getRecaptchaConfig())&&void 0!==b&&b.emailPasswordEnabled){const We=yield Je(D,k,"signUpPassword");j=ns(D,We)}else j=ns(D,k).catch(function(){var We=(0,u.Z)(function*(st){if("auth/missing-recaptcha-token"===st.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const at=yield Je(D,k,"signUpPassword");return ns(D,at)}return Promise.reject(st)});return function(st){return We.apply(this,arguments)}}());const X=yield j.catch(We=>Promise.reject(We)),Pe=yield jr._fromIdTokenResponse(D,"signIn",X);return yield D._updateCurrentUser(Pe.user),Pe}),Mi.apply(this,arguments)}function _l(){return _l=(0,u.Z)(function*(y,p,m){var b;const D=_n(y),k={requestType:"EMAIL_SIGNIN",email:p,clientType:"CLIENT_TYPE_WEB"};function j(X,Pe){ae(Pe.handleCodeInApp,D,"argument-error"),Pe&&ks(D,X,Pe)}if(null!==(b=D._getRecaptchaConfig())&&void 0!==b&&b.emailPasswordEnabled){const X=yield Je(D,k,"getOobCode",!0);j(X,m),yield Er(D,X)}else j(k,m),yield Er(D,k).catch(function(){var X=(0,u.Z)(function*(Pe){if("auth/missing-recaptcha-token"!==Pe.code)return Promise.reject(Pe);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const We=yield Je(D,k,"getOobCode",!0);j(We,m),yield Er(D,We)}});return function(Pe){return X.apply(this,arguments)}}())}),_l.apply(this,arguments)}function xa(){return(xa=(0,u.Z)(function*(y,p,m){const b=(0,O.m9)(y),D=mh.credentialWithLink(p,m||Kt());return ae(D._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),uc(b,D)})).apply(this,arguments)}function yl(){return(yl=(0,u.Z)(function*(y,p){return Ae(y,"POST","/v1/accounts:createAuthUri",Me(y,p))})).apply(this,arguments)}function vl(){return vl=(0,u.Z)(function*(y,p){const b={identifier:p,continueUri:ft()?Kt():"http://localhost"},{signinMethods:D}=yield function Hu(y,p){return yl.apply(this,arguments)}((0,O.m9)(y),b);return D||[]}),vl.apply(this,arguments)}function mc(){return mc=(0,u.Z)(function*(y,p){const m=(0,O.m9)(y),D={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};p&&ks(m.auth,D,p);const{email:k}=yield function Fu(y,p){return va.apply(this,arguments)}(m.auth,D);k!==y.email&&(yield y.reload())}),mc.apply(this,arguments)}function gc(){return gc=(0,u.Z)(function*(y,p,m){const b=(0,O.m9)(y),k={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:p};m&&ks(b.auth,k,m);const{email:j}=yield function gi(y,p){return _i.apply(this,arguments)}(b.auth,k);j!==y.email&&(yield y.reload())}),gc.apply(this,arguments)}function wl(){return(wl=(0,u.Z)(function*(y,p){return Ae(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function El(){return El=(0,u.Z)(function*(y,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const b=(0,O.m9)(y),k={idToken:yield b.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},j=yield ut(b,function Th(y,p){return wl.apply(this,arguments)}(b.auth,k));b.displayName=j.displayName||null,b.photoURL=j.photoUrl||null;const X=b.providerData.find(({providerId:Pe})=>"password"===Pe);X&&(X.displayName=b.displayName,X.photoURL=b.photoURL),yield b._updateTokensIfNecessary(j)}),El.apply(this,arguments)}function Rn(y,p,m){return Il.apply(this,arguments)}function Il(){return(Il=(0,u.Z)(function*(y,p,m){const{auth:b}=y,k={idToken:yield y.getIdToken(),returnSecureToken:!0};p&&(k.email=p),m&&(k.password=m);const j=yield ut(y,ya(b,k));yield y._updateTokensIfNecessary(j,!0)})).apply(this,arguments)}class Ns{constructor(p,m,b={}){this.isNewUser=p,this.providerId=m,this.profile=b}}class Sp extends Ns{constructor(p,m,b,D){super(p,m,b),this.username=D}}class Dh extends Ns{constructor(p,m){super(p,"facebook.com",m)}}class Gg extends Sp{constructor(p,m){super(p,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class xl extends Ns{constructor(p,m){super(p,"google.com",m)}}class zu extends Sp{constructor(p,m,b){super(p,"twitter.com",m,b)}}function Gu(y){const{user:p,_tokenResponse:m}=y;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Ap(y){var p,m;if(!y)return null;const{providerId:b}=y,D=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},k=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!b&&y?.idToken){const j=null===(m=null===(p=sn(y.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(j)return new Ns(k,"anonymous"!==j&&"custom"!==j?j:null)}if(!b)return null;switch(b){case"facebook.com":return new Dh(k,D);case"github.com":return new Gg(k,D);case"google.com":return new xl(k,D);case"twitter.com":return new zu(k,D,y.screenName||null);case"custom":case"anonymous":return new Ns(k,null);default:return new Ns(k,b,D)}}(m)}class Os{constructor(p,m,b){this.type=p,this.credential=m,this.auth=b}static _fromIdtoken(p,m){return new Os("enroll",p,m)}static _fromMfaPendingCredential(p){return new Os("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,b;if(p?.multiFactorSession){if(null!==(m=p.multiFactorSession)&&void 0!==m&&m.pendingCredential)return Os._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(b=p.multiFactorSession)&&void 0!==b&&b.idToken)return Os._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Fs{constructor(p,m,b){this.session=p,this.hints=m,this.signInResolver=b}static _fromError(p,m){const b=_n(p),D=m.customData._serverResponse,k=(D.mfaInfo||[]).map(X=>dc._fromServerResponse(b,X));ae(D.mfaPendingCredential,b,"internal-error");const j=Os._fromMfaPendingCredential(D.mfaPendingCredential);return new Fs(j,k,function(){var X=(0,u.Z)(function*(Pe){const We=yield Pe._process(b,j);delete D.mfaInfo,delete D.mfaPendingCredential;const st=Object.assign(Object.assign({},D),{idToken:We.idToken,refreshToken:We.refreshToken});switch(m.operationType){case"signIn":const at=yield jr._fromIdTokenResponse(b,m.operationType,st);return yield b._updateCurrentUser(at.user),at;case"reauthenticate":return ae(m.user,b,"internal-error"),jr._forOperation(m.user,m.operationType,st);default:Ce(b,"internal-error")}});return function(Pe){return X.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,u.Z)(function*(){return m.signInResolver(p)})()}}class Vs{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(b=>dc._fromServerResponse(p.auth,b)))})}static _fromUser(p){return new Vs(p)}getSession(){var p=this;return(0,u.Z)(function*(){return Os._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,m){var b=this;return(0,u.Z)(function*(){const D=p,k=yield b.getSession(),j=yield ut(b.user,D._process(b.user.auth,k,m));return yield b.user._updateTokensIfNecessary(j),b.user.reload()})()}unenroll(p){var m=this;return(0,u.Z)(function*(){const b="string"==typeof p?p:p.uid,D=yield m.user.getIdToken();try{const k=yield ut(m.user,function Dl(y,p){return Ae(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Me(y,p))}(m.user.auth,{idToken:D,mfaEnrollmentId:b}));m.enrolledFactors=m.enrolledFactors.filter(({uid:j})=>j!==b),yield m.user._updateTokensIfNecessary(k),yield m.user.reload()}catch(k){throw k}})()}}const is=new WeakMap,Us="__sak";class Al{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Us,"1"),this.storage.removeItem(Us),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const js=(()=>{class y extends Al{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,b)=>this.onStorageEvent(m,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function yc(){const y=(0,O.z$)();return ne(y)||pn(y)}()&&function nc(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=ao(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const b of Object.keys(this.listeners)){const D=this.storage.getItem(b),k=this.localCache[b];D!==k&&m(b,k,D)}}onStorageEvent(m,b=!1){if(!m.key)return void this.forAllChangedKeys((X,Pe,We)=>{this.notifyListeners(X,We)});const D=m.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const X=this.storage.getItem(D);if(m.newValue!==X)null!==m.newValue?this.storage.setItem(D,m.newValue):this.storage.removeItem(D);else if(this.localCache[D]===m.newValue&&!b)return}const k=()=>{const X=this.storage.getItem(D);!b&&this.localCache[D]===X||this.notifyListeners(D,X)},j=this.storage.getItem(D);!function $i(){return(0,O.w1)()&&10===document.documentMode}()||j===m.newValue||m.newValue===m.oldValue?k():setTimeout(k,10)}notifyListeners(m,b){this.localCache[m]=b;const D=this.listeners[m];if(D)for(const k of Array.from(D))k(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,b,D)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:b,newValue:D}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,b){var D=()=>super._set,k=this;return(0,u.Z)(function*(){yield D().call(k,m,b),k.localCache[m]=JSON.stringify(b)})()}_get(m){var b=()=>super._get,D=this;return(0,u.Z)(function*(){const k=yield b().call(D,m);return D.localCache[m]=JSON.stringify(k),k})()}_remove(m){var b=()=>super._remove,D=this;return(0,u.Z)(function*(){yield b().call(D,m),delete D.localCache[m]})()}}return y.type="LOCAL",y})(),Oo=(()=>{class y extends Al{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,b){}_removeListener(m,b){}}return y.type="SESSION",y})();let Aa=(()=>{class y{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const b=this.receivers.find(k=>k.isListeningto(m));if(b)return b;const D=new y(m);return this.receivers.push(D),D}isListeningto(m){return this.eventTarget===m}handleEvent(m){var b=this;return(0,u.Z)(function*(){const D=m,{eventId:k,eventType:j,data:X}=D.data,Pe=b.handlersMap[j];if(!Pe?.size)return;D.ports[0].postMessage({status:"ack",eventId:k,eventType:j});const We=Array.from(Pe).map(function(){var at=(0,u.Z)(function*(Nn){return Nn(D.origin,X)});return function(Nn){return at.apply(this,arguments)}}()),st=yield function Zu(y){return Promise.all(y.map(function(){var p=(0,u.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(b){return{fulfilled:!1,reason:b}}});return function(m){return p.apply(this,arguments)}}()))}(We);D.ports[0].postMessage({status:"done",eventId:k,eventType:j,response:st})})()}_subscribe(m,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(b)}_unsubscribe(m,b){this.handlersMap[m]&&b&&this.handlersMap[m].delete(b),(!b||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function Sa(y="",p=10){let m="";for(let b=0;b<p;b++)m+=Math.floor(10*Math.random());return y+m}class Rh{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,b=50){var D=this;return(0,u.Z)(function*(){const k=typeof MessageChannel<"u"?new MessageChannel:null;if(!k)throw new Error("connection_unavailable");let j,X;return new Promise((Pe,We)=>{const st=Sa("",20);k.port1.start();const at=setTimeout(()=>{We(new Error("unsupported_event"))},b);X={messageChannel:k,onMessage(Nn){const Uo=Nn;if(Uo.data.eventId===st)switch(Uo.data.status){case"ack":clearTimeout(at),j=setTimeout(()=>{We(new Error("timeout"))},3e3);break;case"done":clearTimeout(j),Pe(Uo.data.response);break;default:clearTimeout(at),clearTimeout(j),We(new Error("invalid_response"))}}},D.handlers.add(X),k.port1.addEventListener("message",X.onMessage),D.target.postMessage({eventType:p,eventId:st,data:m},[k.port2])}).finally(()=>{X&&D.removeMessageHandler(X)})})()}}function vn(){return window}function Ml(){return typeof vn().WorkerGlobalScope<"u"&&"function"==typeof vn().importScripts}function Rl(){return(Rl=(0,u.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Hs="firebaseLocalStorageDb",Kn=1,Yu="firebaseLocalStorage",vc="fbase_key";class bc{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Fo(y,p){return y.transaction([Yu],p?"readwrite":"readonly").objectStore(Yu)}function Pl(){const y=indexedDB.open(Hs,Kn);return new Promise((p,m)=>{y.addEventListener("error",()=>{m(y.error)}),y.addEventListener("upgradeneeded",()=>{const b=y.result;try{b.createObjectStore(Yu,{keyPath:vc})}catch(D){m(D)}}),y.addEventListener("success",(0,u.Z)(function*(){const b=y.result;b.objectStoreNames.contains(Yu)?p(b):(b.close(),yield function kp(){const y=indexedDB.deleteDatabase(Hs);return new bc(y).toPromise()}(),p(yield Pl()))}))})}function $s(y,p,m){return Qu.apply(this,arguments)}function Qu(){return(Qu=(0,u.Z)(function*(y,p,m){const b=Fo(y,!0).put({[vc]:p,value:m});return new bc(b).toPromise()})).apply(this,arguments)}function Ma(){return(Ma=(0,u.Z)(function*(y,p){const m=Fo(y,!1).get(p),b=yield new bc(m).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function os(y,p){const m=Fo(y,!0).delete(p);return new bc(m).toPromise()}const Gs=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,u.Z)(function*(){return m.db||(m.db=yield Pl()),m.db})()}_withRetries(m){var b=this;return(0,u.Z)(function*(){let D=0;for(;;)try{const k=yield b._openDb();return yield m(k)}catch(k){if(D++>3)throw k;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,u.Z)(function*(){return Ml()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,u.Z)(function*(){m.receiver=Aa._getInstance(function pr(){return Ml()?self:null}()),m.receiver._subscribe("keyChanged",function(){var b=(0,u.Z)(function*(D,k){return{keyProcessed:(yield m._poll()).includes(k.key)}});return function(D,k){return b.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var b=(0,u.Z)(function*(D,k){return["keyChanged"]});return function(D,k){return b.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,u.Z)(function*(){var b,D;if(m.activeServiceWorker=yield function Ku(){return Rl.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Rh(m.activeServiceWorker);const k=yield m.sender._send("ping",{},800);k&&null!==(b=k[0])&&void 0!==b&&b.fulfilled&&null!==(D=k[0])&&void 0!==D&&D.value.includes("keyChanged")&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var b=this;return(0,u.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function kl(){var y;return(null===(y=navigator?.serviceWorker)||void 0===y?void 0:y.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:m},b.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Pl();return yield $s(m,Us,"1"),yield os(m,Us),!0}catch{}return!1})()}_withPendingWrite(m){var b=this;return(0,u.Z)(function*(){b.pendingWrites++;try{yield m()}finally{b.pendingWrites--}})()}_set(m,b){var D=this;return(0,u.Z)(function*(){return D._withPendingWrite((0,u.Z)(function*(){return yield D._withRetries(k=>$s(k,m,b)),D.localCache[m]=b,D.notifyServiceWorker(m)}))})()}_get(m){var b=this;return(0,u.Z)(function*(){const D=yield b._withRetries(k=>function wc(y,p){return Ma.apply(this,arguments)}(k,m));return b.localCache[m]=D,D})()}_remove(m){var b=this;return(0,u.Z)(function*(){return b._withPendingWrite((0,u.Z)(function*(){return yield b._withRetries(D=>os(D,m)),delete b.localCache[m],b.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,u.Z)(function*(){const b=yield m._withRetries(j=>{const X=Fo(j,!1).getAll();return new bc(X).toPromise()});if(!b)return[];if(0!==m.pendingWrites)return[];const D=[],k=new Set;for(const{fbase_key:j,value:X}of b)k.add(j),JSON.stringify(m.localCache[j])!==JSON.stringify(X)&&(m.notifyListeners(j,X),D.push(j));for(const j of Object.keys(m.localCache))m.localCache[j]&&!k.has(j)&&(m.notifyListeners(j,null),D.push(j));return D})()}notifyListeners(m,b){this.localCache[m]=b;const D=this.listeners[m];if(D)for(const k of Array.from(D))k(b)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})(),Ic=1e12;class Xu{constructor(p){this.auth=p,this.counter=Ic,this._widgets=new Map}render(p,m){const b=this.counter;return this._widgets.set(b,new Ju(p,this.auth.name,m||{})),this.counter++,b}reset(p){var m;const b=p||Ic;null===(m=this._widgets.get(b))||void 0===m||m.delete(),this._widgets.delete(b)}getResponse(p){var m;return(null===(m=this._widgets.get(p||Ic))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,u.Z)(function*(){var b;return null===(b=m._widgets.get(p||Ic))||void 0===b||b.execute(),""})()}}class Ju{constructor(p,m,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const D="string"==typeof p?document.getElementById(p):p;ae(D,"argument-error",{appName:m}),this.container=D,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function sv(y){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<y;b++)p.push(m.charAt(Math.floor(Math.random()*m.length)));return p.join("")}(50);const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Op=nr("rcb"),av=new io(3e4,6e4);class cv{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=vn().grecaptcha)||void 0===p||!p.render)}load(p,m=""){return ae(function Fp(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(m),p,"argument-error"),this.shouldResolveImmediately(m)&&Zt(vn().grecaptcha)?Promise.resolve(vn().grecaptcha):new Promise((b,D)=>{const k=vn().setTimeout(()=>{D(Te(p,"network-request-failed"))},av.get());vn()[Op]=()=>{vn().clearTimeout(k),delete vn()[Op];const X=vn().grecaptcha;if(!X||!Zt(X))return void D(Te(p,"internal-error"));const Pe=X.render;X.render=(We,st)=>{const at=Pe(We,st);return this.counter++,at},this.hostLanguage=m,b(X)},wr(`https://www.google.com/recaptcha/api.js??${(0,O.xO)({onload:Op,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(k),D(Te(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var m;return!(null===(m=vn().grecaptcha)||void 0===m||!m.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class mr{load(p){return(0,u.Z)(function*(){return new Xu(p)})()}clearedOneInstance(){}}const xc="recaptcha",Nl={theme:"light",type:"image"};class ed{constructor(p,m=Object.assign({},Nl),b){this.parameters=m,this.type=xc,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=_n(b),this.isInvisible="invisible"===this.parameters.size,ae(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const D="string"==typeof p?document.getElementById(p):p;ae(D,this.auth,"argument-error"),this.container=D,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new mr:new cv,this.validateStartingState()}verify(){var p=this;return(0,u.Z)(function*(){p.assertNotDestroyed();const m=yield p.render(),b=p.getAssertedRecaptcha();return b.getResponse(m)||new Promise(k=>{const j=X=>{X&&(p.tokenChangeListeners.delete(j),k(X))};p.tokenChangeListeners.add(j),p.isInvisible&&b.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){ae(!this.parameters.sitekey,this.auth,"argument-error"),ae(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ae(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(b=>b(m)),"function"==typeof p)p(m);else if("string"==typeof p){const b=vn()[p];"function"==typeof b&&b(m)}}}assertNotDestroyed(){ae(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,u.Z)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const b=document.createElement("div");m.appendChild(b),m=b}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,u.Z)(function*(){ae(ft()&&!Ml(),p.auth,"internal-error"),yield function qi(){let y=null;return new Promise(p=>{"complete"!==document.readyState?(y=()=>p(),window.addEventListener("load",y)):p()}).catch(p=>{throw y&&window.removeEventListener("load",y),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function ie(y){return Be.apply(this,arguments)}(p.auth);ae(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return ae(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class fo{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=Ur._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function Zs(){return(Zs=(0,u.Z)(function*(y,p,m){const b=_n(y),D=yield Cc(b,p,(0,O.m9)(m));return new fo(D,k=>uc(b,k))})).apply(this,arguments)}function Fl(){return(Fl=(0,u.Z)(function*(y,p,m){const b=(0,O.m9)(y);yield Ro(!1,b,"phone");const D=yield Cc(b.auth,p,(0,O.m9)(m));return new fo(D,k=>bh(b,k))})).apply(this,arguments)}function Bl(){return(Bl=(0,u.Z)(function*(y,p,m){const b=(0,O.m9)(y),D=yield Cc(b.auth,p,(0,O.m9)(m));return new fo(D,k=>wh(b,k))})).apply(this,arguments)}function Cc(y,p,m){return ri.apply(this,arguments)}function ri(){return ri=(0,u.Z)(function*(y,p,m){var b;const D=yield m.verify();try{let k;if(ae("string"==typeof D,y,"argument-error"),ae(m.type===xc,y,"argument-error"),k="string"==typeof p?{phoneNumber:p}:p,"session"in k){const j=k.session;if("phoneNumber"in k)return ae("enroll"===j.type,y,"internal-error"),(yield function Da(y,p){return Ae(y,"POST","/v2/accounts/mfaEnrollment:start",Me(y,p))}(y,{idToken:j.credential,phoneEnrollmentInfo:{phoneNumber:k.phoneNumber,recaptchaToken:D}})).phoneSessionInfo.sessionInfo;{ae("signin"===j.type,y,"internal-error");const X=(null===(b=k.multiFactorHint)||void 0===b?void 0:b.uid)||k.multiFactorUid;return ae(X,y,"missing-multi-factor-info"),(yield function qs(y,p){return Ae(y,"POST","/v2/accounts/mfaSignIn:start",Me(y,p))}(y,{mfaPendingCredential:j.credential,mfaEnrollmentId:X,phoneSignInInfo:{recaptchaToken:D}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:j}=yield function Vg(y,p){return Bu.apply(this,arguments)}(y,{phoneNumber:k.phoneNumber,recaptchaToken:D});return j}}finally{m._reset()}}),ri.apply(this,arguments)}function yi(){return(yi=(0,u.Z)(function*(y,p){yield hr((0,O.m9)(y),p)})).apply(this,arguments)}let rt=(()=>{class y{constructor(m){this.providerId=y.PROVIDER_ID,this.auth=_n(m)}verifyPhoneNumber(m,b){return Cc(this.auth,m,(0,O.m9)(b))}static credential(m,b){return Ur._fromVerification(m,b)}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:b,temporaryProof:D}=m;return b&&D?Ur._fromTokenResponse(b,D):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function kn(y,p){return p?Dn(p):(ae(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Pn extends lo{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Gi(p,this._buildIdpRequest())}_linkToIdToken(p,m){return Gi(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return Gi(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function Nh(y){return lc(y.auth,new Pn(y),y.bypassAuthState)}function Tc(y){const{auth:p,user:m}=y;return ae(m,p,"internal-error"),rs(m,new Pn(y),y.bypassAuthState)}function $r(y){return Vl.apply(this,arguments)}function Vl(){return(Vl=(0,u.Z)(function*(y){const{auth:p,user:m}=y;return ae(m,p,"internal-error"),hr(m,new Pn(y),y.bypassAuthState)})).apply(this,arguments)}class td{constructor(p,m,b,D,k=!1){this.auth=p,this.resolver=b,this.user=D,this.bypassAuthState=k,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,u.Z)(function*(b,D){p.pendingPromise={resolve:b,reject:D};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(k){p.reject(k)}});return function(b,D){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,u.Z)(function*(){const{urlResponse:b,sessionId:D,postBody:k,tenantId:j,error:X,type:Pe}=p;if(X)return void m.reject(X);const We={auth:m.auth,requestUri:b,sessionId:D,tenantId:j||void 0,postBody:k||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Pe)(We))}catch(st){m.reject(st)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Nh;case"linkViaPopup":case"linkViaRedirect":return $r;case"reauthViaPopup":case"reauthViaRedirect":return Tc;default:Ce(this.auth,"internal-error")}}resolve(p){ot(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){ot(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ki=new io(2e3,1e4);function Dc(){return(Dc=(0,u.Z)(function*(y,p,m){const b=_n(y);Ve(y,p,So);const D=kn(b,m);return new Ul(b,"signInViaPopup",p,D).executeNotNull()})).apply(this,arguments)}function ss(){return(ss=(0,u.Z)(function*(y,p,m){const b=(0,O.m9)(y);Ve(b.auth,p,So);const D=kn(b.auth,m);return new Ul(b.auth,"reauthViaPopup",p,D,b).executeNotNull()})).apply(this,arguments)}function nd(){return(nd=(0,u.Z)(function*(y,p,m){const b=(0,O.m9)(y);Ve(b.auth,p,So);const D=kn(b.auth,m);return new Ul(b.auth,"linkViaPopup",p,D,b).executeNotNull()})).apply(this,arguments)}let Ul=(()=>{class y extends td{constructor(m,b,D,k,j){super(m,b,k,j),this.provider=D,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var m=this;return(0,u.Z)(function*(){const b=yield m.execute();return ae(b,m.auth,"internal-error"),b})()}onExecution(){var m=this;return(0,u.Z)(function*(){ot(1===m.filter.length,"Popup operations only handle one event");const b=Sa();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],b),m.authWindow.associatedEvent=b,m.resolver._originValidation(m.auth).catch(D=>{m.reject(D)}),m.resolver._isIframeWebStorageSupported(m.auth,D=>{D||m.reject(Te(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Te(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const m=()=>{var b,D;this.pollId=null!==(D=null===(b=this.authWindow)||void 0===b?void 0:b.window)&&void 0!==D&&D.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Te(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(m,ki.get())};m()}}return y.currentPopupAction=null,y})();const as="pendingRedirect",cs=new Map;class gr extends td{constructor(p,m,b=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,b),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,u.Z)(function*(){let b=cs.get(m.auth._key());if(!b){try{const k=(yield function rd(y,p){return jl.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;b=()=>Promise.resolve(k)}catch(D){b=()=>Promise.reject(D)}cs.set(m.auth._key(),b)}return m.bypassAuthState||cs.set(m.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,b=this;return(0,u.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(b,p);if("unknown"!==p.type){if(p.eventId){const D=yield b.auth._redirectUserForId(p.eventId);if(D)return b.user=D,m().call(b,p);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function jl(){return(jl=(0,u.Z)(function*(y,p){const m=Qs(p),b=Sc(y);if(!(yield b._isAvailable()))return!1;const D="true"===(yield b._get(m));return yield b._remove(m),D})).apply(this,arguments)}function Ks(y,p){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,u.Z)(function*(y,p){return Sc(y)._set(Qs(p),"true")})).apply(this,arguments)}function Oh(y,p){cs.set(y._key(),p)}function Sc(y){return Dn(y._redirectPersistence)}function Qs(y){return H(as,y.config.apiKey,y.name)}function Fh(y,p,m){return function Bp(y,p,m){return Mc.apply(this,arguments)}(y,p,m)}function Mc(){return(Mc=(0,u.Z)(function*(y,p,m){const b=_n(y);Ve(y,p,So),yield b._initializationPromise;const D=kn(b,m);return yield Ks(D,b),D._openRedirect(b,p,"signInViaRedirect")})).apply(this,arguments)}function ka(y,p,m){return function Pi(y,p,m){return Pa.apply(this,arguments)}(y,p,m)}function Pa(){return(Pa=(0,u.Z)(function*(y,p,m){const b=(0,O.m9)(y);Ve(b.auth,p,So),yield b.auth._initializationPromise;const D=kn(b.auth,m);yield Ks(D,b.auth);const k=yield Yn(b);return D._openRedirect(b.auth,p,"reauthViaRedirect",k)})).apply(this,arguments)}function Cr(y,p,m){return function id(y,p,m){return od.apply(this,arguments)}(y,p,m)}function od(){return(od=(0,u.Z)(function*(y,p,m){const b=(0,O.m9)(y);Ve(b.auth,p,So),yield b.auth._initializationPromise;const D=kn(b.auth,m);yield Ro(!1,b,p.providerId),yield Ks(D,b.auth);const k=yield Yn(b);return D._openRedirect(b.auth,p,"linkViaRedirect",k)})).apply(this,arguments)}function po(){return(po=(0,u.Z)(function*(y,p){return yield _n(y)._initializationPromise,ls(y,p,!1)})).apply(this,arguments)}function ls(y,p){return zr.apply(this,arguments)}function zr(){return(zr=(0,u.Z)(function*(y,p,m=!1){const b=_n(y),D=kn(b,p),j=yield new gr(b,D,m).execute();return j&&!m&&(delete j.user._redirectEventId,yield b._persistUserIfCurrent(j.user),yield b._setRedirectUser(null,p)),j})).apply(this,arguments)}function Yn(y){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,u.Z)(function*(y){const p=Sa(`${y.uid}:::`);return y._redirectEventId=p,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),p})).apply(this,arguments)}class Na{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(p,b)&&(m=!0,this.sendToConsumer(p,b),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Qn(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mo(y);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var b;if(p.error&&!mo(p)){const D=(null===(b=p.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";m.onError(Te(this.auth,D))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const b=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&b}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Wi(p))}saveEventToCache(p){this.cachedEventUids.add(Wi(p)),this.lastProcessedEventTime=Date.now()}}function Wi(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(p=>p).join("-")}function mo({type:y,error:p}){return"unknown"===y&&"auth/no-auth-event"===p?.code}function us(y){return Vp.apply(this,arguments)}function Vp(){return(Vp=(0,u.Z)(function*(y,p={}){return Ae(y,"GET","/v1/projects",p)})).apply(this,arguments)}const $l=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zl=/^https?/;function Lo(){return(Lo=(0,u.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:p}=yield us(y);for(const m of p)try{if(ad(m))return}catch{}Ce(y,"unauthorized-domain")})).apply(this,arguments)}function ad(y){const p=Kt(),{protocol:m,hostname:b}=new URL(p);if(y.startsWith("chrome-extension://")){const j=new URL(y);return""===j.hostname&&""===b?"chrome-extension:"===m&&y.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&j.hostname===b}if(!zl.test(m))return!1;if($l.test(y))return b===y;const D=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+D+"|"+D+")$","i").test(b)}const Rc=new io(3e4,6e4);function Tt(){const y=vn().___jsl;if(y?.H)for(const p of Object.keys(y.H))if(y.H[p].r=y.H[p].r||[],y.H[p].L=y.H[p].L||[],y.H[p].r=[...y.H[p].L],y.CP)for(let m=0;m<y.CP.length;m++)y.CP[m]=null}let ql=null;const Lh=new io(5e3,15e3),Bh="__/auth/iframe",Ki="emulator/auth/iframe",Vh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Uh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jh(y){const p=y.config;ae(p.authDomain,y,"auth-domain-config-required");const m=p.emulator?he(p,Ki):`https://${y.config.authDomain}/${Bh}`,b={apiKey:p.apiKey,appName:y.name,v:le.SDK_VERSION},D=Uh.get(y.config.apiHost);D&&(b.eid=D);const k=y._getFrameworks();return k.length&&(b.fw=k.join(",")),`${m}?${(0,O.xO)(b).slice(1)}`}function x(){return x=(0,u.Z)(function*(y){const p=yield function Ni(y){return ql=ql||function Zi(y){return new Promise((p,m)=>{var b,D,k;function j(){Tt(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Tt(),m(Te(y,"network-request-failed"))},timeout:Rc.get()})}if(null!==(D=null===(b=vn().gapi)||void 0===b?void 0:b.iframes)&&void 0!==D&&D.Iframe)p(gapi.iframes.getContext());else{if(null===(k=vn().gapi)||void 0===k||!k.load){const X=nr("iframefcb");return vn()[X]=()=>{gapi.load?j():m(Te(y,"network-request-failed"))},wr(`https://apis.google.com/js/api.js?onload=${X}`).catch(Pe=>m(Pe))}j()}}).catch(p=>{throw ql=null,p})}(y),ql}(y),m=vn().gapi;return ae(m,y,"internal-error"),p.open({where:document.body,url:jh(y),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Vh,dontclear:!0},b=>new Promise(function(){var D=(0,u.Z)(function*(k,j){yield b.restyle({setHideOnLeave:!1});const X=Te(y,"network-request-failed"),Pe=vn().setTimeout(()=>{j(X)},Lh.get());function We(){vn().clearTimeout(Pe),k(b)}b.ping(We).then(We,()=>{j(X)})});return function(k,j){return D.apply(this,arguments)}}()))}),x.apply(this,arguments)}const S={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},N=500,G=600,Q="_blank",se="http://localhost";class Ke{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Pt="__/auth/handler",Nt="emulator/auth/handler",Gr=encodeURIComponent("fac");function bn(y,p,m,b,D,k){return jt.apply(this,arguments)}function jt(){return(jt=(0,u.Z)(function*(y,p,m,b,D,k){ae(y.config.authDomain,y,"auth-domain-config-required"),ae(y.config.apiKey,y,"invalid-api-key");const j={apiKey:y.config.apiKey,appName:y.name,authType:m,redirectUrl:b,v:le.SDK_VERSION,eventId:D};if(p instanceof So){p.setDefaultLanguage(y.languageCode),j.providerId=p.providerId||"",(0,O.xb)(p.getCustomParameters())||(j.customParameters=JSON.stringify(p.getCustomParameters()));for(const[st,at]of Object.entries(k||{}))j[st]=at}if(p instanceof uo){const st=p.getScopes().filter(at=>""!==at);st.length>0&&(j.scopes=st.join(","))}y.tenantId&&(j.tid=y.tenantId);const X=j;for(const st of Object.keys(X))void 0===X[st]&&delete X[st];const Pe=yield y._getAppCheckToken(),We=Pe?`#${Gr}=${encodeURIComponent(Pe)}`:"";return`${function ds({config:y}){return y.emulator?he(y,Nt):`https://${y.authDomain}/${Pt}`}(y)}?${(0,O.xO)(X).slice(1)}${We}`})).apply(this,arguments)}const Js="webStorageSupport",Yi=class Tr{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Oo,this._completeRedirectFn=ls,this._overrideRedirectResult=Oh}_openPopup(p,m,b,D){var k=this;return(0,u.Z)(function*(){var j;ot(null===(j=k.eventManagers[p._key()])||void 0===j?void 0:j.manager,"_initialize() not called before _openPopup()");const X=yield bn(p,m,b,Kt(),D);return function qe(y,p,m,b=N,D=G){const k=Math.max((window.screen.availHeight-D)/2,0).toString(),j=Math.max((window.screen.availWidth-b)/2,0).toString();let X="";const Pe=Object.assign(Object.assign({},S),{width:b.toString(),height:D.toString(),top:k,left:j}),We=(0,O.z$)().toLowerCase();m&&(X=Ue(We)?Q:m),Ee(We)&&(p=p||se,Pe.scrollbars="yes");const st=Object.entries(Pe).reduce((Nn,[Uo,wd])=>`${Nn}${Uo}=${wd},`,"");if(function Vr(y=(0,O.z$)()){var p;return pn(y)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(We)&&"_self"!==X)return function pt(y,p){const m=document.createElement("a");m.href=y,m.target=p;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(b)}(p||"",X),new Ke(null);const at=window.open(p||"",X,st);ae(at,y,"popup-blocked");try{at.focus()}catch{}return new Ke(at)}(p,X,Sa())})()}_openRedirect(p,m,b,D){var k=this;return(0,u.Z)(function*(){return yield k._originValidation(p),function kh(y){vn().location.href=y}(yield bn(p,m,b,Kt(),D)),new Promise(()=>{})})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:D,promise:k}=this.eventManagers[m];return D?Promise.resolve(D):(ot(k,"If manager is not set, promise should be"),k)}const b=this.initAndGetManager(p);return this.eventManagers[m]={promise:b},b.catch(()=>{delete this.eventManagers[m]}),b}initAndGetManager(p){var m=this;return(0,u.Z)(function*(){const b=yield function E(y){return x.apply(this,arguments)}(p),D=new Na(p);return b.register("authEvent",k=>(ae(k?.authEvent,p,"invalid-auth-event"),{status:D.onEvent(k.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:D},m.iframes[p._key()]=b,D})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(Js,{type:Js},D=>{var k;const j=null===(k=D?.[0])||void 0===k?void 0:k[Js];void 0!==j&&m(!!j),Ce(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Gl(y){return Lo.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return ao()||ne()||pn()}};class hs{constructor(p){this.factorId=p}_process(p,m,b){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,b);case"signin":return this._finalizeSignIn(p,m.credential);default:return Mt("unexpected MultiFactorSessionType")}}}class cd extends hs{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new cd(p)}_finalizeEnroll(p,m,b){return function Wu(y,p){return Ae(y,"POST","/v2/accounts/mfaEnrollment:finalize",Me(y,p))}(p,{idToken:m,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function Np(y,p){return Ae(y,"POST","/v2/accounts/mfaSignIn:finalize",Me(y,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let ld=(()=>{class y{constructor(){}static assertion(m){return cd._fromCredential(m)}}return y.FACTOR_ID="phone",y})();var jp="@firebase/auth";class Wl{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,u.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(b=>{p(b?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);m&&(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Pc(){return window}(0,O.Pz)("authIdTokenMaxAge"),function Zg(y){(0,le._registerComponent)(new we.wA("auth",(p,{options:m})=>{const b=p.getProvider("app").getImmediate(),D=p.getProvider("heartbeat"),k=p.getProvider("app-check-internal"),{apiKey:j,authDomain:X}=b.options;ae(j&&!j.includes(":"),"invalid-api-key",{appName:b.name});const Pe={apiKey:j,authDomain:X,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:me(y)},We=new Ai(b,D,k,Pe);return function Hn(y,p){const m=p?.persistence||[],b=(Array.isArray(m)?m:[m]).map(Dn);p?.errorMap&&y._updateErrorMap(p.errorMap),y._initializeWithPersistence(b,p?.popupRedirectResolver)}(We,m),We},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,b)=>{p.getProvider("auth-internal").initialize()})),(0,le._registerComponent)(new we.wA("auth-internal",p=>{const m=_n(p.getProvider("auth").getImmediate());return new Wl(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,le.registerVersion)(jp,"0.23.2",function Hp(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,le.registerVersion)(jp,"0.23.2","esm2017")}("Browser");const uv=2e3;function dd(){return dd=(0,u.Z)(function*(y,p,m){var b;const{BuildInfo:D}=Pc();ot(p.sessionId,"AuthEvent did not contain a session ID");const k=yield function Fa(y){return hd.apply(this,arguments)}(p.sessionId),j={};return pn()?j.ibi=D.packageName:nn()?j.apn=D.packageName:Ce(y,"operation-not-supported-in-this-environment"),D.displayName&&(j.appDisplayName=D.displayName),j.sessionId=k,bn(y,m,p.type,void 0,null!==(b=p.eventId)&&void 0!==b?b:void 0,j)}),dd.apply(this,arguments)}function Oa(){return(Oa=(0,u.Z)(function*(y){const{BuildInfo:p}=Pc(),m={};pn()?m.iosBundleId=p.packageName:nn()?m.androidPackageName=p.packageName:Ce(y,"operation-not-supported-in-this-environment"),yield us(y,m)})).apply(this,arguments)}function Zl(){return(Zl=(0,u.Z)(function*(y,p,m){const{cordova:b}=Pc();let D=()=>{};try{yield new Promise((k,j)=>{let X=null;function Pe(){var at;k();const Nn=null===(at=b.plugins.browsertab)||void 0===at?void 0:at.close;"function"==typeof Nn&&Nn(),"function"==typeof m?.close&&m.close()}function We(){X||(X=window.setTimeout(()=>{j(Te(y,"redirect-cancelled-by-user"))},uv))}function st(){"visible"===document?.visibilityState&&We()}p.addPassiveListener(Pe),document.addEventListener("resume",We,!1),nn()&&document.addEventListener("visibilitychange",st,!1),D=()=>{p.removePassiveListener(Pe),document.removeEventListener("resume",We,!1),document.removeEventListener("visibilitychange",st,!1),X&&window.clearTimeout(X)}})}finally{D()}})).apply(this,arguments)}function hd(){return(hd=(0,u.Z)(function*(y){const p=function Qg(y){if(ot(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const p=new ArrayBuffer(y.length),m=new Uint8Array(p);for(let b=0;b<y.length;b++)m[b]=y.charCodeAt(b);return m}(y),m=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(m)).map(D=>D.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const fd=20;class zh extends Na{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(p)),super.onEvent(p)}initialized(){var p=this;return(0,u.Z)(function*(){yield p.initPromise})()}}function Gh(y){return pd.apply(this,arguments)}function pd(){return(pd=(0,u.Z)(function*(y){const p=yield qh()._get(Fc(y));return p&&(yield qh()._remove(Fc(y))),p})).apply(this,arguments)}function zp(){const y=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<fd;m++){const b=Math.floor(Math.random()*p.length);y.push(p.charAt(b))}return y.join("")}function qh(){return Dn(js)}function Fc(y){return H("authEvent",y.config.apiKey,y.name)}function Bo(y){if(!y?.includes("?"))return{};const[p,...m]=y.split("?");return(0,O.zd)(m.join("?"))}const gd=class md{constructor(){this._redirectPersistence=Oo,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ls,this._overrideRedirectResult=Oh}_initialize(p){var m=this;return(0,u.Z)(function*(){const b=p._key();let D=m.eventManagers.get(b);return D||(D=new zh(p),m.eventManagers.set(b,D),m.attachCallbackListeners(p,D)),D})()}_openPopup(p){Ce(p,"operation-not-supported-in-this-environment")}_openRedirect(p,m,b,D){var k=this;return(0,u.Z)(function*(){!function hv(y){var p,m,b,D,k,j,X,Pe,We,st;const at=Pc();ae("function"==typeof(null===(p=at?.universalLinks)||void 0===p?void 0:p.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ae(typeof(null===(m=at?.BuildInfo)||void 0===m?void 0:m.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ae("function"==typeof(null===(k=null===(D=null===(b=at?.cordova)||void 0===b?void 0:b.plugins)||void 0===D?void 0:D.browsertab)||void 0===k?void 0:k.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ae("function"==typeof(null===(Pe=null===(X=null===(j=at?.cordova)||void 0===j?void 0:j.plugins)||void 0===X?void 0:X.browsertab)||void 0===Pe?void 0:Pe.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ae("function"==typeof(null===(st=null===(We=at?.cordova)||void 0===We?void 0:We.InAppBrowser)||void 0===st?void 0:st.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const j=yield k._initialize(p);yield j.initialized(),j.resetRedirect(),function Hl(){cs.clear()}(),yield k._originValidation(p);const X=function na(y,p,m=null){return{type:p,eventId:m,urlResponse:null,sessionId:zp(),postBody:null,tenantId:y.tenantId,error:Te(y,"no-auth-event")}}(p,b,D);yield function Xg(y,p){return qh()._set(Fc(y),p)}(p,X);const Pe=yield function Yg(y,p,m){return dd.apply(this,arguments)}(p,X,m),We=yield function dv(y){const{cordova:p}=Pc();return new Promise(m=>{p.plugins.browsertab.isAvailable(b=>{let D=null;b?p.plugins.browsertab.openUrl(y):D=p.InAppBrowser.open(y,function Xt(y=(0,O.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),m(D)})})}(Pe);return function Nc(y,p,m){return Zl.apply(this,arguments)}(p,j,We)})()}_isIframeWebStorageSupported(p,m){throw new Error("Method not implemented.")}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function $h(y){return Oa.apply(this,arguments)}(p)),this.originValidationPromises[m]}attachCallbackListeners(p,m){const{universalLinks:b,handleOpenURL:D,BuildInfo:k}=Pc(),j=setTimeout((0,u.Z)(function*(){yield Gh(p),m.onEvent(qp())}),500),X=function(){var st=(0,u.Z)(function*(at){clearTimeout(j);const Nn=yield Gh(p);let Uo=null;Nn&&at?.url&&(Uo=function Oc(y,p){var m,b;const D=function Zh(y){const p=Bo(y),m=p.link?decodeURIComponent(p.link):void 0,b=Bo(m).link,D=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return Bo(D).link||D||b||m||y}(p);if(D.includes("/__/auth/callback")){const k=Bo(D),j=k.firebaseError?function Wh(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(k.firebaseError)):null,X=null===(b=null===(m=j?.code)||void 0===m?void 0:m.split("auth/"))||void 0===b?void 0:b[1],Pe=X?Te(X):null;return Pe?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Pe,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:D,postBody:null}}return null}(Nn,at.url)),m.onEvent(Uo||qp())});return function(Nn){return st.apply(this,arguments)}}();typeof b<"u"&&"function"==typeof b.subscribe&&b.subscribe(null,X);const Pe=D,We=`${k.packageName.toLowerCase()}://`;Pc().handleOpenURL=function(){var st=(0,u.Z)(function*(at){if(at.toLowerCase().startsWith(We)&&X({url:at}),"function"==typeof Pe)try{Pe(at)}catch(Nn){console.error(Nn)}});return function(at){return st.apply(this,arguments)}}()}};function qp(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Te("no-auth-event")}}const Zp=1e3;function go(){var y;return(null===(y=self?.location)||void 0===y?void 0:y.protocol)||null}function La(y=(0,O.z$)()){return!("file:"!==go()&&"ionic:"!==go()&&"capacitor:"!==go()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function mv(){try{const y=self.localStorage,p=Sa();if(y)return y.setItem(p,"1"),y.removeItem(p),!function pv(y=(0,O.z$)()){return function Kl(){return(0,O.w1)()&&11===document?.documentMode}()||function fv(y=(0,O.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,O.hl)()}catch{return Kp()&&(0,O.hl)()}return!1}function Kp(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function bd(){return(function yd(){return"http:"===go()||"https:"===go()}()||(0,O.ru)()||La())&&!function vd(){return(0,O.b$)()||(0,O.UG)()}()&&mv()&&!Kp()}function Jg(){return La()&&typeof document<"u"}function Yl(){return(Yl=(0,u.Z)(function*(){return!!Jg()&&new Promise(y=>{const p=setTimeout(()=>{y(!1)},Zp);document.addEventListener("deviceready",()=>{clearTimeout(p),y(!0)})})})).apply(this,arguments)}const Oi={LOCAL:"local",NONE:"none",SESSION:"session"},Lc=ae,Qp="persistence";function Xp(y){return Jp.apply(this,arguments)}function Jp(){return(Jp=(0,u.Z)(function*(y){yield y._initializationPromise;const p=em(),m=H(Qp,y.config.apiKey,y.name);p&&p.setItem(m,y._getPersistence())})).apply(this,arguments)}function em(){var y;try{return(null===(y=function Yp(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const tm=ae;class Pr{constructor(){this.browserResolver=Dn(Yi),this.cordovaResolver=Dn(gd),this.underlyingResolver=null,this._redirectPersistence=Oo,this._completeRedirectFn=ls,this._overrideRedirectResult=Oh}_initialize(p){var m=this;return(0,u.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,m,b,D){var k=this;return(0,u.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._openPopup(p,m,b,D)})()}_openRedirect(p,m,b,D){var k=this;return(0,u.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._openRedirect(p,m,b,D)})()}_isIframeWebStorageSupported(p,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,m)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return Jg()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return tm(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,u.Z)(function*(){if(p.underlyingResolver)return;const m=yield function e_(){return Yl.apply(this,arguments)}();p.underlyingResolver=m?p.cordovaResolver:p.browserResolver})()}}function vi(y){return y.unwrap()}function t_(y){return r_(y)}function r_(y){const{_tokenResponse:p}=y instanceof O.ZR?y.customData:y;if(!p)return null;if(!(y instanceof O.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return rt.credentialFromResult(y);const m=p.providerId;if(!m||m===_e.PASSWORD)return null;let b;switch(m){case _e.GOOGLE:b=ac;break;case _e.FACEBOOK:b=Vu;break;case _e.GITHUB:b=gh;break;case _e.TWITTER:b=dl;break;default:const{oauthIdToken:D,oauthAccessToken:k,oauthTokenSecret:j,pendingToken:X,nonce:Pe}=p;return k||j||D||X?X?m.startsWith("saml.")?ts._create(m,X):Ao._fromParams({providerId:m,signInMethod:m,pendingToken:X,idToken:D,accessToken:k}):new Rs(m).credential({idToken:D,accessToken:k,rawNonce:Pe}):null}return y instanceof O.ZR?b.credentialFromError(y):b.credentialFromResult(y)}function sr(y,p){return p.catch(m=>{throw m instanceof O.ZR&&function n_(y,p){var m;const b=null===(m=p.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===p?.code)p.resolver=new Qh(y,function Tl(y,p){var m;const b=(0,O.m9)(y),D=p;return ae(p.customData.operationType,b,"argument-error"),ae(null===(m=D.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,b,"argument-error"),Fs._fromError(b,D)}(y,p));else if(b){const D=r_(p),k=p;D&&(k.credential=D,k.tenantId=b.tenantId||void 0,k.email=b.email||void 0,k.phoneNumber=b.phoneNumber||void 0)}}(y,m),m}).then(m=>{const D=m.user;return{operationType:m.operationType,credential:t_(m),additionalUserInfo:Gu(m),user:ps.getOrCreate(D)}})}function Kh(y,p){return Yh.apply(this,arguments)}function Yh(){return(Yh=(0,u.Z)(function*(y,p){const m=yield p;return{verificationId:m.verificationId,confirm:b=>sr(y,m.confirm(b))}})).apply(this,arguments)}class Qh{constructor(p,m){this.resolver=m,this.auth=function Ql(y){return y.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return sr(vi(this.auth),this.resolver.resolveSignIn(p))}}class ps{constructor(p){this._delegate=p,this.multiFactor=function Sh(y){const p=(0,O.m9)(y);return is.has(p)||is.set(p,Vs._fromUser(p)),is.get(p)}(p)}static getOrCreate(p){return ps.USER_MAP.has(p)||ps.USER_MAP.set(p,new ps(p)),ps.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var m=this;return(0,u.Z)(function*(){return sr(m.auth,bh(m._delegate,p))})()}linkWithPhoneNumber(p,m){var b=this;return(0,u.Z)(function*(){return Kh(b.auth,function Ol(y,p,m){return Fl.apply(this,arguments)}(b._delegate,p,m))})()}linkWithPopup(p){var m=this;return(0,u.Z)(function*(){return sr(m.auth,function ct(y,p,m){return nd.apply(this,arguments)}(m._delegate,p,Pr))})()}linkWithRedirect(p){var m=this;return(0,u.Z)(function*(){return yield Xp(_n(m.auth)),Cr(m._delegate,p,Pr)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var m=this;return(0,u.Z)(function*(){return sr(m.auth,wh(m._delegate,p))})()}reauthenticateWithPhoneNumber(p,m){return Kh(this.auth,function Ll(y,p,m){return Bl.apply(this,arguments)}(this._delegate,p,m))}reauthenticateWithPopup(p){return sr(this.auth,function Ac(y,p,m){return ss.apply(this,arguments)}(this._delegate,p,Pr))}reauthenticateWithRedirect(p){var m=this;return(0,u.Z)(function*(){return yield Xp(_n(m.auth)),ka(m._delegate,p,Pr)})()}sendEmailVerification(p){return function bl(y,p){return mc.apply(this,arguments)}(this._delegate,p)}unlink(p){var m=this;return(0,u.Z)(function*(){return yield function yh(y,p){return Hr.apply(this,arguments)}(m._delegate,p),m})()}updateEmail(p){return function kr(y,p){return Rn((0,O.m9)(y),p,null)}(this._delegate,p)}updatePassword(p){return function Po(y,p){return Rn((0,O.m9)(y),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function on(y,p){return yi.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function Dp(y,p){return El.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,m){return function $u(y,p,m){return gc.apply(this,arguments)}(this._delegate,p,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ps.USER_MAP=new WeakMap;const Vc=ae;let nm=(()=>{class y{constructor(m,b){if(this.app=m,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:D}=m.options;Vc(D,"invalid-api-key",{appName:m.name}),Vc(D,"invalid-api-key",{appName:m.name});const k=typeof window<"u"?Pr:void 0;this._delegate=b.initialize({options:{persistence:Vo(D,m.name),popupRedirectResolver:k}}),this._delegate._updateErrorMap(Xe),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ps.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,b){!function rc(y,p,m){const b=_n(y);ae(b._canInitEmulator,b,"emulator-config-failed"),ae(/^https?:\/\//.test(p),b,"invalid-emulator-scheme");const D=!!m?.disableWarnings,k=co(p),{host:j,port:X}=function Wt(y){const p=co(y),m=/(\/\/)?([^?#/]+)/.exec(y.substr(p.length));if(!m)return{host:"",port:null};const b=m[2].split("@").pop()||"",D=/^(\[[^\]]+\])(:|$)/.exec(b);if(D){const k=D[1];return{host:k,port:ic(b.substr(k.length+1))}}{const[k,j]=b.split(":");return{host:k,port:ic(j)}}}(p);b.config.emulator={url:`${k}//${j}${null===X?"":`:${X}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:j,port:X,protocol:k.replace(":",""),options:Object.freeze({disableWarnings:D})}),D||function As(){function y(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,m,b)}applyActionCode(m){return function $g(y,p){return ko.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return fc(this._delegate,m)}confirmPasswordReset(m,b){return function Ih(y,p,m){return gl.apply(this,arguments)}(this._delegate,m,b)}createUserWithEmailAndPassword(m,b){var D=this;return(0,u.Z)(function*(){return sr(D._delegate,function Ps(y,p,m){return Mi.apply(this,arguments)}(D._delegate,m,b))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function Ch(y,p){return vl.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function zg(y,p){return"EMAIL_SIGNIN"===wa.parseLink(p)?.operation}(0,m)}getRedirectResult(){var m=this;return(0,u.Z)(function*(){Vc(bd(),m._delegate,"operation-not-supported-in-this-environment");const b=yield function $n(y,p){return po.apply(this,arguments)}(m._delegate,Pr);return b?sr(m._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function Wp(y,p){_n(y)._logFramework(p)}(this._delegate,m)}onAuthStateChanged(m,b,D){const{next:k,error:j,complete:X}=Uc(m,b,D);return this._delegate.onAuthStateChanged(k,j,X)}onIdTokenChanged(m,b,D){const{next:k,error:j,complete:X}=Uc(m,b,D);return this._delegate.onIdTokenChanged(k,j,X)}sendSignInLinkToEmail(m,b){return function pc(y,p,m){return _l.apply(this,arguments)}(this._delegate,m,b)}sendPasswordResetEmail(m,b){return function ml(y,p,m){return ni.apply(this,arguments)}(this._delegate,m,b||void 0)}setPersistence(m){var b=this;return(0,u.Z)(function*(){let D;switch(function Bc(y,p){Lc(Object.values(Oi).includes(p),y,"invalid-persistence-type"),(0,O.b$)()?Lc(p!==Oi.SESSION,y,"unsupported-persistence-type"):(0,O.UG)()?Lc(p===Oi.NONE,y,"unsupported-persistence-type"):Kp()?Lc(p===Oi.NONE||p===Oi.LOCAL&&(0,O.hl)(),y,"unsupported-persistence-type"):Lc(p===Oi.NONE||mv(),y,"unsupported-persistence-type")}(b._delegate,m),m){case Oi.SESSION:D=Oo;break;case Oi.LOCAL:D=(yield Dn(Gs)._isAvailable())?Gs:js;break;case Oi.NONE:D=Jr;break;default:return Ce("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(D)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return sr(this._delegate,function Ir(y){return Ea.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return sr(this._delegate,uc(this._delegate,m))}signInWithCustomToken(m){return sr(this._delegate,function ge(y,p){return $t.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,b){return sr(this._delegate,function xh(y,p,m){return uc((0,O.m9)(y),mh.credential(p,m))}(this._delegate,m,b))}signInWithEmailLink(m,b){return sr(this._delegate,function or(y,p,m){return xa.apply(this,arguments)}(this._delegate,m,b))}signInWithPhoneNumber(m,b){return Kh(this._delegate,function Lp(y,p,m){return Zs.apply(this,arguments)}(this._delegate,m,b))}signInWithPopup(m){var b=this;return(0,u.Z)(function*(){return Vc(bd(),b._delegate,"operation-not-supported-in-this-environment"),sr(b._delegate,function Ra(y,p,m){return Dc.apply(this,arguments)}(b._delegate,m,Pr))})()}signInWithRedirect(m){var b=this;return(0,u.Z)(function*(){return Vc(bd(),b._delegate,"operation-not-supported-in-this-environment"),yield Xp(b._delegate),Fh(b._delegate,m,Pr)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function Si(y,p){return ho.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=Oi,y})();function Uc(y,p,m){let b=y;"function"!=typeof y&&({next:b,error:p,complete:m}=y);const D=b;return{next:j=>D(j&&ps.getOrCreate(j)),error:p,complete:m}}function Vo(y,p){const m=function gv(y,p){const m=em();if(!m)return[];const b=H(Qp,y,p);switch(m.getItem(b)){case Oi.NONE:return[Jr];case Oi.LOCAL:return[Gs,Oo];case Oi.SESSION:return[Oo];default:return[]}}(y,p);if(typeof self<"u"&&!m.includes(Gs)&&m.push(Gs),typeof window<"u")for(const b of[js,Oo])m.includes(b)||m.push(b);return m.includes(Jr)||m.push(Jr),m}class jc{constructor(){this.providerId="phone",this._delegate=new rt(vi(te.Z.auth()))}static credential(p,m){return rt.credential(p,m)}verifyPhoneNumber(p,m){return this._delegate.verifyPhoneNumber(p,m)}unwrap(){return this._delegate}}jc.PHONE_SIGN_IN_METHOD=rt.PHONE_SIGN_IN_METHOD,jc.PROVIDER_ID=rt.PROVIDER_ID;const Xl=ae;class i_{constructor(p,m,b=te.Z.app()){var D;Xl(null===(D=b.options)||void 0===D?void 0:D.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new ed(p,m,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function s_(y){y.INTERNAL.registerComponent(new we.wA("auth-compat",p=>{const m=p.getProvider("app-compat").getImmediate(),b=p.getProvider("auth");return new nm(m,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Y_EMAIL_SIGNIN,PASSWORD_RESET:Y_PASSWORD_RESET,RECOVER_EMAIL:Y_RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Y_REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Y_VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Y_VERIFY_EMAIL}},EmailAuthProvider:mh,FacebookAuthProvider:Vu,GithubAuthProvider:gh,GoogleAuthProvider:ac,OAuthProvider:Rs,SAMLAuthProvider:ul,PhoneAuthProvider:jc,PhoneMultiFactorGenerator:ld,RecaptchaVerifier:i_,TwitterAuthProvider:dl,Auth:nm,AuthCredential:lo,Error:O.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.4.2")}(te.Z)},5861:(It,ke,L)=>{function u(O,le,ue,re,we,xe,_e){try{var z=O[xe](_e),$=z.value}catch(Y){return void ue(Y)}z.done?le($):Promise.resolve($).then(re,we)}function te(O){return function(){var le=this,ue=arguments;return new Promise(function(re,we){var xe=O.apply(le,ue);function _e($){u(xe,re,we,_e,z,"next",$)}function z($){u(xe,re,we,_e,z,"throw",$)}_e(void 0)})}}L.d(ke,{Z:()=>te})},7582:(It,ke,L)=>{function le(he,pe){var ve={};for(var de in he)Object.prototype.hasOwnProperty.call(he,de)&&pe.indexOf(de)<0&&(ve[de]=he[de]);if(null!=he&&"function"==typeof Object.getOwnPropertySymbols){var Me=0;for(de=Object.getOwnPropertySymbols(he);Me<de.length;Me++)pe.indexOf(de[Me])<0&&Object.prototype.propertyIsEnumerable.call(he,de[Me])&&(ve[de[Me]]=he[de[Me]])}return ve}function Y(he,pe,ve,de){return new(ve||(ve=Promise))(function(Ae,mt){function gt(Jt){try{vt(de.next(Jt))}catch(Sn){mt(Sn)}}function Tn(Jt){try{vt(de.throw(Jt))}catch(Sn){mt(Sn)}}function vt(Jt){Jt.done?Ae(Jt.value):function Me(Ae){return Ae instanceof ve?Ae:new ve(function(mt){mt(Ae)})}(Jt.value).then(gt,Tn)}vt((de=de.apply(he,pe||[])).next())})}function Le(he){return this instanceof Le?(this.v=he,this):new Le(he)}function Ce(he,pe,ve){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Me,de=ve.apply(he,pe||[]),Ae=[];return Me={},mt("next"),mt("throw"),mt("return"),Me[Symbol.asyncIterator]=function(){return this},Me;function mt(In){de[In]&&(Me[In]=function(qn){return new Promise(function(vr,Un){Ae.push([In,qn,vr,Un])>1||gt(In,qn)})})}function gt(In,qn){try{!function Tn(In){In.value instanceof Le?Promise.resolve(In.value.v).then(vt,Jt):Sn(Ae[0][2],In)}(de[In](qn))}catch(vr){Sn(Ae[0][3],vr)}}function vt(In){gt("next",In)}function Jt(In){gt("throw",In)}function Sn(In,qn){In(qn),Ae.shift(),Ae.length&&gt(Ae[0][0],Ae[0][1])}}function Ze(he){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ve,pe=he[Symbol.asyncIterator];return pe?pe.call(he):(he=function ht(he){var pe="function"==typeof Symbol&&Symbol.iterator,ve=pe&&he[pe],de=0;if(ve)return ve.call(he);if(he&&"number"==typeof he.length)return{next:function(){return he&&de>=he.length&&(he=void 0),{value:he&&he[de++],done:!he}}};throw new TypeError(pe?"Object is not iterable.":"Symbol.iterator is not defined.")}(he),ve={},de("next"),de("throw"),de("return"),ve[Symbol.asyncIterator]=function(){return this},ve);function de(Ae){ve[Ae]=he[Ae]&&function(mt){return new Promise(function(gt,Tn){!function Me(Ae,mt,gt,Tn){Promise.resolve(Tn).then(function(vt){Ae({value:vt,done:gt})},mt)}(gt,Tn,(mt=he[Ae](mt)).done,mt.value)})}}}L.d(ke,{FC:()=>Ce,KL:()=>Ze,_T:()=>le,mG:()=>Y,qq:()=>Le}),"function"==typeof SuppressedError&&SuppressedError}},It=>{It(It.s=5771)}]);